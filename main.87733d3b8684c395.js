(self.webpackChunkvect=self.webpackChunkvect||[]).push([[179],{6078:(S,U,p)=>{"use strict";function _(n){return"function"==typeof n}function C(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const M=C(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function A(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class w{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(_(i))try{i()}catch(o){t=o instanceof M?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{I(o)}catch(s){t=t??[],s instanceof M?t=[...t,...s.errors]:t.push(s)}}if(t)throw new M(t)}}add(t){var e;if(t&&t!==this)if(this.closed)I(t);else{if(t instanceof w){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&A(e,t)}remove(t){const{_finalizers:e}=this;e&&A(e,t),t instanceof w&&t._removeParent(this)}}w.EMPTY=(()=>{const n=new w;return n.closed=!0,n})();const T=w.EMPTY;function P(n){return n instanceof w||n&&"closed"in n&&_(n.remove)&&_(n.add)&&_(n.unsubscribe)}function I(n){_(n)?n():n.unsubscribe()}const L={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},F={setTimeout(n,t,...e){const{delegate:i}=F;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=F;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function k(n){F.setTimeout(()=>{const{onUnhandledError:t}=L;if(!t)throw n;t(n)})}function V(){}const X=ve("C",void 0,void 0);function ve(n,t,e){return{kind:n,value:t,error:e}}let oe=null;function ye(n){if(L.useDeprecatedSynchronousErrorHandling){const t=!oe;if(t&&(oe={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=oe;if(oe=null,e)throw i}}else n()}class xe extends w{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,P(t)&&t.add(this)):this.destination=ft}static create(t,e,i){return new We(t,e,i)}next(t){this.isStopped?at(function Te(n){return ve("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?at(function J(n){return ve("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?at(X,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Se=Function.prototype.bind;function ke(n,t){return Se.call(n,t)}class Xe{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){st(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){st(i)}else st(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){st(e)}}}class We extends xe{constructor(t,e,i){let r;if(super(),_(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&L.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&ke(t.next,o),error:t.error&&ke(t.error,o),complete:t.complete&&ke(t.complete,o)}):r=t}this.destination=new Xe(r)}}function st(n){L.useDeprecatedSynchronousErrorHandling?function me(n){L.useDeprecatedSynchronousErrorHandling&&oe&&(oe.errorThrown=!0,oe.error=n)}(n):k(n)}function at(n,t){const{onStoppedNotification:e}=L;e&&F.setTimeout(()=>e(n,t))}const ft={closed:!0,next:V,error:function ot(n){throw n},complete:V},Nt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Vt(n){return n}function kn(n){return 0===n.length?Vt:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Jt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function df(n){return n&&n instanceof xe||function ga(n){return n&&_(n.next)&&_(n.error)&&_(n.complete)}(n)&&P(n)}(e)?e:new We(e,i,r);return ye(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=ma(i))((r,o)=>{const s=new We({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Nt](){return this}pipe(...e){return kn(e)(this)}toPromise(e){return new(e=ma(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function ma(n){var t;return null!==(t=n??L.Promise)&&void 0!==t?t:Promise}const uf=C(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Et=(()=>{class n extends Jt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new sc(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new uf}next(e){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ye(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?T:(this.currentObservers=null,o.push(e),new w(()=>{this.currentObservers=null,A(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Jt;return e.source=this,e}}return n.create=(t,e)=>new sc(t,e),n})();class sc extends Et{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:T}}function ac(n){return _(n?.lift)}function Le(n){return t=>{if(ac(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ze(n,t,e,i,r){return new ht(n,t,e,i,r)}class ht extends xe{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function tt(n,t){return Le((e,i)=>{let r=0;e.subscribe(Ze(i,o=>{i.next(n.call(t,o,r++))}))})}function jr(n){return this instanceof jr?(this.v=n,this):new jr(n)}function cg(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function ur(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const U0=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function fT(n){return _(n?.then)}function pT(n){return _(n[Nt])}function mT(n){return Symbol.asyncIterator&&_(n?.[Symbol.asyncIterator])}function gT(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const _T=function W8(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function bT(n){return _(n?.[_T])}function vT(n){return function hf(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(f){return new Promise(function(m,v){o.push([h,f,m,v])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof jr?Promise.resolve(h.value.v).then(l,d):u(o[0][2],h)}(i[h](f))}catch(m){u(o[0][3],m)}}function l(h){a("next",h)}function d(h){a("throw",h)}function u(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield jr(e.read());if(r)return yield jr(void 0);yield yield jr(i)}}finally{e.releaseLock()}})}function yT(n){return _(n?.getReader)}function Wr(n){if(n instanceof Jt)return n;if(null!=n){if(pT(n))return function $8(n){return new Jt(t=>{const e=n[Nt]();if(_(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(U0(n))return function Y8(n){return new Jt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(fT(n))return function X8(n){return new Jt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,k)})}(n);if(mT(n))return xT(n);if(bT(n))return function q8(n){return new Jt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(yT(n))return function Z8(n){return xT(vT(n))}(n)}throw gT(n)}function xT(n){return new Jt(t=>{(function K8(n,t){var e,i,r,o;return function _a(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(d){try{l(i.next(d))}catch(u){s(u)}}function c(d){try{l(i.throw(d))}catch(u){s(u)}}function l(d){d.done?o(d.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(d.value).then(a,c)}l((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=cg(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function va(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function hr(n,t,e=1/0){return _(t)?hr((i,r)=>tt((o,s)=>t(i,o,r,s))(Wr(n(i,r))),e):("number"==typeof t&&(e=t),Le((i,r)=>function Q8(n,t,e,i,r,o,s,a){const c=[];let l=0,d=0,u=!1;const h=()=>{u&&!c.length&&!l&&t.complete()},f=v=>l<i?m(v):c.push(v),m=v=>{o&&t.next(v),l++;let g=!1;Wr(e(v,d++)).subscribe(Ze(t,b=>{r?.(b),o?f(b):t.next(b)},()=>{g=!0},void 0,()=>{if(g)try{for(l--;c.length&&l<i;){const b=c.shift();s?va(t,s,()=>m(b)):m(b)}h()}catch(b){t.error(b)}}))};return n.subscribe(Ze(t,f,()=>{u=!0,h()})),()=>{a?.()}}(i,r,n,e)))}function Id(n=1/0){return hr(Vt,n)}const Ho=new Jt(n=>n.complete());function wT(n){return n&&_(n.schedule)}function V0(n){return n[n.length-1]}function CT(n){return _(V0(n))?n.pop():void 0}function ff(n){return wT(V0(n))?n.pop():void 0}function MT(n,t=0){return Le((e,i)=>{e.subscribe(Ze(i,r=>va(i,n,()=>i.next(r),t),()=>va(i,n,()=>i.complete(),t),r=>va(i,n,()=>i.error(r),t)))})}function ST(n,t=0){return Le((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function ET(n,t){if(!n)throw new Error("Iterable cannot be null");return new Jt(e=>{va(e,t,()=>{const i=n[Symbol.asyncIterator]();va(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function nr(n,t){return t?function sG(n,t){if(null!=n){if(pT(n))return function tG(n,t){return Wr(n).pipe(ST(t),MT(t))}(n,t);if(U0(n))return function iG(n,t){return new Jt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(fT(n))return function nG(n,t){return Wr(n).pipe(ST(t),MT(t))}(n,t);if(mT(n))return ET(n,t);if(bT(n))return function rG(n,t){return new Jt(e=>{let i;return va(e,t,()=>{i=n[_T](),va(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>_(i?.return)&&i.return()})}(n,t);if(yT(n))return function oG(n,t){return ET(vT(n),t)}(n,t)}throw gT(n)}(n,t):Wr(n)}function So(...n){const t=ff(n),e=function eG(n,t){return"number"==typeof V0(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Wr(i[0]):Id(e)(nr(i,t)):Ho}class uo extends Et{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function Wt(...n){return nr(n,ff(n))}function dg(n={}){const{connector:t=(()=>new Et),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,d=!1,u=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,d=u=!1},m=()=>{const v=s;f(),v?.unsubscribe()};return Le((v,g)=>{l++,!u&&!d&&h();const b=c=c??t();g.add(()=>{l--,0===l&&!u&&!d&&(a=z0(m,r))}),b.subscribe(g),!s&&l>0&&(s=new We({next:y=>b.next(y),error:y=>{u=!0,h(),a=z0(f,e,y),b.error(y)},complete:()=>{d=!0,h(),a=z0(f,i),b.complete()}}),Wr(v).subscribe(s))})(o)}}function z0(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new We({next:()=>{i.unsubscribe(),n()}});return Wr(t(...e)).subscribe(i)}function ho(n,t){return Le((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Ze(i,c=>{r?.unsubscribe();let l=0;const d=o++;Wr(n(c,d)).subscribe(r=Ze(i,u=>i.next(t?t(c,u,d,l++):u),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function pf(n,t=Vt){return n=n??aG,Le((e,i)=>{let r,o=!0;e.subscribe(Ze(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function aG(n,t){return n===t}function Zn(n){for(let t in n)if(n[t]===Zn)return t;throw Error("Could not find renamed property on target object.")}function ug(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function ir(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ir).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function H0(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const cG=Zn({__forward_ref__:Zn});function Kn(n){return n.__forward_ref__=Kn,n.toString=function(){return ir(this())},n}function on(n){return G0(n)?n():n}function G0(n){return"function"==typeof n&&n.hasOwnProperty(cG)&&n.__forward_ref__===Kn}function j0(n){return n&&!!n.\u0275providers}const AT="https://g.co/ng/security#xss";class ze extends Error{constructor(t,e){super(function hg(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function sn(n){return"string"==typeof n?n:null==n?"":String(n)}function W0(n,t){throw new ze(-201,!1)}function Go(n,t){null==n&&function en(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Fe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Pt(n){return{providers:n.providers||[],imports:n.imports||[]}}function fg(n){return TT(n,mg)||TT(n,DT)}function TT(n,t){return n.hasOwnProperty(t)?n[t]:null}function pg(n){return n&&(n.hasOwnProperty($0)||n.hasOwnProperty(gG))?n[$0]:null}const mg=Zn({\u0275prov:Zn}),$0=Zn({\u0275inj:Zn}),DT=Zn({ngInjectableDef:Zn}),gG=Zn({ngInjectorDef:Zn});var En=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(En||{});let Y0;function fo(n){const t=Y0;return Y0=n,t}function PT(n,t,e){const i=fg(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&En.Optional?null:void 0!==t?t:void W0(ir(n))}const ci=globalThis;class qe{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Fe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const mf={},Q0="__NG_DI_FLAG__",gg="ngTempTokenPath",vG=/\n/gm,RT="__source";let Pd;function uc(n){const t=Pd;return Pd=n,t}function wG(n,t=En.Default){if(void 0===Pd)throw new ze(-203,!1);return null===Pd?PT(n,void 0,t):Pd.get(n,t&En.Optional?null:void 0,t)}function le(n,t=En.Default){return(function IT(){return Y0}()||wG)(on(n),t)}function lt(n,t=En.Default){return le(n,_g(t))}function _g(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function J0(n){const t=[];for(let e=0;e<n.length;e++){const i=on(n[e]);if(Array.isArray(i)){if(0===i.length)throw new ze(900,!1);let r,o=En.Default;for(let s=0;s<i.length;s++){const a=i[s],c=CG(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}t.push(le(r,o))}else t.push(le(i))}return t}function gf(n,t){return n[Q0]=t,n.prototype[Q0]=t,n}function CG(n){return n[Q0]}function ya(n){return{toString:n}.toString()}var bg=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(bg||{}),jo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(jo||{});const Vs={},zn=[],vg=Zn({\u0275cmp:Zn}),ex=Zn({\u0275dir:Zn}),tx=Zn({\u0275pipe:Zn}),LT=Zn({\u0275mod:Zn}),xa=Zn({\u0275fac:Zn}),_f=Zn({__NG_ELEMENT_ID__:Zn}),FT=Zn({__NG_ENV_ID__:Zn});function NT(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function nx(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];UT(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function BT(n){return 3===n||4===n||6===n}function UT(n){return 64===n.charCodeAt(0)}function bf(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||VT(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function VT(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const zT="ng-template";function EG(n,t,e){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(e&&"class"===o&&-1!==NT(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function HT(n){return 4===n.type&&n.value!==zT}function AG(n,t,e){return t===(4!==n.type||e?n.value:zT)}function TG(n,t,e){let i=4;const r=n.attrs||[],o=function PG(n){for(let t=0;t<n.length;t++)if(BT(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!AG(n,c,e)||""===c&&1===t.length){if(gs(i))return!1;s=!0}}else{const l=8&i?c:t[++a];if(8&i&&null!==n.attrs){if(!EG(n.attrs,l,e)){if(gs(i))return!1;s=!0}continue}const u=DG(8&i?"class":c,r,HT(n),e);if(-1===u){if(gs(i))return!1;s=!0;continue}if(""!==l){let h;h=u>o?"":r[u+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==NT(f,l,0)||2&i&&l!==h){if(gs(i))return!1;s=!0}}}}else{if(!s&&!gs(i)&&!gs(c))return!1;if(s&&gs(c))continue;s=!1,i=c|1&i}}return gs(i)||s}function gs(n){return 0==(1&n)}function DG(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function OG(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function GT(n,t,e=!1){for(let i=0;i<t.length;i++)if(TG(n,t[i],e))return!0;return!1}function RG(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function jT(n,t){return n?":not("+t.trim()+")":t}function kG(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!gs(s)&&(t+=jT(o,r),r=""),i=s,o=o||!gs(i);e++}return""!==r&&(t+=jT(o,r)),t}function Dt(n){return ya(()=>{const t=$T(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===bg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||jo.Emulated,styles:n.styles||zn,_:null,schemas:n.schemas||null,tView:null,id:""};YT(e);const i=n.dependencies;return e.directiveDefs=yg(i,!1),e.pipeDefs=yg(i,!0),e.id=function HG(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(e),e})}function BG(n){return Ln(n)||vr(n)}function UG(n){return null!==n}function Lt(n){return ya(()=>({type:n.type,bootstrap:n.bootstrap||zn,declarations:n.declarations||zn,imports:n.imports||zn,exports:n.exports||zn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function WT(n,t){if(null==n)return Vs;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}function De(n){return ya(()=>{const t=$T(n);return YT(t),t})}function $r(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ln(n){return n[vg]||null}function vr(n){return n[ex]||null}function Yr(n){return n[tx]||null}function Ao(n,t){const e=n[LT]||null;if(!e&&!0===t)throw new Error(`Type ${ir(n)} does not have '\u0275mod' property.`);return e}function $T(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Vs,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||zn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:WT(n.inputs,t),outputs:WT(n.outputs)}}function YT(n){n.features?.forEach(t=>t(n))}function yg(n,t){if(!n)return null;const e=t?Yr:BG;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(UG)}const Ai=0,At=1,fn=2,yi=3,_s=4,vf=5,Rr=6,Rd=7,Li=8,hc=9,kd=10,an=11,yf=12,XT=13,Ld=14,Fi=15,xf=16,Fd=17,zs=18,wf=19,qT=20,fc=21,wa=22,Cf=23,Mf=24,An=25,ix=1,ZT=2,Hs=7,Nd=9,yr=11;function po(n){return Array.isArray(n)&&"object"==typeof n[ix]}function Xr(n){return Array.isArray(n)&&!0===n[ix]}function rx(n){return 0!=(4&n.flags)}function il(n){return n.componentOffset>-1}function wg(n){return 1==(1&n.flags)}function bs(n){return!!n.template}function ox(n){return 0!=(512&n[fn])}function rl(n,t){return n.hasOwnProperty(xa)?n[xa]:null}let xr=null,Cg=!1;function Wo(n){const t=xr;return xr=n,t}const JT={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function tD(n){if(!Ef(n)||n.dirty){if(!n.producerMustRecompute(n)&&!rD(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function iD(n){n.dirty=!0,function nD(n){if(void 0===n.liveConsumerNode)return;const t=Cg;Cg=!0;try{for(const e of n.liveConsumerNode)e.dirty||iD(e)}finally{Cg=t}}(n),n.consumerMarkedDirty?.(n)}function ax(n){return n&&(n.nextProducerIndex=0),Wo(n)}function cx(n,t){if(Wo(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Ef(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Mg(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function rD(n){Bd(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(tD(e),i!==e.version))return!0}return!1}function oD(n){if(Bd(n),Ef(n))for(let t=0;t<n.producerNode.length;t++)Mg(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Mg(n,t){if(function aD(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Bd(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Mg(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Bd(r),r.producerIndexOfThis[i]=t}}function Ef(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Bd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let cD=null;const hD=()=>{},t6=(()=>({...JT,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:hD}))();class n6{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function jn(){return fD}function fD(n){return n.type.prototype.ngOnChanges&&(n.setInput=r6),i6}function i6(){const n=mD(this),t=n?.current;if(t){const e=n.previous;if(e===Vs)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function r6(n,t,e,i){const r=this.declaredInputs[e],o=mD(n)||function o6(n,t){return n[pD]=t}(n,{previous:Vs,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[r];s[r]=new n6(c&&c.currentValue,t,a===Vs),n[i]=t}jn.ngInherit=!0;const pD="__ngSimpleChanges__";function mD(n){return n[pD]||null}const Gs=function(n,t,e){},gD="svg";function li(n){for(;Array.isArray(n);)n=n[Ai];return n}function Sg(n,t){return li(t[n])}function mo(n,t){return li(t[n.index])}function bD(n,t){return n.data[t]}function Ud(n,t){return n[t]}function To(n,t){const e=t[n];return po(e)?e:e[Ai]}function mc(n,t){return null==t?null:n[t]}function vD(n){n[Fd]=0}function u6(n){1024&n[fn]||(n[fn]|=1024,xD(n,1))}function yD(n){1024&n[fn]&&(n[fn]&=-1025,xD(n,-1))}function xD(n,t){let e=n[yi];if(null===e)return;e[vf]+=t;let i=e;for(e=e[yi];null!==e&&(1===t&&1===i[vf]||-1===t&&0===i[vf]);)e[vf]+=t,i=e,e=e[yi]}const tn={lFrame:OD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function MD(){return tn.bindingsEnabled}function Vd(){return null!==tn.skipHydrationRootTNode}function Je(){return tn.lFrame.lView}function Fn(){return tn.lFrame.tView}function zi(n){return tn.lFrame.contextLView=n,n[Li]}function Hi(n){return tn.lFrame.contextLView=null,n}function wr(){let n=SD();for(;null!==n&&64===n.type;)n=n.parent;return n}function SD(){return tn.lFrame.currentTNode}function js(n,t){const e=tn.lFrame;e.currentTNode=n,e.isParent=t}function fx(){return tn.lFrame.isParent}function px(){tn.lFrame.isParent=!1}function qr(){const n=tn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function zd(){return tn.lFrame.bindingIndex++}function Ma(n){const t=tn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function C6(n,t){const e=tn.lFrame;e.bindingIndex=e.bindingRootIndex=n,mx(t)}function mx(n){tn.lFrame.currentDirectiveIndex=n}function gx(n){const t=tn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function DD(){return tn.lFrame.currentQueryIndex}function _x(n){tn.lFrame.currentQueryIndex=n}function S6(n){const t=n[At];return 2===t.type?t.declTNode:1===t.type?n[Rr]:null}function ID(n,t,e){if(e&En.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&En.Host||(r=S6(o),null===r||(o=o[Ld],10&r.type))););if(null===r)return!1;t=r,n=o}const i=tn.lFrame=PD();return i.currentTNode=t,i.lView=n,!0}function bx(n){const t=PD(),e=n[At];tn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function PD(){const n=tn.lFrame,t=null===n?null:n.child;return null===t?OD(n):t}function OD(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function RD(){const n=tn.lFrame;return tn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const kD=RD;function vx(){const n=RD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zr(){return tn.lFrame.selectedIndex}function ol(n){tn.lFrame.selectedIndex=n}function wi(){const n=tn.lFrame;return bD(n.tView,n.selectedIndex)}function yx(){tn.lFrame.currentNamespace=gD}let ND=!0;function Eg(){return ND}function gc(n){ND=n}function Ag(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),c&&(n.viewHooks??=[]).push(-e,c),l&&((n.viewHooks??=[]).push(e,l),(n.viewCheckHooks??=[]).push(e,l)),null!=d&&(n.destroyHooks??=[]).push(e,d)}}function Tg(n,t,e){BD(n,t,3,e)}function Dg(n,t,e,i){(3&n[fn])===e&&BD(n,t,e,i)}function xx(n,t){let e=n[fn];(3&e)===t&&(e&=8191,e+=1,n[fn]=e)}function BD(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let c=void 0!==i?65535&n[Fd]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=i&&a>=i)break}else t[c]<0&&(n[Fd]+=65536),(a<o||-1==o)&&(P6(n,e,t,c),n[Fd]=(4294901760&n[Fd])+c+2),c++}function UD(n,t){Gs(4,n,t);const e=Wo(null);try{t.call(n)}finally{Wo(e),Gs(5,n,t)}}function P6(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[fn]>>13<n[Fd]>>16&&(3&n[fn])===t&&(n[fn]+=8192,UD(a,o)):UD(a,o)}const Hd=-1;class Tf{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Cx(n){return n!==Hd}function Df(n){return 32767&n}function If(n,t){let e=function L6(n){return n>>16}(n),i=t;for(;e>0;)i=i[Ld],e--;return i}let Mx=!0;function Ig(n){const t=Mx;return Mx=n,t}const VD=255,zD=5;let F6=0;const Ws={};function Pg(n,t){const e=HD(n,t);if(-1!==e)return e;const i=t[At];i.firstCreatePass&&(n.injectorIndex=t.length,Sx(i.data,n),Sx(t,null),Sx(i.blueprint,null));const r=Og(n,t),o=n.injectorIndex;if(Cx(r)){const s=Df(r),a=If(r,t),c=a[At].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=r,o}function Sx(n,t){n.push(0,0,0,0,0,0,0,0,t)}function HD(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Og(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=qD(r),null===i)return Hd;if(e++,r=r[Ld],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Hd}function Ex(n,t,e){!function N6(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(_f)&&(i=e[_f]),null==i&&(i=e[_f]=F6++);const r=i&VD;t.data[n+(r>>zD)]|=1<<r}(n,t,e)}function GD(n,t,e){if(e&En.Optional||void 0!==n)return n;W0()}function jD(n,t,e,i){if(e&En.Optional&&void 0===i&&(i=null),!(e&(En.Self|En.Host))){const r=n[hc],o=fo(void 0);try{return r?r.get(t,i,e&En.Optional):PT(t,i,e&En.Optional)}finally{fo(o)}}return GD(i,0,e)}function WD(n,t,e,i=En.Default,r){if(null!==n){if(2048&t[fn]&&!(i&En.Self)){const s=function G6(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[fn]&&!(512&s[fn]);){const a=$D(o,s,e,i|En.Self,Ws);if(a!==Ws)return a;let c=o.parent;if(!c){const l=s[qT];if(l){const d=l.get(e,Ws,i);if(d!==Ws)return d}c=qD(s),s=s[Ld]}o=c}return r}(n,t,e,i,Ws);if(s!==Ws)return s}const o=$D(n,t,e,i,Ws);if(o!==Ws)return o}return jD(t,e,i,r)}function $D(n,t,e,i,r){const o=function V6(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(_f)?n[_f]:void 0;return"number"==typeof t?t>=0?t&VD:H6:t}(e);if("function"==typeof o){if(!ID(t,n,i))return i&En.Host?GD(r,0,i):jD(t,e,i,r);try{let s;if(s=o(i),null!=s||i&En.Optional)return s;W0()}finally{kD()}}else if("number"==typeof o){let s=null,a=HD(n,t),c=Hd,l=i&En.Host?t[Fi][Rr]:null;for((-1===a||i&En.SkipSelf)&&(c=-1===a?Og(n,t):t[a+8],c!==Hd&&XD(i,!1)?(s=t[At],a=Df(c),t=If(c,t)):a=-1);-1!==a;){const d=t[At];if(YD(o,a,d.data)){const u=U6(a,t,e,s,i,l);if(u!==Ws)return u}c=t[a+8],c!==Hd&&XD(i,t[At].data[a+8]===l)&&YD(o,a,t)?(s=d,a=Df(c),t=If(c,t)):a=-1}}return r}function U6(n,t,e,i,r,o){const s=t[At],a=s.data[n+8],d=Rg(a,s,e,null==i?il(a)&&Mx:i!=s&&0!=(3&a.type),r&En.Host&&o===a);return null!==d?sl(t,s,d,a):Ws}function Rg(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,c=n.directiveStart,d=o>>20,h=r?a+d:n.directiveEnd;for(let f=i?a:a+d;f<h;f++){const m=s[f];if(f<c&&e===m||f>=c&&m.type===e)return f}if(r){const f=s[c];if(f&&bs(f)&&f.type===e)return c}return null}function sl(n,t,e,i){let r=n[e];const o=t.data;if(function O6(n){return n instanceof Tf}(r)){const s=r;s.resolving&&function lG(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new ze(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Xn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():sn(n)}(o[e]));const a=Ig(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?fo(s.injectImpl):null;ID(n,i,En.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function I6(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=fD(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==l&&fo(l),Ig(a),s.resolving=!1,kD()}}return r}function YD(n,t,e){return!!(e[t+(n>>zD)]&1<<n)}function XD(n,t){return!(n&En.Self||n&En.Host&&t)}class Kr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return WD(this._tNode,this._lView,t,_g(i),e)}}function H6(){return new Kr(wr(),Je())}function Ct(n){return ya(()=>{const t=n.prototype.constructor,e=t[xa]||Ax(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[xa]||Ax(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Ax(n){return G0(n)?()=>{const t=Ax(on(n));return t&&t()}:rl(n)}function qD(n){const t=n[At],e=t.type;return 2===e?t.declTNode:1===e?n[Rr]:null}function al(n){return function B6(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(BT(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(wr(),n)}const jd="__parameters__";function $d(n,t,e){return ya(()=>{const i=function Tx(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,d){const u=c.hasOwnProperty(jd)?c[jd]:Object.defineProperty(c,jd,{value:[]})[jd];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(s),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Xd(n,t){n.forEach(e=>Array.isArray(e)?Xd(e,t):t(e))}function KD(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function kg(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Rf(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Do(n,t,e){let i=qd(n,t);return i>=0?n[1|i]=e:(i=~i,function Z6(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Dx(n,t){const e=qd(n,t);if(e>=0)return n[1|e]}function qd(n,t){return function QD(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const cl=gf($d("Optional"),8),kf=gf($d("SkipSelf"),4);function Vg(n){return 128==(128&n.flags)}var _c=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(_c||{});const kx=new Map;let yj=0;const Fx="__ngContext__";function kr(n,t){po(t)?(n[Fx]=t[wf],function wj(n){kx.set(n[wf],n)}(t)):n[Fx]=t}let Nx;function Bx(n,t){return Nx(n,t)}function Nf(n){const t=n[yi];return Xr(t)?t[yi]:t}function bI(n){return yI(n[yf])}function vI(n){return yI(n[_s])}function yI(n){for(;null!==n&&!Xr(n);)n=n[_s];return n}function Qd(n,t,e,i,r){if(null!=i){let o,s=!1;Xr(i)?o=i:po(i)&&(s=!0,i=i[Ai]);const a=li(i);0===n&&null!==e?null==r?MI(t,e,a):ll(t,e,a,r||null,!0):1===n&&null!==e?ll(t,e,a,r||null,!0):2===n?function Yg(n,t,e){const i=Wg(n,t);i&&function zj(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function jj(n,t,e,i,r){const o=e[Hs];o!==li(e)&&Qd(t,n,i,o,r);for(let a=yr;a<e.length;a++){const c=e[a];Uf(c[At],c,n,t,i,o)}}(t,n,o,e,r)}}function Gg(n,t,e){return n.createElement(t,e)}function wI(n,t){const e=n[Nd],i=e.indexOf(t);yD(t),e.splice(i,1)}function jg(n,t){if(n.length<=yr)return;const e=yr+t,i=n[e];if(i){const r=i[xf];null!==r&&r!==n&&wI(r,i),t>0&&(n[e-1][_s]=i[_s]);const o=kg(n,yr+t);!function Rj(n,t){Uf(n,t,t[an],2,null,null),t[Ai]=null,t[Rr]=null}(i[At],i);const s=o[zs];null!==s&&s.detachView(o[At]),i[yi]=null,i[_s]=null,i[fn]&=-129}return i}function Vx(n,t){if(!(256&t[fn])){const e=t[an];t[Cf]&&oD(t[Cf]),t[Mf]&&oD(t[Mf]),e.destroyNode&&Uf(n,t,e,3,null,null),function Fj(n){let t=n[yf];if(!t)return zx(n[At],n);for(;t;){let e=null;if(po(t))e=t[yf];else{const i=t[yr];i&&(e=i)}if(!e){for(;t&&!t[_s]&&t!==n;)po(t)&&zx(t[At],t),t=t[yi];null===t&&(t=n),po(t)&&zx(t[At],t),e=t&&t[_s]}t=e}}(t)}}function zx(n,t){if(!(256&t[fn])){t[fn]&=-129,t[fn]|=256,function Vj(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Tf)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Gs(4,a,c);try{c.call(a)}finally{Gs(5,a,c)}}else{Gs(4,r,o);try{o.call(r)}finally{Gs(5,r,o)}}}}}(n,t),function Uj(n,t){const e=n.cleanup,i=t[Rd];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[Rd]=null);const r=t[fc];if(null!==r){t[fc]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[At].type&&t[an].destroy();const e=t[xf];if(null!==e&&Xr(t[yi])){e!==t[yi]&&wI(e,t);const i=t[zs];null!==i&&i.detachView(n)}!function Cj(n){kx.delete(n[wf])}(t)}}function Hx(n,t,e){return function CI(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[Ai];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===jo.None||o===jo.Emulated)return null}return mo(i,e)}}(n,t.parent,e)}function ll(n,t,e,i,r){n.insertBefore(t,e,i,r)}function MI(n,t,e){n.appendChild(t,e)}function SI(n,t,e,i,r){null!==i?ll(n,t,e,i,r):MI(n,t,e)}function Wg(n,t){return n.parentNode(t)}function EI(n,t,e){return TI(n,t,e)}let Gx,Xg,Yx,qg,TI=function AI(n,t,e){return 40&n.type?mo(n,e):null};function $g(n,t,e,i){const r=Hx(n,i,t),o=t[an],a=EI(i.parent||t[Rr],i,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)SI(o,r,e[c],a,!1);else SI(o,r,e,a,!1);void 0!==Gx&&Gx(o,i,t,e,r)}function Bf(n,t){if(null!==t){const e=t.type;if(3&e)return mo(t,n);if(4&e)return jx(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Bf(n,i);{const r=n[t.index];return Xr(r)?jx(-1,r):li(r)}}if(32&e)return Bx(t,n)()||li(n[t.index]);{const i=II(n,t);return null!==i?Array.isArray(i)?i[0]:Bf(Nf(n[Fi]),i):Bf(n,t.next)}}return null}function II(n,t){return null!==t?n[Fi][Rr].projection[t.projection]:null}function jx(n,t){const e=yr+n+1;if(e<t.length){const i=t[e],r=i[At].firstChild;if(null!==r)return Bf(i,r)}return t[Hs]}function Wx(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],c=e.type;if(s&&0===t&&(a&&kr(li(a),i),e.flags|=2),32!=(32&e.flags))if(8&c)Wx(n,t,e.child,i,r,o,!1),Qd(t,n,r,a,o);else if(32&c){const l=Bx(e,i);let d;for(;d=l();)Qd(t,n,r,d,o);Qd(t,n,r,a,o)}else 16&c?OI(n,t,i,e,r,o):Qd(t,n,r,a,o);e=s?e.projectionNext:e.next}}function Uf(n,t,e,i,r,o){Wx(e,i,n.firstChild,t,r,o,!1)}function OI(n,t,e,i,r,o){const s=e[Fi],c=s[Rr].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Qd(t,n,r,c[l],o);else{let l=c;const d=s[yi];Vg(i)&&(l.flags|=128),Wx(n,t,l,d,r,o,!0)}}function RI(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function kI(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&nx(n,t,i),null!==r&&RI(n,t,r),null!==o&&function $j(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}function Jd(n){return function $x(){if(void 0===Xg&&(Xg=null,ci.trustedTypes))try{Xg=ci.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xg}()?.createHTML(n)||n}function NI(n){return function Xx(){if(void 0===qg&&(qg=null,ci.trustedTypes))try{qg=ci.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return qg}()?.createScriptURL(n)||n}class dl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${AT})`}}class Kj extends dl{getTypeName(){return"HTML"}}class Qj extends dl{getTypeName(){return"Style"}}class Jj extends dl{getTypeName(){return"Script"}}class e9 extends dl{getTypeName(){return"URL"}}class t9 extends dl{getTypeName(){return"ResourceURL"}}function Io(n){return n instanceof dl?n.changingThisBreaksApplicationSecurity:n}function $s(n,t){const e=function n9(n){return n instanceof dl&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${AT})`)}return e===t}class c9{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Jd(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class l9{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=Jd(t),e}}const u9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zg(n){return(n=String(n)).match(u9)?n:"unsafe:"+n}function Sa(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Vf(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const UI=Sa("area,br,col,hr,img,wbr"),VI=Sa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zI=Sa("rp,rt"),qx=Vf(UI,Vf(VI,Sa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vf(zI,Sa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vf(zI,VI)),Zx=Sa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),HI=Vf(Zx,Sa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Sa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),h9=Sa("script,style,template");class f9{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!qx.hasOwnProperty(e))return this.sanitizedSomething=!0,!h9.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!HI.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Zx[a]&&(c=Zg(c)),this.buf.push(" ",s,'="',GI(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();qx.hasOwnProperty(e)&&!UI.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(GI(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const p9=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m9=/([^\#-~ |!])/g;function GI(n){return n.replace(/&/g,"&amp;").replace(p9,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(m9,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kg;function jI(n,t){let e=null;try{Kg=Kg||function BI(n){const t=new l9(n);return function d9(){try{return!!(new window.DOMParser).parseFromString(Jd(""),"text/html")}catch{return!1}}()?new c9(t):t}(n);let i=t?String(t):"";e=Kg.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Kg.getInertBodyElement(i)}while(i!==o);return Jd((new f9).sanitizeChildren(Kx(e)||e))}finally{if(e){const i=Kx(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Kx(n){return"content"in n&&function g9(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var fr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(fr||{});function Qx(n){const t=zf();return t?t.sanitize(fr.URL,n)||"":$s(n,"URL")?Io(n):Zg(sn(n))}function WI(n){const t=zf();if(t)return NI(t.sanitize(fr.RESOURCE_URL,n)||"");if($s(n,"ResourceURL"))return NI(Io(n));throw new ze(904,!1)}function zf(){const n=Je();return n&&n[kd].sanitizer}const Hf=new qe("ENVIRONMENT_INITIALIZER"),YI=new qe("INJECTOR",-1),XI=new qe("INJECTOR_DEF_TYPES");class Jx{get(t,e=mf){if(e===mf){const i=new Error(`NullInjectorError: No provider for ${ir(t)}!`);throw i.name="NullInjectorError",i}return e}}function C9(...n){return{\u0275providers:qI(0,n),\u0275fromNgModule:!0}}function qI(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return Xd(t,s=>{const a=s;Qg(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&ZI(r,o),e}function ZI(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];tw(r,o=>{t(o,i)})}}function Qg(n,t,e,i){if(!(n=on(n)))return!1;let r=null,o=pg(n);const s=!o&&Ln(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=pg(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Qg(l,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{Xd(o.imports,d=>{Qg(d,t,e,i)&&(l||=[],l.push(d))})}finally{}void 0!==l&&ZI(l,t)}if(!a){const l=rl(r)||(()=>new r);t({provide:r,useFactory:l,deps:zn},r),t({provide:XI,useValue:r,multi:!0},r),t({provide:Hf,useValue:()=>le(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;tw(c,d=>{t(d,l)})}}}return r!==n&&void 0!==n.providers}function tw(n,t){for(let e of n)j0(e)&&(e=e.\u0275providers),Array.isArray(e)?tw(e,t):t(e)}const M9=Zn({provide:String,useValue:Zn});function nw(n){return null!==n&&"object"==typeof n&&M9 in n}function ul(n){return"function"==typeof n}const iw=new qe("Set Injector scope."),Jg={},E9={};let rw;function e_(){return void 0===rw&&(rw=new Jx),rw}class Po{}class tu extends Po{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sw(t,s=>this.processProvider(s)),this.records.set(YI,nu(void 0,this)),r.has("environment")&&this.records.set(Po,nu(void 0,this));const o=this.records.get(iw);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(XI.multi,zn,En.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of t)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=uc(this),i=fo(void 0);try{return t()}finally{uc(e),fo(i)}}get(t,e=mf,i=En.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(FT))return t[FT](this);i=_g(i);const o=uc(this),s=fo(void 0);try{if(!(i&En.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function P9(n){return"function"==typeof n||"object"==typeof n&&n instanceof qe}(t)&&fg(t);c=l&&this.injectableDefInScope(l)?nu(ow(t),Jg):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(i&En.Self?e_():this.parent).get(t,e=i&En.Optional&&e===mf?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[gg]=a[gg]||[]).unshift(ir(t)),o)throw a;return function MG(n,t,e,i){const r=n[gg];throw t[RT]&&r.unshift(t[RT]),n.message=function SG(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=ir(t);if(Array.isArray(t))r=t.map(ir).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ir(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(vG,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[gg]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{fo(s),uc(o)}}resolveInjectorInitializers(){const t=uc(this),e=fo(void 0);try{const r=this.get(Hf.multi,zn,En.Self);for(const o of r)o()}finally{uc(t),fo(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(ir(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processProvider(t){let e=ul(t=on(t))?t:on(t&&t.provide);const i=function T9(n){return nw(n)?nu(void 0,n.useValue):nu(JI(n),Jg)}(t);if(ul(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=nu(void 0,Jg,!0),r.factory=()=>J0(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Jg&&(e.value=E9,e.value=e.factory()),"object"==typeof e.value&&e.value&&function I9(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=on(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function ow(n){const t=fg(n),e=null!==t?t.factory:rl(n);if(null!==e)return e;if(n instanceof qe)throw new ze(204,!1);if(n instanceof Function)return function A9(n){const t=n.length;if(t>0)throw Rf(t,"?"),new ze(204,!1);const e=function mG(n){return n&&(n[mg]||n[DT])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new ze(204,!1)}function JI(n,t,e){let i;if(ul(n)){const r=on(n);return rl(r)||ow(r)}if(nw(n))i=()=>on(n.useValue);else if(function QI(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...J0(n.deps||[]));else if(function KI(n){return!(!n||!n.useExisting)}(n))i=()=>le(on(n.useExisting));else{const r=on(n&&(n.useClass||n.provide));if(!function D9(n){return!!n.deps}(n))return rl(r)||ow(r);i=()=>new r(...J0(n.deps))}return i}function nu(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function sw(n,t){for(const e of n)Array.isArray(e)?sw(e,t):e&&j0(e)?sw(e.\u0275providers,t):t(e)}const Gf=new qe("AppId",{providedIn:"root",factory:()=>O9}),O9="ng",eP=new qe("Platform Initializer"),Lr=new qe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Gi=new qe("AnimationModuleType"),aw=new qe("CSP nonce",{providedIn:"root",factory:()=>function eu(){if(void 0!==Yx)return Yx;if(typeof document<"u")return document;throw new ze(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let tP=(n,t,e)=>null;function mw(n,t,e=!1){return tP(n,t,e)}class H9{}class rP{}class j9{resolveComponentFactory(t){throw function G9(n){const t=Error(`No component factory found for ${ir(n)}.`);return t.ngComponent=n,t}(t)}}let Ea=(()=>{class n{static#e=this.NULL=new j9}return n})();function W9(){return ou(wr(),Je())}function ou(n,t){return new vt(mo(n,t))}let vt=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=W9}return n})();function $9(n){return n instanceof vt?n.nativeElement:n}class $f{}let vs=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Y9(){const n=Je(),e=To(wr().index,n);return(po(e)?e:n)[an]}()}return n})(),X9=(()=>{class n{static#e=this.\u0275prov=Fe({token:n,providedIn:"root",factory:()=>null})}return n})();class bc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const q9=new bc("16.2.12"),bw={};function lP(n,t=null,e=null,i){const r=dP(n,t,e,i);return r.resolveInjectorInitializers(),r}function dP(n,t=null,e=null,i,r=new Set){const o=[e||zn,C9(n)];return i=i||("object"==typeof n?void 0:ir(n)),new tu(o,t||e_(),i||null,r)}let ri=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=mf;static#t=this.NULL=new Jx;static create(e,i){if(Array.isArray(e))return lP({name:""},i,e,"");{const r=e.name??"";return lP({name:r},e.parent,e.providers,r)}}static#n=this.\u0275prov=Fe({token:n,providedIn:"any",factory:()=>le(YI)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function yw(n){return n.ngOriginalError}class Yo{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&yw(t);for(;e&&yw(e);)e=yw(e);return e||null}}function ww(n){return t=>{setTimeout(n,void 0,t)}}const Mt=class nW extends Et{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=ww(o),r&&(r=ww(r)),s&&(s=ww(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof w&&t.add(a),a}};function hP(...n){}class It{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mt(!1),this.onMicrotaskEmpty=new Mt(!1),this.onStable=new Mt(!1),this.onError=new Mt(!1),typeof Zone>"u")throw new ze(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function iW(){const n="function"==typeof ci.requestAnimationFrame;let t=ci[n?"requestAnimationFrame":"setTimeout"],e=ci[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function sW(n){const t=()=>{!function oW(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ci,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Mw(n),n.isCheckStableRunning=!0,Cw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Mw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{if(function cW(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,o,s,a);try{return fP(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),pP(n)}},onInvoke:(e,i,r,o,s,a,c)=>{try{return fP(n),e.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),pP(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Mw(n),Cw(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!It.isInAngularZone())throw new ze(909,!1)}static assertNotInAngularZone(){if(It.isInAngularZone())throw new ze(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,rW,hP,hP);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const rW={};function Cw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Mw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function fP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pP(n){n._nesting--,Cw(n)}class aW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mt,this.onMicrotaskEmpty=new Mt,this.onStable=new Mt,this.onError=new Mt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const mP=new qe("",{providedIn:"root",factory:gP});function gP(){const n=lt(It);let t=!0;return So(new Jt(r=>{t=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(t),r.complete()})}),new Jt(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{It.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(t=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{It.assertInAngularZone(),t&&(t=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(dg()))}function vc(n){return n.ownerDocument.defaultView}function Aa(n){return n instanceof Function?n():n}let Sw=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Fe({token:n,providedIn:"root",factory:()=>new n})}return n})();function Yf(n){for(;n;){n[fn]|=64;const t=Nf(n);if(ox(n)&&!t)return n;n=t}return null}const xP=new qe("",{providedIn:"root",factory:()=>!1});let a_=null;function SP(n,t){return n[t]??TP()}function EP(n,t){const e=TP();e.producerNode?.length&&(n[t]=a_,e.lView=n,a_=AP())}const _W={...JT,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Yf(n.lView)},lView:null};function AP(){return Object.create(_W)}function TP(){return a_??=AP(),a_}const un={};function et(n){DP(Fn(),Je(),Zr()+n,!1)}function DP(n,t,e,i){if(!i)if(3==(3&t[fn])){const o=n.preOrderCheckHooks;null!==o&&Tg(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Dg(t,o,0,e)}ol(e)}function D(n,t=En.Default){const e=Je();return null===e?le(n,t):WD(wr(),e,on(n),t)}function cu(){throw new Error("invalid")}function c_(n,t,e,i,r,o,s,a,c,l,d){const u=t.blueprint.slice();return u[Ai]=r,u[fn]=140|i,(null!==l||n&&2048&n[fn])&&(u[fn]|=2048),vD(u),u[yi]=u[Ld]=n,u[Li]=e,u[kd]=s||n&&n[kd],u[an]=a||n&&n[an],u[hc]=c||n&&n[hc]||null,u[Rr]=o,u[wf]=function xj(){return yj++}(),u[wa]=d,u[qT]=l,u[Fi]=2==t.type?n[Fi]:u,u}function lu(n,t,e,i,r){let o=n.data[t];if(null===o)o=function Ew(n,t,e,i,r){const o=SD(),s=fx(),c=n.data[t]=function SW(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return Vd()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,t,e,i,r),function w6(){return tn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function Af(){const n=tn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return js(o,!0),o}function Xf(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function IP(n,t,e,i,r){const o=SP(t,Cf),s=Zr(),a=2&i;try{ol(-1),a&&t.length>An&&DP(n,t,An,!1),Gs(a?2:0,r);const l=a?o:null,d=ax(l);try{null!==l&&(l.dirty=!1),e(i,r)}finally{cx(l,d)}}finally{a&&null===t[Cf]&&EP(t,Cf),ol(s),Gs(a?3:1,r)}}function Aw(n,t,e){if(rx(t)){const i=Wo(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{Wo(i)}}}function Tw(n,t,e){MD()&&(function OW(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;il(e)&&function UW(n,t,e){const i=mo(t,n),r=PP(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=l_(n,c_(n,r,null,s,i,t,null,n[kd].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||Pg(e,t),kr(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=sl(t,n,a,e);kr(l,t),null!==s&&VW(0,a-r,l,c,0,s),bs(c)&&(To(e.index,t)[Li]=sl(t,n,a,e))}}(n,t,e,mo(e,t)),64==(64&e.flags)&&FP(n,t,e))}function Dw(n,t,e=mo){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function PP(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Iw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Iw(n,t,e,i,r,o,s,a,c,l,d){const u=An+i,h=u+r,f=function vW(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:un);return e}(u,h),m="function"==typeof l?l():l;return f[At]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:d}}let OP=n=>null;function RP(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const o=n[r];null===i?kP(e,t,r,o):i.hasOwnProperty(r)&&kP(e,t,i[r],o)}return e}function kP(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function Oo(n,t,e,i,r,o,s,a){const c=mo(t,e);let d,l=t.inputs;!a&&null!=l&&(d=l[i])?(Lw(n,e,d,i,r),il(t)&&function TW(n,t){const e=To(t,n);16&e[fn]||(e[fn]|=64)}(e,t.index)):3&t.type&&(i=function AW(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(c,i,r))}function Pw(n,t,e,i){if(MD()){const r=null===i?null:{"":-1},o=function kW(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(GT(t,s.selectors,!1))if(i||(i=[]),bs(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),Ow(n,t,a.length)}else i.unshift(s),Ow(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&LP(n,t,e,s,r,a),r&&function LW(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new ze(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=bf(e.mergedAttrs,e.attrs)}function LP(n,t,e,i,r,o){for(let l=0;l<i.length;l++)Ex(Pg(e,t),n,i[l].type);!function NW(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let l=0;l<i.length;l++){const d=i[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=Xf(n,t,i.length,null);for(let l=0;l<i.length;l++){const d=i[l];e.mergedAttrs=bf(e.mergedAttrs,d.hostAttrs),BW(n,e,t,c,d),FW(c,d,r),null!==d.contentQueries&&(e.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=64);const u=d.type.prototype;!s&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(u.ngOnChanges||u.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}!function EW(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let c=null,l=null;for(let d=t.directiveStart;d<r;d++){const u=o[d],h=e?e.get(u):null,m=h?h.outputs:null;c=RP(u.inputs,d,c,h?h.inputs:null),l=RP(u.outputs,d,l,m);const v=null===c||null===s||HT(t)?null:zW(c,d,s);a.push(v)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(n,e,o)}function FP(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function M6(){return tn.lFrame.currentDirectiveIndex}();try{ol(o);for(let a=i;a<r;a++){const c=n.data[a],l=t[a];mx(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&RW(c,l)}}finally{ol(-1),mx(s)}}function RW(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Ow(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function FW(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;bs(t)&&(e[""]=n)}}function BW(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=rl(r.type)),s=new Tf(o,bs(r),D);n.blueprint[i]=s,e[i]=s,function IW(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function PW(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,Xf(n,e,r.hostVars,un),r)}function Ys(n,t,e,i,r,o){const s=mo(n,t);!function Rw(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?sn(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[an],s,o,n.value,e,i,r)}function VW(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)NP(i,e,s[a++],s[a++],s[a++])}function NP(n,t,e,i,r){const o=Wo(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(t,r)),null!==n.setInput?n.setInput(t,r,e,i):t[i]=r}finally{Wo(o)}}function zW(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){i.push(o,s[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function BP(n,t,e,i){return[n,!0,!1,t,null,0,i,e,null,null,null]}function UP(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const o=e[i+1];if(-1!==o){const s=n.data[o];_x(e[i]),s.contentQueries(2,t[o],o)}}}function l_(n,t){return n[yf]?n[XT][_s]=t:n[yf]=t,n[XT]=t,t}function kw(n,t,e){_x(0);const i=Wo(null);try{t(n,e)}finally{Wo(i)}}function VP(n){return n[Rd]||(n[Rd]=[])}function zP(n){return n.cleanup||(n.cleanup=[])}function HP(n,t,e){return(null===n||bs(n))&&(e=function hx(n){for(;Array.isArray(n);){if("object"==typeof n[ix])return n;n=n[Ai]}return null}(e[t.index])),e[an]}function GP(n,t){const e=n[hc],i=e?e.get(Yo,null):null;i&&i.handleError(t)}function Lw(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++];NP(n.data[s],t[s],i,a,r)}}function HW(n,t){const e=To(t,n),i=e[At];!function GW(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[Ai];null!==r&&null===e[wa]&&(e[wa]=mw(r,e[hc])),Fw(i,e,e[Li])}function Fw(n,t,e){bx(t);try{const i=n.viewQuery;null!==i&&kw(1,i,e);const r=n.template;null!==r&&IP(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&UP(n,t),n.staticViewQueries&&kw(2,n.viewQuery,e);const o=n.components;null!==o&&function jW(n,t){for(let e=0;e<t.length;e++)HW(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[fn]&=-5,vx()}}let jP=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(e,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function e6(n,t,e){const i=Object.create(t6);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>iD(i),run:()=>{if(i.dirty=!1,i.hasRun&&!rD(i))return;i.hasRun=!0;const s=ax(i);try{i.cleanupFn(),i.cleanupFn=hD,i.fn(r)}finally{cx(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(e,l=>{this.all.has(l)&&this.queue.set(l,o)},r);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[e,i]of this.queue)this.queue.delete(e),i?i.run(()=>e.run()):e.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Fe({token:n,providedIn:"root",factory:()=>new n})}return n})();function d_(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=H0(r,a):2==o&&(i=H0(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function qf(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];null!==o&&i.push(li(o)),Xr(o)&&WP(o,i);const s=e.type;if(8&s)qf(n,t,e.child,i);else if(32&s){const a=Bx(e,t);let c;for(;c=a();)i.push(c)}else if(16&s){const a=II(t,e);if(Array.isArray(a))i.push(...a);else{const c=Nf(t[Fi]);qf(c[At],c,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function WP(n,t){for(let e=yr;e<n.length;e++){const i=n[e],r=i[At].firstChild;null!==r&&qf(i[At],i,r,t)}n[Hs]!==n[Ai]&&t.push(n[Hs])}function u_(n,t,e,i=!0){const r=t[kd],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{$P(n,t,n.template,e)}catch(c){throw i&&GP(t,c),c}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function $P(n,t,e,i){const r=t[fn];if(256!=(256&r)){t[kd].effectManager?.flush(),bx(t);try{vD(t),function AD(n){return tn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&IP(n,t,e,2,i);const s=3==(3&r);if(s){const l=n.preOrderCheckHooks;null!==l&&Tg(t,l,null)}else{const l=n.preOrderHooks;null!==l&&Dg(t,l,0,null),xx(t,0)}if(function YW(n){for(let t=bI(n);null!==t;t=vI(t)){if(!t[ZT])continue;const e=t[Nd];for(let i=0;i<e.length;i++){u6(e[i])}}}(t),YP(t,2),null!==n.contentQueries&&UP(n,t),s){const l=n.contentCheckHooks;null!==l&&Tg(t,l)}else{const l=n.contentHooks;null!==l&&Dg(t,l,1),xx(t,1)}!function bW(n,t){const e=n.hostBindingOpCodes;if(null===e)return;const i=SP(t,Mf);try{for(let r=0;r<e.length;r++){const o=e[r];if(o<0)ol(~o);else{const s=o,a=e[++r],c=e[++r];C6(a,s),i.dirty=!1;const l=ax(i);try{c(2,t[s])}finally{cx(i,l)}}}}finally{null===t[Mf]&&EP(t,Mf),ol(-1)}}(n,t);const a=n.components;null!==a&&qP(t,a,0);const c=n.viewQuery;if(null!==c&&kw(2,c,i),s){const l=n.viewCheckHooks;null!==l&&Tg(t,l)}else{const l=n.viewHooks;null!==l&&Dg(t,l,2),xx(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[fn]&=-73,yD(t)}finally{vx()}}}function YP(n,t){for(let e=bI(n);null!==e;e=vI(e))for(let i=yr;i<e.length;i++)XP(e[i],t)}function XW(n,t,e){XP(To(t,n),e)}function XP(n,t){if(!function l6(n){return 128==(128&n[fn])}(n))return;const e=n[At],i=n[fn];if(80&i&&0===t||1024&i||2===t)$P(e,n,e.template,n[Li]);else if(n[vf]>0){YP(n,1);const r=e.components;null!==r&&qP(n,r,1)}}function qP(n,t,e){for(let i=0;i<t.length;i++)XW(n,t[i],e)}class Zf{get rootNodes(){const t=this._lView,e=t[At];return qf(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Li]}set context(t){this._lView[Li]=t}get destroyed(){return 256==(256&this._lView[fn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[yi];if(Xr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(jg(t,i),kg(e,i))}this._attachedToViewContainer=!1}Vx(this._lView[At],this._lView)}onDestroy(t){!function wD(n,t){if(256==(256&n[fn]))throw new ze(911,!1);null===n[fc]&&(n[fc]=[]),n[fc].push(t)}(this._lView,t)}markForCheck(){Yf(this._cdRefInjectingView||this._lView)}detach(){this._lView[fn]&=-129}reattach(){this._lView[fn]|=128}detectChanges(){u_(this._lView[At],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ze(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lj(n,t){Uf(n,t,t[an],2,null,null)}(this._lView[At],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ze(902,!1);this._appRef=t}}class qW extends Zf{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;u_(t[At],t,t[Li],!1)}checkNoChanges(){}get context(){return null}}class ZP extends Ea{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ln(t);return new Kf(e,this.ngModule)}}function KP(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class KW{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=_g(i);const r=this.injector.get(t,bw,i);return r!==bw||e===bw?r:this.parentInjector.get(t,e,i)}}class Kf extends rP{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=KP(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return KP(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function LG(n){return n.map(kG).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){let o=(r=r||this.ngModule)instanceof Po?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new KW(t,o):t,a=s.get($f,null);if(null===a)throw new ze(407,!1);const u={rendererFactory:a,sanitizer:s.get(X9,null),effectManager:s.get(jP,null),afterRenderEventManager:s.get(Sw,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",m=i?function yW(n,t,e,i){const o=i.get(xP,!1)||e===jo.ShadowDom,s=n.selectRootElement(t,o);return function xW(n){OP(n)}(s),s}(h,i,this.componentDef.encapsulation,s):Gg(h,f,function ZW(n){const t=n.toLowerCase();return"svg"===t?gD:"math"===t?"math":null}(f)),b=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==m&&(y=mw(m,s,!0));const x=Iw(0,null,null,1,0,null,null,null,null,null,null),E=c_(null,x,null,b,null,null,u,h,s,null,y);let O,R;bx(E);try{const B=this.componentDef;let $,N=null;B.findHostDirectiveDefs?($=[],N=new Map,B.findHostDirectiveDefs(B,$,N),$.push(B)):$=[B];const H=function JW(n,t){const e=n[At],i=An;return n[i]=t,lu(e,i,2,"#host",null)}(E,m),ge=function e$(n,t,e,i,r,o,s){const a=r[At];!function t$(n,t,e,i){for(const r of n)t.mergedAttrs=bf(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(d_(t,t.mergedAttrs,!0),null!==e&&kI(i,e,t))}(i,n,t,s);let c=null;null!==t&&(c=mw(t,r[hc]));const l=o.rendererFactory.createRenderer(t,e);let d=16;e.signals?d=4096:e.onPush&&(d=64);const u=c_(r,PP(e),null,d,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&Ow(a,n,i.length-1),l_(r,u),r[n.index]=u}(H,m,B,$,E,u,h);R=bD(x,An),m&&function i$(n,t,e,i){if(i)nx(n,e,["ng-version",q9.full]);else{const{attrs:r,classes:o}=function FG(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!gs(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&nx(n,e,r),o&&o.length>0&&RI(n,e,o.join(" "))}}(h,B,m,i),void 0!==e&&function r$(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(R,this.ngContentSelectors,e),O=function n$(n,t,e,i,r,o){const s=wr(),a=r[At],c=mo(s,r);LP(a,r,s,e,null,i);for(let d=0;d<e.length;d++)kr(sl(r,a,s.directiveStart+d,s),r);FP(a,r,s),c&&kr(c,r);const l=sl(r,a,s.directiveStart+s.componentOffset,s);if(n[Li]=r[Li]=l,null!==o)for(const d of o)d(l,t);return Aw(a,s,n),l}(ge,B,$,N,E,[o$]),Fw(x,E,null)}finally{vx()}return new QW(this.componentType,O,ou(R,E),E,R)}}class QW extends H9{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new qW(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;Lw(o[At],o,r,t,e),this.previousInputValues.set(t,e),Yf(To(this._tNode.index,o))}}get injector(){return new Kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function o$(){const n=wr();Ag(Je()[At],n)}function He(n){let t=function QP(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(bs(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ze(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=h_(n.inputs),s.inputTransforms=h_(n.inputTransforms),s.declaredInputs=h_(n.declaredInputs),s.outputs=h_(n.outputs);const a=r.hostBindings;a&&l$(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&a$(n,c),l&&c$(n,l),ug(n.inputs,r.inputs),ug(n.declaredInputs,r.declaredInputs),ug(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),ug(s.inputTransforms,r.inputTransforms)),bs(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===He&&(e=!1)}}t=Object.getPrototypeOf(t)}!function s$(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=bf(r.hostAttrs,e=bf(e,r.hostAttrs))}}(i)}function h_(n){return n===Vs?{}:n===zn?[]:n}function a$(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function c$(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function l$(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function n2(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[2]&&(e[i]=r[2])}n.inputTransforms=e}function f_(n){return!!Nw(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Nw(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Xs(n,t,e){return n[t]=e}function Fr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Wn(n,t,e,i){const r=Je();return Fr(r,zd(),t)&&(Fn(),Ys(wi(),r,n,t,e,i)),Wn}function uu(n,t,e,i){return Fr(n,zd(),e)?t+sn(e)+i:un}function Ot(n,t,e,i,r,o,s,a){const c=Je(),l=Fn(),d=n+An,u=l.firstCreatePass?function k$(n,t,e,i,r,o,s,a,c){const l=t.consts,d=lu(t,n,4,s||null,mc(l,a));Pw(t,e,d,mc(l,c)),Ag(t,d);const u=d.tView=Iw(2,d,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}(d,l,c,t,e,i,r,o,s):l.data[d];js(u,!1);const h=g2(l,c,u,n);Eg()&&$g(l,c,h,u),kr(h,c),l_(c,c[d]=BP(h,c,h,u)),wg(u)&&Tw(l,c,u),null!=s&&Dw(c,u,a)}let g2=function _2(n,t,e,i){return gc(!0),t[an].createComment("")};function ys(n){return Ud(function x6(){return tn.lFrame.contextLView}(),An+n)}function Ge(n,t,e){const i=Je();return Fr(i,zd(),t)&&Oo(Fn(),wi(),i,n,t,i[an],e,!1),Ge}function Gw(n,t,e,i,r){const s=r?"class":"style";Lw(n,e,t.inputs[s],s,i)}function he(n,t,e,i){const r=Je(),o=Fn(),s=An+n,a=r[an],c=o.firstCreatePass?function B$(n,t,e,i,r,o){const s=t.consts,c=lu(t,n,2,i,mc(s,r));return Pw(t,e,c,mc(s,o)),null!==c.attrs&&d_(c,c.attrs,!1),null!==c.mergedAttrs&&d_(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,t,e,i):o.data[s],l=b2(o,r,c,a,t,n);r[s]=l;const d=wg(c);return js(c,!0),kI(a,l,c),32!=(32&c.flags)&&Eg()&&$g(o,r,l,c),0===function f6(){return tn.lFrame.elementDepthCount}()&&kr(l,r),function p6(){tn.lFrame.elementDepthCount++}(),d&&(Tw(o,r,c),Aw(o,c,r)),null!==i&&Dw(r,c),he}function ae(){let n=wr();fx()?px():(n=n.parent,js(n,!1));const t=n;(function g6(n){return tn.skipHydrationRootTNode===n})(t)&&function y6(){tn.skipHydrationRootTNode=null}(),function m6(){tn.lFrame.elementDepthCount--}();const e=Fn();return e.firstCreatePass&&(Ag(e,n),rx(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function R6(n){return 0!=(8&n.flags)}(t)&&Gw(e,t,Je(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function k6(n){return 0!=(16&n.flags)}(t)&&Gw(e,t,Je(),t.stylesWithoutHost,!1),ae}function wn(n,t,e,i){return he(n,t,e,i),ae(),wn}let b2=(n,t,e,i,r,o)=>(gc(!0),Gg(i,r,function FD(){return tn.lFrame.currentNamespace}()));function qo(){return Je()}function np(n){return!!n&&"function"==typeof n.then}function x2(n){return!!n&&"function"==typeof n.subscribe}function Rt(n,t,e,i){const r=Je(),o=Fn(),s=wr();return w2(o,r,r[an],s,n,t,i),Rt}function b_(n,t){const e=wr(),i=Je(),r=Fn();return w2(r,i,HP(gx(r.data),e,i),e,n,t),b_}function w2(n,t,e,i,r,o,s){const a=wg(i),l=n.firstCreatePass&&zP(n),d=t[Li],u=VP(t);let h=!0;if(3&i.type||s){const v=mo(i,t),g=s?s(v):v,b=u.length,y=s?E=>s(li(E[i.index])):i.index;let x=null;if(!s&&a&&(x=function j$(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[Rd],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==x)(x.__ngLastListenerFn__||x).__ngNextListenerFn__=o,x.__ngLastListenerFn__=o,h=!1;else{o=M2(i,t,d,o,!1);const E=e.listen(g,r,o);u.push(o,E),l&&l.push(r,y,b,b+1)}}else o=M2(i,t,d,o,!1);const f=i.outputs;let m;if(h&&null!==f&&(m=f[r])){const v=m.length;if(v)for(let g=0;g<v;g+=2){const O=t[m[g]][m[g+1]].subscribe(o),R=u.length;u.push(o,O),l&&l.push(r,i.index,R,-(R+1))}}}function C2(n,t,e,i){try{return Gs(6,t,e),!1!==e(i)}catch(r){return GP(n,r),!1}finally{Gs(7,t,e)}}function M2(n,t,e,i,r){return function o(s){if(s===Function)return i;Yf(n.componentOffset>-1?To(n.index,t):t);let c=C2(t,e,i,s),l=o.__ngNextListenerFn__;for(;l;)c=C2(t,e,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function zt(n=1){return function E6(n){return(tn.lFrame.contextLView=function A6(n,t){for(;n>0;)t=t[Ld],n--;return t}(n,tn.lFrame.contextLView))[Li]}(n)}function W$(n,t){let e=null;const i=function IG(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?GT(n,o,!0):RG(i,o))return r}else e=r}return e}function Sn(n){const t=Je()[Fi][Rr];if(!t.projection){const i=t.projection=Rf(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?W$(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function $t(n,t=0,e){const i=Je(),r=Fn(),o=lu(r,An+n,16,null,e||null);null===o.projection&&(o.projection=t),px(),(!i[wa]||Vd())&&32!=(32&o.flags)&&function Gj(n,t,e){OI(t[an],0,t,e,Hx(n,e,t),EI(e.parent||t[Rr],e,t))}(r,i,o)}function vu(n,t,e,i,r){const o=Je(),s=uu(o,t,e,i);return s!==un&&Oo(Fn(),wi(),o,n,s,o[an],r,!1),vu}function v_(n,t){return n<<17|t<<2}function yc(n){return n>>17&32767}function $w(n){return 2|n}function fl(n){return(131068&n)>>2}function Yw(n,t){return-131069&n|t<<2}function Xw(n){return 1|n}function k2(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?yc(o):fl(o),c=!1;for(;0!==a&&(!1===c||s);){const d=n[a+1];K$(n[a],t)&&(c=!0,n[a+1]=i?Xw(d):$w(d)),a=i?yc(d):fl(d)}c&&(n[e+1]=i?$w(o):Xw(o))}function K$(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&qd(n,t)>=0}const or={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function L2(n){return n.substring(or.key,or.keyEnd)}function F2(n,t){const e=or.textEnd;return e===t?-1:(t=or.keyEnd=function t7(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,or.key=t,e),yu(n,t,e))}function yu(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function pl(n,t,e){return xs(n,t,e,!1),pl}function Cn(n,t){return xs(n,t,null,!0),Cn}function Zs(n,t){for(let e=function J$(n){return function B2(n){or.key=0,or.keyEnd=0,or.value=0,or.valueEnd=0,or.textEnd=n.length}(n),F2(n,yu(n,0,or.textEnd))}(t);e>=0;e=F2(t,e))Do(n,L2(t),!0)}function xs(n,t,e,i){const r=Je(),o=Fn(),s=Ma(2);o.firstUpdatePass&&H2(o,n,s,i),t!==un&&Fr(r,s,t)&&j2(o,o.data[Zr()],r,r[an],n,r[s+1]=function f7(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=ir(Io(n)))),n}(t,e),i,s)}function z2(n,t){return t>=n.expandoStartIndex}function H2(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Zr()],s=z2(n,e);$2(o,i)&&null===t&&!s&&(t=!1),t=function s7(n,t,e,i){const r=gx(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=ip(e=qw(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=qw(r,n,t,e,i),null===o){let c=function a7(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==fl(i))return n[yc(i)]}(n,t,i);void 0!==c&&Array.isArray(c)&&(c=qw(null,n,t,c[1],i),c=ip(c,t.attrs,i),function c7(n,t,e,i){n[yc(e?t.classBindings:t.styleBindings)]=i}(n,t,i,c))}else o=function l7(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=ip(i,n[o].hostAttrs,e);return ip(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function q$(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=yc(s),c=fl(s);n[i]=e;let d,l=!1;if(Array.isArray(e)?(d=e[1],(null===d||qd(e,d)>0)&&(l=!0)):d=e,r)if(0!==c){const h=yc(n[a+1]);n[i+1]=v_(h,a),0!==h&&(n[h+1]=Yw(n[h+1],i)),n[a+1]=function Y$(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=v_(a,0),0!==a&&(n[a+1]=Yw(n[a+1],i)),a=i;else n[i+1]=v_(c,0),0===a?a=i:n[c+1]=Yw(n[c+1],i),c=i;l&&(n[i+1]=$w(n[i+1])),k2(n,d,i,!0),k2(n,d,i,!1),function Z$(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&qd(o,t)>=0&&(e[i+1]=Xw(e[i+1]))}(t,d,n,i,o),s=v_(a,c),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function qw(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=ip(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function ip(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Do(n,s,!!e||t[++o]))}return void 0===n?null:n}function j2(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const c=n.data,l=c[a+1],d=function X$(n){return 1==(1&n)}(l)?W2(c,t,e,r,fl(l),s):void 0;y_(d)||(y_(o)||function $$(n){return 2==(2&n)}(l)&&(o=W2(c,null,e,r,a,s)),function Wj(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:_c.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=_c.Important),n.setStyle(e,i,r,o))}}(i,s,Sg(Zr(),e),r,o))}function W2(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),d=l?c[1]:c,u=null===d;let h=e[r+1];h===un&&(h=u?zn:void 0);let f=u?Dx(h,i):d===i?h:void 0;if(l&&!y_(f)&&(f=Dx(c,i)),y_(f)&&(a=f,s))return a;const m=n[r+1];r=s?yc(m):fl(m)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=Dx(c,i))}return a}function y_(n){return void 0!==n}function $2(n,t){return 0!=(n.flags&(t?8:16))}function re(n,t=""){const e=Je(),i=Fn(),r=n+An,o=i.firstCreatePass?lu(i,r,1,t,null):i.data[r],s=Y2(i,e,o,t,n);e[r]=s,Eg()&&$g(i,e,s,o),js(o,!1)}let Y2=(n,t,e,i,r)=>(gc(!0),function Hg(n,t){return n.createText(t)}(t[an],i));function Zo(n){return xu("",n,""),Zo}function xu(n,t,e){const i=Je(),r=uu(i,n,t,e);return r!==un&&function Ta(n,t,e){const i=Sg(t,n);!function xI(n,t,e){n.setValue(t,e)}(n[an],i,e)}(i,Zr(),r),xu}function nO(n,t,e){!function ws(n,t,e,i){const r=Fn(),o=Ma(2);r.firstUpdatePass&&H2(r,null,o,i);const s=Je();if(e!==un&&Fr(s,o,e)){const a=r.data[Zr()];if($2(a,i)&&!z2(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(e=H0(c,e||"")),Gw(r,a,s,e,i)}else!function h7(n,t,e,i,r,o,s,a){r===un&&(r=zn);let c=0,l=0,d=0<r.length?r[0]:null,u=0<o.length?o[0]:null;for(;null!==d||null!==u;){const h=c<r.length?r[c+1]:void 0,f=l<o.length?o[l+1]:void 0;let v,m=null;d===u?(c+=2,l+=2,h!==f&&(m=u,v=f)):null===u||null!==d&&d<u?(c+=2,m=d):(l+=2,m=u,v=f),null!==m&&j2(n,t,e,i,m,v,s,a),d=c<r.length?r[c]:null,u=l<o.length?o[l]:null}}(r,a,s,s[an],s[o+1],s[o+1]=function d7(n,t,e){if(null==e||""===e)return zn;const i=[],r=Io(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}(Do,Zs,uu(Je(),n,t,e),!0)}function xc(n,t,e){const i=Je();return Fr(i,zd(),t)&&Oo(Fn(),wi(),i,n,t,i[an],e,!0),xc}function x_(n,t,e){const i=Je();if(Fr(i,zd(),t)){const o=Fn(),s=wi();Oo(o,s,i,n,t,HP(gx(o.data),s,i),e,!0)}return x_}const Cu="en-US";let pO=Cu;function Qw(n,t,e,i,r){if(n=on(n),Array.isArray(n))for(let o=0;o<n.length;o++)Qw(n[o],t,e,i,r);else{const o=Fn(),s=Je(),a=wr();let c=ul(n)?n:on(n.provide);const l=JI(n),d=1048575&a.providerIndexes,u=a.directiveStart,h=a.providerIndexes>>20;if(ul(n)||!n.multi){const f=new Tf(l,r,D),m=eC(c,t,r?d:d+h,u);-1===m?(Ex(Pg(a,s),o,c),Jw(o,n,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(f),s.push(f)):(e[m]=f,s[m]=f)}else{const f=eC(c,t,d+h,u),m=eC(c,t,d,d+h),g=m>=0&&e[m];if(r&&!g||!r&&!(f>=0&&e[f])){Ex(Pg(a,s),o,c);const b=function RY(n,t,e,i,r){const o=new Tf(n,e,D);return o.multi=[],o.index=t,o.componentProviders=0,UO(o,r,i&&!e),o}(r?OY:PY,e.length,r,i,l);!r&&g&&(e[m].providerFactory=b),Jw(o,n,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(b),s.push(b)}else Jw(o,n,f>-1?f:m,UO(e[r?m:f],l,!r&&i));!r&&i&&g&&e[m].componentProviders++}}}function Jw(n,t,e,i){const r=ul(t),o=function S9(n){return!!n.useClass}(t);if(r||o){const c=(o?on(t.useClass):t).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const d=l.indexOf(e);-1===d?l.push(e,[i,c]):l[d+1].push(i,c)}else l.push(e,c)}}}function UO(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function eC(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function PY(n,t,e,i){return tC(this.multi,[])}function OY(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=sl(e,e[At],this.providerFactory.index,i);o=a.slice(0,s),tC(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],tC(r,o);return o}function tC(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Ut(n,t=[]){return e=>{e.providersResolver=(i,r)=>function IY(n,t,e){const i=Fn();if(i.firstCreatePass){const r=bs(n);Qw(e,i.data,i.blueprint,r,!0),Qw(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class gl{}class VO{}class nC extends gl{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ZP(this);const r=Ao(t);this._bootstrapComponents=Aa(r.bootstrap),this._r3Injector=dP(t,e,[{provide:gl,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver},...i],ir(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class iC extends VO{constructor(t){super(),this.moduleType=t}create(t){return new nC(this.moduleType,t,[])}}class zO extends gl{constructor(t){super(),this.componentFactoryResolver=new ZP(this),this.instance=null;const e=new tu([...t.providers,{provide:gl,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver}],t.parent||e_(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function rC(n,t,e=null){return new zO({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let FY=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=qI(0,e.type),r=i.length>0?rC([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Fe({token:n,providedIn:"environment",factory:()=>new n(le(Po))})}return n})();function HO(n){n.getStandaloneInjector=t=>t.get(FY).getOrCreateStandaloneInjector(n)}function KO(n,t,e,i,r){return function JO(n,t,e,i,r,o,s){const a=t+e;return function hl(n,t,e,i){const r=Fr(n,t,e);return Fr(n,t+1,i)||r}(n,a,r,o)?Xs(n,a+2,s?i.call(s,r,o):i(r,o)):lp(n,a+2)}(Je(),qr(),n,t,e,i,r)}function lp(n,t){const e=n[t];return e===un?void 0:e}function QO(n,t,e,i,r,o){const s=t+e;return Fr(n,s,r)?Xs(n,s+1,o?i.call(o,r):i(r)):lp(n,s+1)}function Ko(n,t){const e=Fn();let i;const r=n+An;e.firstCreatePass?(i=function QY(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=rl(i.type)),a=fo(D);try{const c=Ig(!1),l=o();return Ig(c),function N$(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,Je(),r,l),l}finally{fo(a)}}function Qo(n,t,e){const i=n+An,r=Je(),o=Ud(r,i);return function dp(n,t){return n[At].data[t].pure}(r,i)?QO(r,qr(),t,o.transform,e,o):o.transform(e)}function iX(){return this._results[Symbol.iterator]()}class _l{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Mt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=_l.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=iX)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=function $o(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function X6(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function oX(n,t,e,i=!0){const r=t[At];if(function Nj(n,t,e,i){const r=yr+i,o=e.length;i>0&&(e[r-1][_s]=t),i<o-yr?(t[_s]=e[r],KD(e,yr+i,t)):(e.push(t),t[_s]=null),t[yi]=e;const s=t[xf];null!==s&&e!==s&&function Bj(n,t){const e=n[Nd];t[Fi]!==t[yi][yi][Fi]&&(n[ZT]=!0),null===e?n[Nd]=[t]:e.push(t)}(s,t);const a=t[zs];null!==a&&a.insertView(n),t[fn]|=128}(r,t,n,e),i){const o=jx(e,n),s=t[an],a=Wg(s,n[Hs]);null!==a&&function kj(n,t,e,i,r,o){i[Ai]=r,i[Rr]=t,Uf(n,i,e,1,r,o)}(r,n[Rr],s,t,a,o)}}let Cr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=cX}return n})();const sX=Cr,aX=class extends sX{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=function rX(n,t,e,i){const r=t.tView,a=c_(n,r,e,4096&n[fn]?4096:16,null,t,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[xf]=n[t.index];const l=n[zs];return null!==l&&(a[zs]=l.createEmbeddedView(r)),Fw(r,a,e),a}(this._declarationLView,this._declarationTContainer,t,{injector:e,hydrationInfo:i});return new Zf(r)}};function cX(){return E_(wr(),Je())}function E_(n,t){return 4&n.type?new aX(t,n,ou(n,t)):null}let ji=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=pX}return n})();function pX(){return lR(wr(),Je())}const mX=ji,aR=class extends mX{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ou(this._hostTNode,this._hostLView)}get injector(){return new Kr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Og(this._hostTNode,this._hostLView);if(Cx(t)){const e=If(t,this._hostLView),i=Df(t);return new Kr(e[At].data[i+8],e)}return new Kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=cR(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-yr}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=t.createEmbeddedViewImpl(e||{},o,null);return this.insertImpl(a,r,false),a}createComponent(t,e,i,r,o){const s=t&&!function Of(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const v=e||{};a=v.index,i=v.injector,r=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}const c=s?t:new Kf(Ln(t)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const g=(s?l:this.parentInjector).get(Po,null);g&&(o=g)}Ln(c.componentType??{});const f=c.create(l,r,null,o);return this.insertImpl(f.hostView,a,false),f}insert(t,e){return this.insertImpl(t,e,!1)}insertImpl(t,e,i){const r=t._lView;if(function d6(n){return Xr(n[yi])}(r)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=r[yi],d=new aR(l,l[Rr],l[yi]);d.detach(d.indexOf(t))}}const s=this._adjustIndex(e),a=this._lContainer;return oX(a,r,s,!i),t.attachToViewContainerRef(),KD(sC(a),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=cR(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=jg(this._lContainer,e);i&&(kg(sC(this._lContainer),e),Vx(i[At],i))}detach(t){const e=this._adjustIndex(t,-1),i=jg(this._lContainer,e);return i&&null!=kg(sC(this._lContainer),e)?new Zf(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function cR(n){return n[8]}function sC(n){return n[8]||(n[8]=[])}function lR(n,t){let e;const i=t[n.index];return Xr(i)?e=i:(e=BP(i,t,null,n),t[n.index]=e,l_(t,e)),dR(e,t,n,i),new aR(e,n,t)}let dR=function uR(n,t,e,i){if(n[Hs])return;let r;r=8&e.type?li(i):function gX(n,t){const e=n[an],i=e.createComment(""),r=mo(t,n);return ll(e,Wg(e,r),i,function Hj(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Hs]=r};class aC{constructor(t){this.queryList=t,this.matches=null}clone(){return new aC(this.queryList)}setDirty(){this.queryList.setDirty()}}class cC{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new cC(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==gR(t,e).matches&&this.queries[e].setDirty()}}class hR{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class lC{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new lC(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class dC{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new dC(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,vX(e,o)),this.matchTNodeWithReadOption(t,e,Rg(e,t,o,!1,!1))}else i===Cr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Rg(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===vt||r===ji||r===Cr&&4&e.type)this.addMatch(e.index,-2);else{const o=Rg(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function vX(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function xX(n,t,e,i){return-1===e?function yX(n,t){return 11&n.type?ou(n,t):4&n.type?E_(n,t):null}(t,n):-2===e?function wX(n,t,e){return e===vt?ou(t,n):e===Cr?E_(t,n):e===ji?lR(t,n):void 0}(n,t,i):sl(n,n[At],e,t)}function fR(n,t,e,i){const r=t[zs].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let c=0;c<s.length;c+=2){const l=s[c];a.push(l<0?null:xX(t,o[l],s[c+1],e.metadata.read))}r.matches=a}return r.matches}function uC(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=fR(n,t,r,e);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],d=t[-c];for(let u=yr;u<d.length;u++){const h=d[u];h[xf]===h[yi]&&uC(h[At],h,l,i)}if(null!==d[Nd]){const u=d[Nd];for(let h=0;h<u.length;h++){const f=u[h];uC(f[At],f,l,i)}}}}}return i}function Ht(n){const t=Je(),e=Fn(),i=DD();_x(i+1);const r=gR(e,i);if(n.dirty&&function c6(n){return 4==(4&n[fn])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?uC(e,t,i,[]):fR(e,t,r,i);n.reset(o,$9),n.notifyOnChanges()}return!0}return!1}function Tn(n,t,e){const i=Fn();i.firstCreatePass&&(mR(i,new hR(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),pR(i,Je(),t)}function Ti(n,t,e,i){const r=Fn();if(r.firstCreatePass){const o=wr();mR(r,new hR(t,e,i),o.index),function MX(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}pR(r,Je(),e)}function Gt(){return function CX(n,t){return n[zs].queries[t].queryList}(Je(),DD())}function pR(n,t,e){const i=new _l(4==(4&e));(function MW(n,t,e,i){const r=VP(t);r.push(e),n.firstCreatePass&&zP(n).push(i,r.length-1)})(n,t,i,i.destroy),null===t[zs]&&(t[zs]=new cC),t[zs].queries.push(new aC(i))}function mR(n,t,e){null===n.queries&&(n.queries=new lC),n.queries.track(new dC(t,e))}function gR(n,t){return n.queries.getByIndex(t)}function hC(n,t){return E_(n,t)}const bC=new qe("Application Initializer");let vC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=lt(bC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(np(o))e.push(o);else if(x2(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RR=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Ks=new qe("LocaleId",{providedIn:"root",factory:()=>lt(Ks,En.Optional|En.SkipSelf)||function WX(){return typeof $localize<"u"&&$localize.locale||Cu}()});let D_=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new uo(!1)}add(){this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class XX{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let kR=(()=>{class n{compileModuleSync(e){return new iC(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Aa(Ao(e).declarations).reduce((s,a)=>{const c=Ln(a);return c&&s.push(new Kf(c)),s},[]);return new XX(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const BR=new qe(""),P_=new qe("");let MC,wC=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,MC||(function gq(n){MC=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{It.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(le(It),le(CC),le(P_))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),CC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return MC?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),wc=null;const UR=new qe("AllowMultipleToken"),SC=new qe("PlatformDestroyListeners"),O_=new qe("appBootstrapListener");class zR{constructor(t,e){this.name=t,this.token=e}}function GR(n,t,e=[]){const i=`Platform: ${t}`,r=new qe(i);return(o=[])=>{let s=EC();if(!s||s.injector.get(UR,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function vq(n){if(wc&&!wc.get(UR,!1))throw new ze(400,!1);(function VR(){!function qG(n){cD=n}(()=>{throw new ze(600,!1)})})(),wc=n;const t=n.get(WR);(function HR(n){n.get(eP,null)?.forEach(e=>e())})(n)}(function jR(n=[],t){return ri.create({name:t,providers:[{provide:iw,useValue:"platform"},{provide:SC,useValue:new Set([()=>wc=null])},...n]})}(a,i))}return function xq(n){const t=EC();if(!t)throw new ze(401,!1);return t}()}}function EC(){return wc?.get(WR)??null}let WR=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function wq(n="zone.js",t){return"noop"===n?new aW:"zone.js"===n?new It(t):n}(i?.ngZone,function $R(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function LY(n,t,e){return new nC(n,t,e)}(e.moduleType,this.injector,function KR(n){return[{provide:It,useFactory:n},{provide:Hf,multi:!0,useFactory:()=>{const t=lt(Mq,{optional:!0});return()=>t.initialize()}},{provide:ZR,useFactory:Cq},{provide:mP,useFactory:gP}]}(()=>r)),s=o.injector.get(Yo,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{R_(this._modules,o),a.unsubscribe()})}),function YR(n,t,e){try{const i=e();return np(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(vC);return a.runInitializers(),a.donePromise.then(()=>(function mO(n){Go(n,"Expected localeId to be defined"),"string"==typeof n&&(pO=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Ks,Cu)||Cu),this._moduleDoBootstrap(o),o))})})}bootstrapModule(e,i=[]){const r=XR({},i);return function _q(n,t,e){const i=new iC(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Cc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new ze(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(SC,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(le(ri))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function XR(n,t){return Array.isArray(t)?t.reduce(XR,n):{...n,...t}}let Cc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=lt(ZR),this.zoneIsStable=lt(mP),this.componentTypes=[],this.components=[],this.isStable=lt(D_).hasPendingTasks.pipe(ho(e=>e?Wt(!1):this.zoneIsStable),pf(),dg()),this._injector=lt(Po)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof rP;if(!this._injector.get(vC).done)throw!r&&function Od(n){const t=Ln(n)||vr(n)||Yr(n);return null!==t&&t.standalone}(e),new ze(405,!1);let s;s=r?e:this._injector.get(Ea).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function bq(n){return n.isBoundToModule}(s)?void 0:this._injector.get(gl),l=s.create(ri.NULL,[],i||s.selector,a),d=l.location.nativeElement,u=l.injector.get(BR,null);return u?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),R_(this.components,l),u?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new ze(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;R_(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(O_,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>R_(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new ze(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const ZR=new qe("",{providedIn:"root",factory:()=>lt(Yo).handleError.bind(void 0)});function Cq(){const n=lt(It),t=lt(Yo);return e=>n.runOutsideAngular(()=>t.handleError(e))}let Mq=(()=>{class n{constructor(){this.zone=lt(It),this.applicationRef=lt(Cc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Ci=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Eq}return n})();function Eq(n){return function Aq(n,t,e){if(il(n)&&!e){const i=To(n.index,t);return new Zf(i,i)}return 47&n.type?new Zf(t[Fi],t):null}(wr(),Je(),16==(16&n))}class tk{constructor(){}supports(t){return f_(t)}create(t){return new Rq(t)}}const Oq=(n,t)=>t;class Rq{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Oq}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<ik(i,r,o)?e:i,a=ik(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,d=c-r;if(l!=d){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,m=f+h;d<=m&&m<l&&(o[h]=f+1)}o[s.previousIndex]=d-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!f_(t))throw new ze(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function g$(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new kq(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new nk),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nk),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class kq{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lq{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class nk{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Lq,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ik(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class rk{constructor(){}supports(t){return t instanceof Map||Nw(t)}create(){return new Fq}}class Fq{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Nw(t)))throw new ze(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new Nq(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Nq{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ok(){return new fp([new tk])}let fp=(()=>{class n{static#e=this.\u0275prov=Fe({token:n,providedIn:"root",factory:ok});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||ok()),deps:[[n,new kf,new cl]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new ze(901,!1)}}return n})();function sk(){return new vl([new rk])}let vl=(()=>{class n{static#e=this.\u0275prov=Fe({token:n,providedIn:"root",factory:sk});constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||sk()),deps:[[n,new kf,new cl]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new ze(901,!1)}}return n})();const Vq=GR(null,"core",[]);let zq=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)(le(Cc))};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({})}return n})();function Eu(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let OC=null;function Mc(){return OC}class tZ{}const Zt=new qe("DocumentToken");let RC=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return lt(iZ)},providedIn:"platform"})}return n})();const nZ=new qe("Location Initialized");let iZ=(()=>{class n extends RC{constructor(){super(),this._doc=lt(Zt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mc().getBaseHref(this._doc)}onPopState(e){const i=Mc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Mc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function kC(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function mk(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Da(n){return n&&"?"!==n[0]?"?"+n:n}let yl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return lt(_k)},providedIn:"root"})}return n})();const gk=new qe("appBaseHref");let _k=(()=>{class n extends yl{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??lt(Zt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return kC(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Da(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Da(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Da(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(le(RC),le(gk,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rZ=(()=>{class n extends yl{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=kC(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Da(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Da(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(le(RC),le(gk,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),pp=(()=>{class n{constructor(e){this._subject=new Mt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function aZ(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(mk(bk(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Da(i))}normalize(e){return n.stripTrailingSlash(function sZ(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,bk(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Da(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Da(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Da;static#t=this.joinWithSlash=kC;static#n=this.stripTrailingSlash=mk;static#i=this.\u0275fac=function(i){return new(i||n)(le(yl))};static#r=this.\u0275prov=Fe({token:n,factory:function(){return function oZ(){return new pp(le(yl))}()},providedIn:"root"})}return n})();function bk(n){return n.replace(/\/index.html$/,"")}function Ak(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}const jC=/\s+/,Tk=[];let Tu=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Tk,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(jC):Tk}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(jC):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(jC).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(D(fp),D(vl),D(vt),D(vs))};static#t=this.\u0275dir=De({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class $Z{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Du=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new $Z(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),Ik(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Ik(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(D(ji),D(Cr),D(fp))};static#t=this.\u0275dir=De({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Ik(n,t){n.context.$implicit=t.item}let sr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new YZ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Pk("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Pk("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(D(ji),D(Cr))};static#t=this.\u0275dir=De({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class YZ{constructor(){this.$implicit=null,this.ngIf=null}}function Pk(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ir(t)}'.`)}class WC{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let _p=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),$C=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new WC(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(D(ji),D(Cr),D(_p,9))};static#t=this.\u0275dir=De({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),Ok=(()=>{class n{constructor(e,i,r){r._addDefault(new WC(e,i))}static#e=this.\u0275fac=function(i){return new(i||n)(D(ji),D(Cr),D(_p,9))};static#t=this.\u0275dir=De({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0})}return n})(),kk=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(D(ji))};static#t=this.\u0275dir=De({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[jn]})}return n})(),si=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({})}return n})();const Fk="browser";function xl(n){return n===Fk}function Sc(n){return"server"===n}let yK=(()=>{class n{static#e=this.\u0275prov=Fe({token:n,providedIn:"root",factory:()=>new xK(le(Zt),window)})}return n})();class xK{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function wK(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Nk{}class WK extends tZ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class QC extends WK{static makeCurrent(){!function eZ(n){OC||(OC=n)}(new QC)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function $K(){return vp=vp||document.querySelector("base"),vp?vp.getAttribute("href"):null}();return null==e?null:function YK(n){q_=q_||document.createElement("a"),q_.setAttribute("href",n);const t=q_.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){vp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ak(document.cookie,t)}}let q_,vp=null,qK=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();const JC=new qe("EventManagerPlugins");let Hk=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new ze(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(le(JC),le(It))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();class Gk{constructor(t){this._doc=t}}const eM="ng-app-id";let jk=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Sc(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${eM}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(eM),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(eM,this.appId),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i);e.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(le(Zt),le(Gf),le(aw,8),le(Lr))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();const tM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},nM=/%COMP%/g,JK=new qe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function $k(n,t){return t.map(e=>e.replace(nM,n))}let iM=(()=>{class n{constructor(e,i,r,o,s,a,c,l=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Sc(a),this.defaultRenderer=new rM(e,s,c,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===jo.ShadowDom&&(i={...i,encapsulation:jo.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof Xk?r.applyToHost(e):r instanceof oM&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer;switch(i.encapsulation){case jo.Emulated:o=new Xk(c,l,i,this.appId,d,s,a,u);break;case jo.ShadowDom:return new iQ(c,l,e,i,s,a,this.nonce,u);default:o=new oM(c,l,i,d,s,a,u)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(le(Hk),le(jk),le(Gf),le(JK),le(Zt),le(Lr),le(It),le(aw))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();class rM{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(tM[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Yk(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Yk(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new ze(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=tM[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=tM[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(_c.DashCase|_c.Important)?t.style.setProperty(e,i,r&_c.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&_c.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Mc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Yk(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class iQ extends rM{constructor(t,e,i,r,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=$k(r.id,r.styles);for(const d of l){const u=document.createElement("style");a&&u.setAttribute("nonce",a),u.textContent=d,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class oM extends rM{constructor(t,e,i,r,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?$k(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Xk extends oM{constructor(t,e,i,r,o,s,a,c){const l=r+"-"+i.id;super(t,e,i,o,s,a,c,l),this.contentAttr=function eQ(n){return"_ngcontent-%COMP%".replace(nM,n)}(l),this.hostAttr=function tQ(n){return"_nghost-%COMP%".replace(nM,n)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let rQ=(()=>{class n extends Gk{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(le(Zt))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();const qk=["alt","control","meta","shift"],oQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let aQ=(()=>{class n extends Gk{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mc().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),qk.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,i){let r=oQ[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),qk.forEach(s=>{s!==r&&(0,sQ[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(le(Zt))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();const uQ=GR(Vq,"browser",[{provide:Lr,useValue:Fk},{provide:eP,useValue:function cQ(){QC.makeCurrent()},multi:!0},{provide:Zt,useFactory:function dQ(){return function Zj(n){Yx=n}(document),document},deps:[]}]),hQ=new qe(""),Qk=[{provide:P_,useClass:class XK{addToWindow(t){ci.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new ze(5103,!1);return o},ci.getAllAngularTestabilities=()=>t.getAllTestabilities(),ci.getAllAngularRootElements=()=>t.getAllRootElements(),ci.frameworkStabilizers||(ci.frameworkStabilizers=[]),ci.frameworkStabilizers.push(i=>{const r=ci.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(c){s=s||c,o--,0==o&&i(s)};r.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Mc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:BR,useClass:wC,deps:[It,CC,P_]},{provide:wC,useClass:wC,deps:[It,CC,P_]}],Jk=[{provide:iw,useValue:"root"},{provide:Yo,useFactory:function lQ(){return new Yo},deps:[]},{provide:JC,useClass:rQ,multi:!0,deps:[Zt,It,Lr]},{provide:JC,useClass:aQ,multi:!0,deps:[Zt]},iM,jk,Hk,{provide:$f,useExisting:iM},{provide:Nk,useClass:qK,deps:[]},[]];let eL=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Gf,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(le(hQ,12))};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[...Jk,...Qk],imports:[si,zq]})}return n})(),tL=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(le(Zt))};static#t=this.\u0275prov=Fe({token:n,factory:function(i){let r=null;return r=i?new i:function pQ(){return new tL(le(Zt))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let Z_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(i){let r=null;return r=i?new(i||n):le(rL),r},providedIn:"root"})}return n})(),rL=(()=>{class n extends Z_{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case fr.NONE:return i;case fr.HTML:return $s(i,"HTML")?Io(i):jI(this._doc,String(i)).toString();case fr.STYLE:return $s(i,"Style")?Io(i):i;case fr.SCRIPT:if($s(i,"Script"))return Io(i);throw new ze(5200,!1);case fr.URL:return $s(i,"URL")?Io(i):Zg(String(i));case fr.RESOURCE_URL:if($s(i,"ResourceURL"))return Io(i);throw new ze(5201,!1);default:throw new ze(5202,!1)}}bypassSecurityTrustHtml(e){return function i9(n){return new Kj(n)}(e)}bypassSecurityTrustStyle(e){return function r9(n){return new Qj(n)}(e)}bypassSecurityTrustScript(e){return function o9(n){return new Jj(n)}(e)}bypassSecurityTrustUrl(e){return function s9(n){return new e9(n)}(e)}bypassSecurityTrustResourceUrl(e){return function a9(n){return new t9(n)}(e)}static#e=this.\u0275fac=function(i){return new(i||n)(le(Zt))};static#t=this.\u0275prov=Fe({token:n,factory:function(i){let r=null;return r=i?new i:function bQ(n){return new rL(n.get(Zt))}(le(ri)),r},providedIn:"root"})}return n})();const{isArray:vQ}=Array,{getPrototypeOf:yQ,prototype:xQ,keys:wQ}=Object;function sL(n){if(1===n.length){const t=n[0];if(vQ(t))return{args:t,keys:null};if(function CQ(n){return n&&"object"==typeof n&&yQ(n)===xQ}(t)){const e=wQ(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:MQ}=Array;function aM(n){return tt(t=>function SQ(n,t){return MQ(t)?n(...t):n(t)}(n,t))}function aL(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function cL(...n){const t=CT(n),{args:e,keys:i}=sL(n),r=new Jt(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let u=!1;Wr(e[d]).subscribe(Ze(o,h=>{u||(u=!0,l--),a[d]=h},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(i?aL(i,a):a),o.complete())}))}});return t?r.pipe(aM(t)):r}let lL=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(D(vs),D(vt))};static#t=this.\u0275dir=De({type:n})}return n})(),wl=(()=>{class n extends lL{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275dir=De({type:n,features:[He]})}return n})();const Qs=new qe("NgValueAccessor"),AQ={provide:Qs,useExisting:Kn(()=>yp),multi:!0},DQ=new qe("CompositionEventMode");let yp=(()=>{class n extends lL{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function TQ(){const n=Mc()?Mc().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(D(vs),D(vt),D(DQ,8))};static#t=this.\u0275dir=De({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Rt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ut([AQ]),He]})}return n})();function Ac(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function uL(n){return null!=n&&"number"==typeof n.length}const Nr=new qe("NgValidators"),Tc=new qe("NgAsyncValidators"),IQ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Iu{static min(t){return function hL(n){return t=>{if(Ac(t.value)||Ac(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function fL(n){return t=>{if(Ac(t.value)||Ac(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function pL(n){return Ac(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function mL(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function gL(n){return Ac(n.value)||IQ.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function _L(n){return t=>Ac(t.value)||!uL(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function bL(n){return t=>uL(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function vL(n){if(!n)return K_;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ac(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return SL(t)}static composeAsync(t){return EL(t)}}function K_(n){return null}function yL(n){return null!=n}function xL(n){return np(n)?nr(n):n}function wL(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function CL(n,t){return t.map(e=>e(n))}function ML(n){return n.map(t=>function PQ(n){return!n.validate}(t)?t:e=>t.validate(e))}function SL(n){if(!n)return null;const t=n.filter(yL);return 0==t.length?null:function(e){return wL(CL(e,t))}}function cM(n){return null!=n?SL(ML(n)):null}function EL(n){if(!n)return null;const t=n.filter(yL);return 0==t.length?null:function(e){return cL(CL(e,t).map(xL)).pipe(tt(wL))}}function lM(n){return null!=n?EL(ML(n)):null}function AL(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function TL(n){return n._rawValidators}function DL(n){return n._rawAsyncValidators}function dM(n){return n?Array.isArray(n)?n:[n]:[]}function Q_(n,t){return Array.isArray(n)?n.includes(t):n===t}function IL(n,t){const e=dM(t);return dM(n).forEach(r=>{Q_(e,r)||e.push(r)}),e}function PL(n,t){return dM(t).filter(e=>!Q_(n,e))}class OL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=cM(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=lM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class to extends OL{get formDirective(){return null}get path(){return null}}class Js extends OL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class RL{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let uM=(()=>{class n extends RL{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(D(Js,2))};static#t=this.\u0275dir=De({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Cn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[He]})}return n})(),J_=(()=>{class n extends RL{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(D(to,10))};static#t=this.\u0275dir=De({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Cn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[He]})}return n})();const xp="VALID",tb="INVALID",Pu="PENDING",wp="DISABLED";function pM(n){return(nb(n)?n.validators:n)||null}function mM(n,t){return(nb(t)?t.asyncValidators:n)||null}function nb(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function LL(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new ze(1e3,"");if(!i[e])throw new ze(1001,"")}function FL(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new ze(1002,"")})}class ib{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===xp}get invalid(){return this.status===tb}get pending(){return this.status==Pu}get disabled(){return this.status===wp}get enabled(){return this.status!==wp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(IL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(IL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(PL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(PL(t,this._rawAsyncValidators))}hasValidator(t){return Q_(this._rawValidators,t)}hasAsyncValidator(t){return Q_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Pu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=wp,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=xp,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xp||this.status===Pu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wp:xp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Pu,this._hasOwnPendingAsyncValidator=!0;const e=xL(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Mt,this.statusChanges=new Mt}_calculateStatus(){return this._allControlsDisabled()?wp:this.errors?tb:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pu)?Pu:this._anyControlsHaveStatus(tb)?tb:xp}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nb(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function LQ(n){return Array.isArray(n)?cM(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function FQ(n){return Array.isArray(n)?lM(n):n||null}(this._rawAsyncValidators)}}class Ou extends ib{constructor(t,e,i){super(pM(e),mM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){FL(this,0,t),Object.keys(t).forEach(i=>{LL(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class NL extends Ou{}const Cl=new qe("CallSetDisabledState",{providedIn:"root",factory:()=>Cp}),Cp="always";function Mp(n,t,e=Cp){gM(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function BQ(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BL(n,t)})}(n,t),function VQ(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function UQ(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BL(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function NQ(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function ob(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),ab(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function sb(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function gM(n,t){const e=TL(n);null!==t.validator?n.setValidators(AL(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=DL(n);null!==t.asyncValidator?n.setAsyncValidators(AL(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();sb(t._rawValidators,r),sb(t._rawAsyncValidators,r)}function ab(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=TL(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=DL(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return sb(t._rawValidators,i),sb(t._rawAsyncValidators,i),e}function BL(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function UL(n,t){gM(n,t)}function VL(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const WQ={provide:to,useExisting:Kn(()=>Ru)},Sp=(()=>Promise.resolve())();let Ru=(()=>{class n extends to{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Mt,this.form=new Ou({},cM(e),lM(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Sp.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Mp(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Sp.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Sp.then(()=>{const i=this._findContainer(e.path),r=new Ou({});UL(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Sp.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Sp.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,VL(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(D(Nr,10),D(Tc,10),D(Cl,8))};static#t=this.\u0275dir=De({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Rt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([WQ]),He]})}return n})();function zL(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function HL(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Dc=class extends ib{constructor(t=null,e,i){super(pM(e),mM(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nb(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=HL(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zL(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zL(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){HL(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let cb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),XL=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({})}return n})();const yM=new qe("NgModelWithFormControlWarning"),eJ={provide:to,useExisting:Kn(()=>Ml)};let Ml=(()=>{class n extends to{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Mt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ab(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Mp(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){ob(e.control||null,e,!1),function jQ(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,VL(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(ob(i||null,e),(n=>n instanceof Dc)(r)&&(Mp(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);UL(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function zQ(n,t){return ab(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gM(this.form,this),this._oldForm&&ab(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(D(Nr,10),D(Tc,10),D(Cl,8))};static#t=this.\u0275dir=De({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Rt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ut([eJ]),He,jn]})}return n})();const iJ={provide:Js,useExisting:Kn(()=>lb)};let lb=(()=>{class n extends Js{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Mt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function vM(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===yp?e=o:function GQ(n){return Object.getPrototypeOf(n.constructor)===wl}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){this._added||this._setUpControl(),function bM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function rb(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(D(to,13),D(Nr,10),D(Tc,10),D(Qs,10),D(yM,8))};static#n=this.\u0275dir=De({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ut([iJ]),He,jn]})}return n})(),dF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[XL]})}return n})();class uF extends ib{constructor(t,e,i){super(pM(e),mM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){FL(this,0,t),t.forEach((i,r)=>{LL(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function hF(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let bJ=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return hF(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Ou(r,o)}record(e,i=null){const r=this._reduceControls(e);return new NL(r,i)}control(e,i,r){let o={};return this.useNonNullable?(hF(i)?o=i:(o.validators=i,o.asyncValidators=r),new Dc(e,{...o,nonNullable:!0})):new Dc(e,i,r)}array(e,i,r){const o=e.map(s=>this._createControl(s));return new uF(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Dc||e instanceof ib?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fF=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Cl,useValue:e.callSetDisabledState??Cp}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[dF]})}return n})(),pF=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:yM,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Cl,useValue:e.callSetDisabledState??Cp}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[dF]})}return n})();class mF{}class vJ{}const Oa="*";function Ss(n,t){return{type:7,name:n,definitions:t,options:{}}}function $i(n,t=null){return{type:4,styles:t,timings:n}}function _F(n,t=null){return{type:2,steps:n,options:t}}function Nn(n){return{type:6,styles:n,offset:null}}function Mr(n,t,e){return{type:0,name:n,styles:t,options:e}}function Yi(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function EM(n=null){return{type:9,options:n}}function AM(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}class Ep{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class bF{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function vF(n){return new ze(3e3,!1)}function Ic(n){switch(n.length){case 0:return new Ep;case 1:return n[0];default:return new bF(n)}}function yF(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(c=>{const l=c.get("offset"),d=l==s,u=d&&a||new Map;c.forEach((h,f)=>{let m=f,v=h;if("offset"!==f)switch(m=n.normalizePropertyName(m,r),v){case"!":v=e.get(f);break;case Oa:v=i.get(f);break;default:v=n.normalizeStyleValue(f,m,v,r)}u.set(m,v)}),d||o.push(u),a=u,s=l}),r.length)throw function HJ(n){return new ze(3502,!1)}();return o}function DM(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&IM(e,"start",n)));break;case"done":n.onDone(()=>i(e&&IM(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&IM(e,"destroy",n)))}}function IM(n,t,e){const o=PM(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function PM(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function ko(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function xF(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const eee=(()=>typeof document>"u"?null:document.documentElement)();function OM(n){const t=n.parentNode||n.host||null;return t===eee?null:t}let El=null,wF=!1;function CF(n,t){for(;t;){if(t===n)return!0;t=OM(t)}return!1}function MF(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let SF=(()=>{class n{validateStyleProperty(e){return function nee(n){El||(El=function iee(){return typeof document<"u"?document.body:null}()||{},wF=!!El.style&&"WebkitAppearance"in El.style);let t=!0;return El.style&&!function tee(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in El.style,!t&&wF&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in El.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return CF(e,i)}getParentElement(e){return OM(e)}query(e,i,r){return MF(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],c){return new Ep(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),RM=(()=>{class n{static#e=this.NOOP=new SF}return n})();const ree=1e3,kM="ng-enter",db="ng-leave",ub="ng-trigger",hb=".ng-trigger",AF="ng-animating",LM=".ng-animating";function Ra(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:FM(parseFloat(t[1]),t[2])}function FM(n,t){return"s"===t?n*ree:n}function fb(n,t,e){return n.hasOwnProperty("duration")?n:function see(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(vF()),{duration:0,delay:0,easing:""};r=FM(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=FM(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!e){let a=!1,c=t.length;r<0&&(t.push(function yJ(){return new ze(3100,!1)}()),a=!0),o<0&&(t.push(function xJ(){return new ze(3101,!1)}()),a=!0),a&&t.splice(c,0,vF())}return{duration:r,delay:o,easing:s}}(n,t,e)}function Ap(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function TF(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function Pc(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function ea(n,t,e){t.forEach((i,r)=>{const o=BM(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function Al(n,t){t.forEach((e,i)=>{const r=BM(i);n.style[r]=""})}function Tp(n){return Array.isArray(n)?1==n.length?n[0]:_F(n):n}const NM=new RegExp("{{\\s*(.+?)\\s*}}","g");function IF(n){let t=[];if("string"==typeof n){let e;for(;e=NM.exec(n);)t.push(e[1]);NM.lastIndex=0}return t}function Dp(n,t,e){const i=n.toString(),r=i.replace(NM,(o,s)=>{let a=t[s];return null==a&&(e.push(function CJ(n){return new ze(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function pb(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const lee=/-+([a-z0-9])/g;function BM(n){return n.replace(lee,(...t)=>t[1].toUpperCase())}function Lo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function MJ(n){return new ze(3004,!1)}()}}function PF(n,t){return window.getComputedStyle(n)[t]}const mb="*";function hee(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function fee(n,t,e){if(":"==n[0]){const c=function pee(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function BJ(n){return new ze(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof c)return void t.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function NJ(n){return new ze(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push(OF(r,s));"<"==o[0]&&!(r==mb&&s==mb)&&t.push(OF(s,r))}(i,e,t)):e.push(n),e}const gb=new Set(["true","1"]),_b=new Set(["false","0"]);function OF(n,t){const e=gb.has(n)||_b.has(n),i=gb.has(t)||_b.has(t);return(r,o)=>{let s=n==mb||n==r,a=t==mb||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?gb.has(n):_b.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?gb.has(t):_b.has(t)),s&&a}}const mee=new RegExp("s*:selfs*,?","g");function UM(n,t,e,i){return new gee(n).build(t,e,i)}class gee{constructor(t){this._driver=t}build(t,e,i){const r=new vee(e);return this._resetContextStyleTimingState(r),Lo(this,Tp(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function EJ(){return new ze(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,e))}),c.name=l}else if(1==a.type){const c=this.visitTransition(a,e);i+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(function AJ(){return new ze(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{IF(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&(pb(o.values()),e.errors.push(function TJ(n,t){return new ze(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Lo(this,Tp(t.animation),e);return{type:1,matchers:hee(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Tl(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Lo(this,i,e)),options:Tl(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=Lo(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Tl(t.options)}}visitAnimate(t,e){const i=function xee(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return VM(fb(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=VM(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=fb(e,t);return VM(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Nn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=Nn(l)}e.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,e);c.isEmptyStep=a,r=c}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===Oa?i.push(a):e.errors.push(new ze(3002,!1)):i.push(TF(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=e.collectedStyles.get(e.currentQuerySelector),d=l.get(c);let u=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(e.errors.push(function IJ(n,t,e,i,r){return new ze(3010,!1)}()),u=!1),o=d.startTime),u&&l.set(c,{startTime:o,endTime:r}),e.options&&function cee(n,t,e){const i=t.params||{},r=IF(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function wJ(n){return new ze(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function PJ(){return new ze(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const d=t.steps.map(b=>{const y=this._makeStyleAst(b,e);let x=null!=y.offset?y.offset:function yee(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(y.styles),E=0;return null!=x&&(o++,E=y.offset=x),c=c||E<0||E>1,a=a||E<l,l=E,s.push(E),y});c&&e.errors.push(function OJ(){return new ze(3012,!1)}()),a&&e.errors.push(function RJ(){return new ze(3200,!1)}());const u=t.steps.length;let h=0;o>0&&o<u?e.errors.push(function kJ(){return new ze(3202,!1)}()):0==o&&(h=1/(u-1));const f=u-1,m=e.currentTime,v=e.currentAnimateTimings,g=v.duration;return d.forEach((b,y)=>{const x=h>0?y==f?1:h*y:s[y],E=x*g;e.currentTime=m+v.delay+E,v.duration=E,this._validateStyleAst(b,e),b.offset=x,i.styles.push(b)}),i}visitReference(t,e){return{type:8,animation:Lo(this,Tp(t.animation),e),options:Tl(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Tl(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Tl(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function _ee(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(mee,"")),n=n.replace(/@\*/g,hb).replace(/@\w+/g,e=>hb+"-"+e.slice(1)).replace(/:animating/g,LM),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ko(e.collectedStyles,e.currentQuerySelector,new Map);const a=Lo(this,Tp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Tl(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function LJ(){return new ze(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:fb(t.timings,e.errors,!0);return{type:12,animation:Lo(this,Tp(t.animation),e),timings:i,options:null}}}class vee{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Tl(n){return n?(n=Ap(n)).params&&(n.params=function bee(n){return n?Ap(n):null}(n.params)):n={},n}function VM(n,t,e){return{duration:n,delay:t,easing:e}}function zM(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class bb{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Mee=new RegExp(":enter","g"),Eee=new RegExp(":leave","g");function HM(n,t,e,i,r,o=new Map,s=new Map,a,c,l=[]){return(new Aee).buildKeyframes(n,t,e,i,r,o,s,a,c,l)}class Aee{buildKeyframes(t,e,i,r,o,s,a,c,l,d=[]){l=l||new bb;const u=new GM(t,e,l,r,o,d,[]);u.options=c;const h=c.delay?Ra(c.delay):0;u.currentTimeline.delayNextStep(h),u.currentTimeline.setStyles([s],null,u.errors,c),Lo(this,i,u);const f=u.timelines.filter(m=>m.containsAnimation());if(f.length&&a.size){let m;for(let v=f.length-1;v>=0;v--){const g=f[v];if(g.element===e){m=g;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,u.errors,c)}return f.length?f.map(m=>m.buildKeyframes()):[zM(e,[],[],[],0,h,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:Ra(Dp(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Ra(i.duration):null,a=null!=i.delay?Ra(i.delay):null;return 0!==s&&t.forEach(c=>{const l=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Lo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=vb);const s=Ra(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Lo(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Ra(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Lo(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return fb(e.params?Dp(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Ra(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=vb);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{e.currentQueryIndex=d;const u=e.createSubContext(t.options,l);o&&u.delayNextStep(o),l===e.element&&(c=u.currentTimeline),Lo(this,t.animation,u),u.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,u.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const d=e.currentTimeline;c&&d.delayNextStep(c);const u=d.currentTime;Lo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-u+(r.startTime-i.currentTimeline.startTime)}}const vb={};class GM{constructor(t,e,i,r,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new yb(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Ra(i.duration)),null!=i.delay&&(r.delay=Ra(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Dp(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new GM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=vb,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new Tee(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Mee,"."+this._enterClassName)).replace(Eee,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function FJ(n){return new ze(3014,!1)}()),a}}class yb{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new yb(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Oa),this._currentKeyframe.set(e,Oa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function Dee(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Oa)}else Pc(r,e)}),e}(t,this._globalTimelineStyles);for(let[a,c]of s){const l=Dp(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Oa),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=Pc(a,new Map,this._backFill);l.forEach((d,u)=>{"!"===d?t.add(u):d===Oa&&e.add(u)}),i||l.set("offset",c/this.duration),r.push(l)});const o=t.size?pb(t.values()):[],s=e.size?pb(e.values()):[];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return zM(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Tee extends yb{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,c=Pc(t[0]);c.set("offset",0),o.push(c);const l=Pc(t[0]);l.set("offset",LF(a)),o.push(l);const d=t.length-1;for(let u=1;u<=d;u++){let h=Pc(t[u]);const f=h.get("offset");h.set("offset",LF((e+f*i)/s)),o.push(h)}i=s,e=0,r="",t=o}return zM(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function LF(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class jM{}const Iee=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Pee extends jM{normalizePropertyName(t,e){return BM(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(Iee.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function SJ(n,t){return new ze(3005,!1)}())}return s+o}}function FF(n,t,e,i,r,o,s,a,c,l,d,u,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:u,errors:h}}const WM={};class NF{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Oee(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,c,l,d){const u=[],h=this.ast.options&&this.ast.options.params||WM,m=this.buildStyles(i,a&&a.params||WM,u),v=c&&c.params||WM,g=this.buildStyles(r,v,u),b=new Set,y=new Map,x=new Map,E="void"===r,O={params:Ree(v,h),delay:this.ast.options?.delay},R=d?[]:HM(t,e,this.ast.animation,o,s,m,g,O,l,u);let B=0;if(R.forEach(N=>{B=Math.max(N.duration+N.delay,B)}),u.length)return FF(e,this._triggerName,i,r,E,m,g,[],[],y,x,B,u);R.forEach(N=>{const H=N.element,ge=ko(y,H,new Set);N.preStyleProps.forEach(Be=>ge.add(Be));const _e=ko(x,H,new Set);N.postStyleProps.forEach(Be=>_e.add(Be)),H!==e&&b.add(H)});const $=pb(b.values());return FF(e,this._triggerName,i,r,E,m,g,R,$,y,x,B)}}function Ree(n,t){const e=Ap(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class kee{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Ap(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Dp(s,r,e));const c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),i.set(a,s)})}),i}}class Fee{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new kee(r.style,r.options&&r.options.params||{},i))}),BF(this.states,"true","1"),BF(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new NF(t,r,this.states))}),this.fallbackTransition=function Nee(n,t,e){return new NF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function BF(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const Bee=new bb;class Uee{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=UM(this._driver,e,i,[]);if(i.length)throw function GJ(n){return new ze(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=yF(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=HM(this._driver,e,o,kM,db,new Map,new Map,i,Bee,r),s.forEach(d=>{const u=ko(a,d.element,new Map);d.postStyleProps.forEach(h=>u.set(h,null))})):(r.push(function jJ(){return new ze(3300,!1)}()),s=[]),r.length)throw function WJ(n){return new ze(3504,!1)}();a.forEach((d,u)=>{d.forEach((h,f)=>{d.set(f,this._driver.computeStyle(u,f,Oa))})});const l=Ic(s.map(d=>{const u=a.get(d.element);return this._buildPlayer(d,new Map,u)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function $J(n){return new ze(3301,!1)}();return e}listen(t,e,i,r){const o=PM(e,"","","");return DM(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const UF="ng-animate-queued",$M="ng-animate-disabled",jee=[],VF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Wee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Es="__ng_removed";class YM{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function qee(n){return n??null}(i?t.value:t),i){const o=Ap(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Ip="void",XM=new YM(Ip);class $ee{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ts(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function YJ(n,t){return new ze(3302,!1)}();if(null==i||0==i.length)throw function XJ(n){return new ze(3303,!1)}();if(!function Zee(n){return"start"==n||"done"==n}(i))throw function qJ(n,t){return new ze(3400,!1)}();const o=ko(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=ko(this._engine.statesByElement,t,new Map);return a.has(e)||(ts(t,ub),ts(t,ub+"-"+e),a.set(e,XM)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function ZJ(n){return new ze(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new qM(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(ts(t,ub),ts(t,ub+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const l=new YM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(e,l),c||(c=XM),l.value!==Ip&&c.value===l.value){if(!function Jee(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(c.params,l.params)){const v=[],g=o.matchStyles(c.value,c.params,v),b=o.matchStyles(l.value,l.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{Al(t,g),ea(t,b)})}return}const h=ko(this._engine.playersByElement,t,[]);h.forEach(v=>{v.namespaceId==this.id&&v.triggerName==e&&v.queued&&v.destroy()});let f=o.matchTransition(c.value,l.value,t,l.params),m=!1;if(!f){if(!r)return;f=o.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:c,toState:l,player:s,isFallbackTransition:m}),m||(ts(t,UF),s.onStart(()=>{ku(t,UF)})),s.onDone(()=>{let v=this.players.indexOf(s);v>=0&&this.players.splice(v,1);const g=this._engine.playersByElement.get(t);if(g){let b=g.indexOf(s);b>=0&&g.splice(b,1)}}),this.players.push(s),h.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,hb,!0);i.forEach(r=>{if(r[Es])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const d=this.trigger(t,l,Ip,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Ic(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||XM,d=new YM(Ip),u=new qM(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Es];(!o||o===VF)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ts(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=PM(o,i.triggerName,i.fromState.value,i.toState.value);c._data=t,DM(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Yee{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new $ee(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(xb(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!xb(e))return;const o=e[Es];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ts(t,$M)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ku(t,$M))}removeNode(t,e,i){if(xb(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Es]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return xb(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,hb,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,LM,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ic(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Es];if(e&&e.setForRemoval){if(t[Es]=VF,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains($M)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ts(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ic(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function KJ(n){return new ze(3402,!1)}()}_flushAnimations(t,e){const i=new bb,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(pe=>{d.add(pe);const ne=this.driver.query(pe,".ng-animate-queued",!0);for(let te=0;te<ne.length;te++)d.add(ne[te])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=GF(h,this.collectedEnterElements),m=new Map;let v=0;f.forEach((pe,ne)=>{const te=kM+v++;m.set(ne,te),pe.forEach(Ce=>ts(Ce,te))});const g=[],b=new Set,y=new Set;for(let pe=0;pe<this.collectedLeaveElements.length;pe++){const ne=this.collectedLeaveElements[pe],te=ne[Es];te&&te.setForRemoval&&(g.push(ne),b.add(ne),te.hasAnimation?this.driver.query(ne,".ng-star-inserted",!0).forEach(Ce=>b.add(Ce)):y.add(ne))}const x=new Map,E=GF(h,Array.from(b));E.forEach((pe,ne)=>{const te=db+v++;x.set(ne,te),pe.forEach(Ce=>ts(Ce,te))}),t.push(()=>{f.forEach((pe,ne)=>{const te=m.get(ne);pe.forEach(Ce=>ku(Ce,te))}),E.forEach((pe,ne)=>{const te=x.get(ne);pe.forEach(Ce=>ku(Ce,te))}),g.forEach(pe=>{this.processLeaveNode(pe)})});const O=[],R=[];for(let pe=this._namespaceList.length-1;pe>=0;pe--)this._namespaceList[pe].drainQueuedTransitions(e).forEach(te=>{const Ce=te.player,Pe=te.element;if(O.push(Ce),this.collectedEnterElements.length){const K=Pe[Es];if(K&&K.setForMove){if(K.previousTriggersValues&&K.previousTriggersValues.has(te.triggerName)){const Ye=K.previousTriggersValues.get(te.triggerName),Re=this.statesByElement.get(te.element);if(Re&&Re.has(te.triggerName)){const bt=Re.get(te.triggerName);bt.value=Ye,Re.set(te.triggerName,bt)}}return void Ce.destroy()}}const ue=!u||!this.driver.containsElement(u,Pe),Ue=x.get(Pe),ce=m.get(Pe),Q=this._buildInstruction(te,i,ce,Ue,ue);if(Q.errors&&Q.errors.length)return void R.push(Q);if(ue)return Ce.onStart(()=>Al(Pe,Q.fromStyles)),Ce.onDestroy(()=>ea(Pe,Q.toStyles)),void r.push(Ce);if(te.isFallbackTransition)return Ce.onStart(()=>Al(Pe,Q.fromStyles)),Ce.onDestroy(()=>ea(Pe,Q.toStyles)),void r.push(Ce);const j=[];Q.timelines.forEach(K=>{K.stretchStartingKeyframe=!0,this.disabledNodes.has(K.element)||j.push(K)}),Q.timelines=j,i.append(Pe,Q.timelines),s.push({instruction:Q,player:Ce,element:Pe}),Q.queriedElements.forEach(K=>ko(a,K,[]).push(Ce)),Q.preStyleProps.forEach((K,Ye)=>{if(K.size){let Re=c.get(Ye);Re||c.set(Ye,Re=new Set),K.forEach((bt,rt)=>Re.add(rt))}}),Q.postStyleProps.forEach((K,Ye)=>{let Re=l.get(Ye);Re||l.set(Ye,Re=new Set),K.forEach((bt,rt)=>Re.add(rt))})});if(R.length){const pe=[];R.forEach(ne=>{pe.push(function QJ(n,t){return new ze(3505,!1)}())}),O.forEach(ne=>ne.destroy()),this.reportError(pe)}const B=new Map,$=new Map;s.forEach(pe=>{const ne=pe.element;i.has(ne)&&($.set(ne,ne),this._beforeAnimationBuild(pe.player.namespaceId,pe.instruction,B))}),r.forEach(pe=>{const ne=pe.element;this._getPreviousPlayers(ne,!1,pe.namespaceId,pe.triggerName,null).forEach(Ce=>{ko(B,ne,[]).push(Ce),Ce.destroy()})});const N=g.filter(pe=>WF(pe,c,l)),H=new Map;HF(H,this.driver,y,l,Oa).forEach(pe=>{WF(pe,c,l)&&N.push(pe)});const _e=new Map;f.forEach((pe,ne)=>{HF(_e,this.driver,new Set(pe),c,"!")}),N.forEach(pe=>{const ne=H.get(pe),te=_e.get(pe);H.set(pe,new Map([...ne?.entries()??[],...te?.entries()??[]]))});const Be=[],ee=[],Me={};s.forEach(pe=>{const{element:ne,player:te,instruction:Ce}=pe;if(i.has(ne)){if(d.has(ne))return te.onDestroy(()=>ea(ne,Ce.toStyles)),te.disabled=!0,te.overrideTotalTime(Ce.totalTime),void r.push(te);let Pe=Me;if($.size>1){let Ue=ne;const ce=[];for(;Ue=Ue.parentNode;){const Q=$.get(Ue);if(Q){Pe=Q;break}ce.push(Ue)}ce.forEach(Q=>$.set(Q,Pe))}const ue=this._buildAnimation(te.namespaceId,Ce,B,o,_e,H);if(te.setRealPlayer(ue),Pe===Me)Be.push(te);else{const Ue=this.playersByElement.get(Pe);Ue&&Ue.length&&(te.parentPlayer=Ic(Ue)),r.push(te)}}else Al(ne,Ce.fromStyles),te.onDestroy(()=>ea(ne,Ce.toStyles)),ee.push(te),d.has(ne)&&r.push(te)}),ee.forEach(pe=>{const ne=o.get(pe.element);if(ne&&ne.length){const te=Ic(ne);pe.setRealPlayer(te)}}),r.forEach(pe=>{pe.parentPlayer?pe.syncPlayerEvents(pe.parentPlayer):pe.destroy()});for(let pe=0;pe<g.length;pe++){const ne=g[pe],te=ne[Es];if(ku(ne,db),te&&te.hasAnimation)continue;let Ce=[];if(a.size){let ue=a.get(ne);ue&&ue.length&&Ce.push(...ue);let Ue=this.driver.query(ne,LM,!0);for(let ce=0;ce<Ue.length;ce++){let Q=a.get(Ue[ce]);Q&&Q.length&&Ce.push(...Q)}}const Pe=Ce.filter(ue=>!ue.destroyed);Pe.length?Kee(this,ne,Pe):this.processLeaveNode(ne)}return g.length=0,Be.forEach(pe=>{this.players.push(pe),pe.onDone(()=>{pe.destroy();const ne=this.players.indexOf(pe);this.players.splice(ne,1)}),pe.play()}),Be}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==Ip;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const l=c.element,d=l!==o,u=ko(i,l,[]);this._getPreviousPlayers(l,d,s,a,e.toState).forEach(f=>{const m=f.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),f.destroy(),u.push(f)})}Al(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,c=e.element,l=[],d=new Set,u=new Set,h=e.timelines.map(m=>{const v=m.element;d.add(v);const g=v[Es];if(g&&g.removedBeforeQueried)return new Ep(m.duration,m.delay);const b=v!==c,y=function Qee(n){const t=[];return jF(n,t),t}((i.get(v)||jee).map(B=>B.getRealPlayer())).filter(B=>!!B.element&&B.element===v),x=o.get(v),E=s.get(v),O=yF(this._normalizer,m.keyframes,x,E),R=this._buildPlayer(m,O,y);if(m.subTimeline&&r&&u.add(v),b){const B=new qM(t,a,v);B.setRealPlayer(R),l.push(B)}return R});l.forEach(m=>{ko(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>function Xee(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,m.element,m))}),d.forEach(m=>ts(m,AF));const f=Ic(h);return f.onDestroy(()=>{d.forEach(m=>ku(m,AF)),ea(c,e.toStyles)}),u.forEach(m=>{ko(r,m,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Ep(t.duration,t.delay)}}class qM{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Ep,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>DM(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ko(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function xb(n){return n&&1===n.nodeType}function zF(n,t){const e=n.style.display;return n.style.display=t??"none",e}function HF(n,t,e,i,r){const o=[];e.forEach(c=>o.push(zF(c)));const s=[];i.forEach((c,l)=>{const d=new Map;c.forEach(u=>{const h=t.computeStyle(l,u,r);d.set(u,h),(!h||0==h.length)&&(l[Es]=Wee,s.push(l))}),n.set(l,d)});let a=0;return e.forEach(c=>zF(c,o[a++])),s}function GF(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=e.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&e.get(c).push(a)}),e}function ts(n,t){n.classList?.add(t)}function ku(n,t){n.classList?.remove(t)}function Kee(n,t,e){Ic(e).onDone(()=>n.processLeaveNode(t))}function jF(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof bF?jF(i.players,t):t.push(i)}}function WF(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class wb{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Yee(t,e,i),this._timelineEngine=new Uee(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],d=UM(this._driver,o,c,[]);if(c.length)throw function zJ(n,t){return new ze(3404,!1)}();a=function Lee(n,t,e){return new Fee(n,t,e)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=xF(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=xF(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let tte=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ea(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ea(this._element,this._initialStyles),this._endStyles&&(ea(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Al(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Al(this._element,this._endStyles),this._endStyles=null),ea(this._element,this._initialStyles),this._state=3)}}return n})();function ZM(n){let t=null;return n.forEach((e,i)=>{(function nte(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class $F{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:PF(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ite{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return CF(t,e)}getParentElement(t){return OM(t)}query(t,e,i){return MF(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=s.filter(f=>f instanceof $F);(function dee(n,t){return 0===n||0===t})(i,r)&&d.forEach(f=>{f.currentSnapshot.forEach((m,v)=>l.set(v,m))});let u=function aee(n){return n.length?n[0]instanceof Map?n:n.map(t=>TF(t)):[]}(e).map(f=>Pc(f));u=function uee(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,PF(n,a)))}}return t}(t,u,l);const h=function ete(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=ZM(t[0]),t.length>1&&(i=ZM(t[t.length-1]))):t instanceof Map&&(e=ZM(t)),e||i?new tte(n,e,i):null}(t,u);return new $F(t,u,c,h)}}let rte=(()=>{class n extends mF{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:jo.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?_F(e):e;return YF(this._renderer,null,i,"register",[r]),new ote(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(le($f),le(Zt))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();class ote extends vJ{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new ste(this._id,t,e||{},this._renderer)}}class ste{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return YF(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function YF(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const XF="@.disabled";let ate=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(o);return d||(d=new qF("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,d)),d}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(s,a,e,d.name,d)};return i.data.animation.forEach(c),new cte(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(le($f),le(wb),le(It))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();class qF{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==XF?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class cte extends qF{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==XF?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function lte(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function dte(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}const ZF=[{provide:mF,useClass:rte},{provide:jM,useFactory:function hte(){return new Pee}},{provide:wb,useClass:(()=>{class n extends wb{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(le(Zt),le(RM),le(jM),le(Cc))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})()},{provide:$f,useFactory:function fte(n,t,e){return new ate(n,t,e)},deps:[iM,wb,It]}],KM=[{provide:RM,useFactory:()=>new ite},{provide:Gi,useValue:"BrowserAnimations"},...ZF],KF=[{provide:RM,useClass:SF},{provide:Gi,useValue:"NoopAnimations"},...ZF];let pte=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?KF:KM}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:KM,imports:[eL]})}return n})();function QF(n,t,e,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void e(l)}a.done?t(c):Promise.resolve(c).then(i,r)}function Qn(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var o=n.apply(t,e);function s(c){QF(o,i,r,s,a,"next",c)}function a(c){QF(o,i,r,s,a,"throw",c)}s(void 0)})}}const Mb_gapi_client_id="184061935960-2fr916k9fulm6soq6rromfe13sbldf1b.apps.googleusercontent.com",Mb_gapi_api_key="AIzaSyDQXnl3IF6coInkarrGtOMW859DzNuIDcU",Mb_gapi_scope="profile email https://www.googleapis.com/auth/drive.file";let Lu=(()=>{class n{constructor(){this.authInited=!1,this.gapiInited=!1,this.userSignedIn=!1,this.handleAuthResponse=this.handleAuthResponse.bind(this),this.handleProfileResponse=this.handleProfileResponse.bind(this)}googleOAuthInit(){this.tokenClient=google.accounts.oauth2.initTokenClient({client_id:Mb_gapi_client_id,scope:Mb_gapi_scope,callback:this.handleAuthResponse}),this.authInited=!0,console.log("GoogleUtils.gisLoaded inited")}handleAuthResponse(e){var i=this;return Qn(function*(){if(void 0!==e.error)throw i.userSignedIn=!1,e;console.log("GoogleUtils.handleAuthClick resp",e),i.requestProfile(e.access_token),e&&e.access_token&&(gapi.client.setApiKey(Mb_gapi_api_key),gapi.client.load("drive","v3"),i.gapiInited=!0)})()}requestProfile(e){console.log("getUserProfileData",e);let i=new Promise(function(r,o){let s=new XMLHttpRequest;s.addEventListener("loadend",function(){const c=JSON.parse(this.responseText);console.log("getUserProfileData loadend response",c),200===this.status?r(c):o(this,c)}),s.open("GET","https://www.googleapis.com/oauth2/v3/userinfo",!0),s.setRequestHeader("Authorization",`Bearer ${e}`),s.send()});console.log("getUserProfileData then"),i.then(this.handleProfileResponse,function(r){console.error(r)})}handleProfileResponse(e){this.profile=e,this.email=e.email,this.name=e.name,this.userSignedIn=!0,this.authenticated.emit(this.profile),console.log("getUserProfileData response",e)}handleAuthClick(){gapi.client.getToken()?(console.log("AuthService.handleAuthClick Skip"),this.tokenClient.requestAccessToken({prompt:"",login_hint:"Super Hint!"})):(console.log("AuthService.handleAuthClick Prompt the user to select"),this.tokenClient.requestAccessToken({prompt:"consent"}))}initialize(e){this.authenticated=e,this.googleOAuthInit()}checkIfUserAuthenticated(){return console.log("AuthService.checkIfUserAuthenticated",this.userSignedIn),this.userSignedIn}getAuthorizationHeader(){const e=gapi.auth.getToken();return e.token_type+" "+e.access_token}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();function Sb(...n){const t=ff(n),e=CT(n),{args:i,keys:r}=sL(n);if(0===i.length)return nr([],t);const o=new Jt(function gte(n,t,e=Vt){return i=>{JF(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)JF(t,()=>{const l=nr(n[c],t);let d=!1;l.subscribe(Ze(i,u=>{o[c]=u,d||(d=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>aL(r,s):Vt));return e?o.pipe(aM(e)):o}function JF(n,t,e){n?va(e,n,t):t()}const Eb=C(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ab(...n){return function _te(){return Id(1)}()(nr(n,ff(n)))}function Pp(n){return new Jt(t=>{Wr(n()).subscribe(t)})}function Fu(n,t){const e=_(n)?n:()=>n,i=r=>r.error(e());return new Jt(t?r=>t.schedule(i,0,r):i)}function QM(){return Le((n,t)=>{let e=null;n._refCount++;const i=Ze(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class eN extends Jt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ac(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new w;const e=this.getSubject();t.add(this.source.subscribe(Ze(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=w.EMPTY)}return t}refCount(){return QM()(this)}}function Xi(n){return n<=0?()=>Ho:Le((t,e)=>{let i=0;t.subscribe(Ze(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function As(...n){const t=ff(n);return Le((e,i)=>{(t?Ab(n,e,t):Ab(n,e)).subscribe(i)})}function qn(n,t){return Le((e,i)=>{let r=0;e.subscribe(Ze(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Tb(n){return Le((t,e)=>{let i=!1;t.subscribe(Ze(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function tN(n=bte){return Le((t,e)=>{let i=!1;t.subscribe(Ze(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function bte(){return new Eb}function Dl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?qn((r,o)=>n(r,o,i)):Vt,Xi(1),e?Tb(t):tN(()=>new Eb))}function Nu(n,t){return _(t)?hr(n,t,1):hr(n,1)}function Bi(n,t,e){const i=_(n)||t||e?{next:n,error:t,complete:e}:n;return i?Le((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Ze(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Vt}function Oc(n){return Le((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Ze(e,void 0,void 0,s=>{o=Wr(n(s,Oc(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function JM(n){return n<=0?()=>Ho:Le((t,e)=>{let i=[];t.subscribe(Ze(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function eS(n){return tt(()=>n)}function Bu(n){return Le((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function cn(n){return Le((t,e)=>{Wr(n).subscribe(Ze(e,()=>e.complete(),V)),!e.closed&&t.subscribe(e)})}const mn="primary",Op=Symbol("RouteTitle");class wte{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Uu(n){return new wte(n)}function Cte(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ta(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!nN(n[r],t[r]))return!1;return!0}function nN(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function iN(n){return n.length>0?n[n.length-1]:null}function Rc(n){return function mte(n){return!!n&&(n instanceof Jt||_(n.lift)&&_(n.subscribe))}(n)?n:np(n)?nr(Promise.resolve(n)):Wt(n)}const Ste={exact:function sN(n,t,e){if(!Il(n.segments,t.segments)||!Db(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!sN(n.children[i],t.children[i],e))return!1;return!0},subset:aN},rN={exact:function Ete(n,t){return ta(n,t)},subset:function Ate(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>nN(n[e],t[e]))},ignored:()=>!0};function oN(n,t,e){return Ste[e.paths](n.root,t.root,e.matrixParams)&&rN[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function aN(n,t,e){return cN(n,t,t.segments,e)}function cN(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Il(r,e)||t.hasChildren()||!Db(r,e,i))}if(n.segments.length===e.length){if(!Il(n.segments,e)||!Db(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!aN(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Il(n.segments,r)&&Db(n.segments,r,i)&&n.children[mn])&&cN(n.children[mn],t,o,i)}}function Db(n,t,e){return t.every((i,r)=>rN[e](n[r].parameters,i.parameters))}class Vu{constructor(t=new Jn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return Ite.serialize(this)}}class Jn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ib(this)}}class Rp{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Uu(this.parameters)),this._parameterMap}toString(){return uN(this)}}function Il(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let kp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return new tS},providedIn:"root"})}return n})();class tS{parse(t){const e=new zte(t);return new Vu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Lp(t.root,!0)}`,i=function Rte(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Pb(e)}=${Pb(r)}`).join("&"):`${Pb(e)}=${Pb(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Pte(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ite=new tS;function Ib(n){return n.segments.map(t=>uN(t)).join("/")}function Lp(n,t){if(!n.hasChildren())return Ib(n);if(t){const e=n.children[mn]?Lp(n.children[mn],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==mn&&i.push(`${r}:${Lp(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Dte(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===mn&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==mn&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===mn?[Lp(n.children[mn],!1)]:[`${r}:${Lp(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[mn]?`${Ib(n)}/${e[0]}`:`${Ib(n)}/(${e.join("//")})`}}function lN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pb(n){return lN(n).replace(/%3B/gi,";")}function nS(n){return lN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ob(n){return decodeURIComponent(n)}function dN(n){return Ob(n.replace(/\+/g,"%20"))}function uN(n){return`${nS(n.path)}${function Ote(n){return Object.keys(n).map(t=>`;${nS(t)}=${nS(n[t])}`).join("")}(n.parameters)}`}const kte=/^[^\/()?;#]+/;function iS(n){const t=n.match(kte);return t?t[0]:""}const Lte=/^[^\/()?;=#]+/,Nte=/^[^=?&#]+/,Ute=/^[^&#]+/;class zte{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jn([],{}):new Jn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[mn]=new Jn(t,e)),i}parseSegment(){const t=iS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ze(4009,!1);return this.capture(t),new Rp(Ob(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function Fte(n){const t=n.match(Lte);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=iS(this.remaining);r&&(i=r,this.capture(i))}t[Ob(e)]=Ob(i)}parseQueryParam(t){const e=function Bte(n){const t=n.match(Nte);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function Vte(n){const t=n.match(Ute);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=dN(e),o=dN(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=iS(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new ze(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=mn);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[mn]:new Jn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ze(4011,!1)}}function hN(n){return n.segments.length>0?new Jn([],{[mn]:n}):n}function fN(n){const t={};for(const i of Object.keys(n.children)){const o=fN(n.children[i]);if(i===mn&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Hte(n){if(1===n.numberOfChildren&&n.children[mn]){const t=n.children[mn];return new Jn(n.segments.concat(t.segments),t.children)}return n}(new Jn(n.segments,t))}function Pl(n){return n instanceof Vu}function pN(n){let t;const r=hN(function e(o){const s={};for(const c of o.children){const l=e(c);s[c.outlet]=l}const a=new Jn(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function mN(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return rS(r,r,r,e,i);const o=function jte(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _N(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new _N(e,t,i)}(t);if(o.toRoot())return rS(r,r,new Jn([],{}),e,i);const s=function Wte(n,t,e){if(n.isAbsolute)return new kb(t,!0,0);if(!e)return new kb(t,!1,NaN);if(null===e.parent)return new kb(e,!0,0);const i=Rb(n.commands[0])?0:1;return function $te(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new ze(4005,!1);r=i.segments.length}return new kb(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?Np(s.segmentGroup,s.index,o.commands):bN(s.segmentGroup,s.index,o.commands);return rS(r,s.segmentGroup,a,e,i)}function Rb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fp(n){return"object"==typeof n&&null!=n&&n.outlets}function rS(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`}),s=n===t?e:gN(n,t,e);const a=hN(fN(s));return new Vu(a,o,r)}function gN(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:gN(o,t,e)}),new Jn(n.segments,i)}class _N{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Rb(i[0]))throw new ze(4003,!1);const r=i.find(Fp);if(r&&r!==iN(i))throw new ze(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kb{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function bN(n,t,e){if(n||(n=new Jn([],{})),0===n.segments.length&&n.hasChildren())return Np(n,t,e);const i=function Xte(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(Fp(a))break;const c=`${a}`,l=i<e.length-1?e[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!yN(c,l,s))return o;i+=2}else{if(!yN(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Jn(n.segments.slice(0,i.pathIndex),{});return o.children[mn]=new Jn(n.segments.slice(i.pathIndex),n.children),Np(o,0,r)}return i.match&&0===r.length?new Jn(n.segments,{}):i.match&&!n.hasChildren()?oS(n,t,e):i.match?Np(n,0,r):oS(n,t,e)}function Np(n,t,e){if(0===e.length)return new Jn(n.segments,{});{const i=function Yte(n){return Fp(n[0])?n[0].outlets:{[mn]:n}}(e),r={};if(Object.keys(i).some(o=>o!==mn)&&n.children[mn]&&1===n.numberOfChildren&&0===n.children[mn].segments.length){const o=Np(n.children[mn],t,e);return new Jn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=bN(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Jn(n.segments,r)}}function oS(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Fp(o)){const c=qte(o.outlets);return new Jn(i,c)}if(0===r&&Rb(e[0])){i.push(new Rp(n.segments[t].path,vN(e[0]))),r++;continue}const s=Fp(o)?o.outlets[mn]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Rb(a)?(i.push(new Rp(s,vN(a))),r+=2):(i.push(new Rp(s,{})),r++)}return new Jn(i,{})}function qte(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=oS(new Jn([],{}),0,i))}),t}function vN(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function yN(n,t,e){return n==e.path&&ta(t,e.parameters)}const Bp="imperative";class na{constructor(t,e){this.id=t,this.url=e}}class Lb extends na{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class kc extends na{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Up extends na{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zu extends na{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class Fb extends na{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xN extends na{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zte extends na{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kte extends na{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qte extends na{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jte extends na{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ene{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class tne{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nne{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ine{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rne{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class one{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wN{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sS{}class aS{constructor(t){this.url=t}}class sne{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Vp,this.attachRef=null}}let Vp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new sne,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class CN{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=cS(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=cS(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=lS(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return lS(t,this._root).map(e=>e.value)}}function cS(n,t){if(n===t.value)return t;for(const e of t.children){const i=cS(n,e);if(i)return i}return null}function lS(n,t){if(n===t.value)return[t];for(const e of t.children){const i=lS(n,e);if(i.length)return i.unshift(t),i}return[]}class ka{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Hu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class MN extends CN{constructor(t,e){super(t),this.snapshot=e,dS(this,t)}toString(){return this.snapshot.toString()}}function SN(n,t){const e=function ane(n,t){const s=new Nb([],{},{},"",{},mn,t,null,{});return new AN("",new ka(s,[]))}(0,t),i=new uo([new Rp("",{})]),r=new uo({}),o=new uo({}),s=new uo({}),a=new uo(""),c=new Ol(i,r,s,a,o,mn,t,e.root);return c.snapshot=e.root,new MN(new ka(c,[]),e)}class Ol{constructor(t,e,i,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(tt(l=>l[Op]))??Wt(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(tt(t=>Uu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(tt(t=>Uu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function EN(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function cne(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Nb{get title(){return this.data?.[Op]}constructor(t,e,i,r,o,s,a,c,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Uu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Uu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AN extends CN{constructor(t,e){super(e),this.url=t,dS(this,e)}toString(){return TN(this._root)}}function dS(n,t){t.value._routerState=n,t.children.forEach(e=>dS(n,e))}function TN(n){const t=n.children.length>0?` { ${n.children.map(TN).join(", ")} } `:"";return`${n.value}${t}`}function uS(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ta(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),ta(t.params,e.params)||n.paramsSubject.next(e.params),function Mte(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ta(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),ta(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hS(n,t){const e=ta(n.params,t.params)&&function Tte(n,t){return Il(n,t)&&n.every((e,i)=>ta(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||hS(n.parent,t.parent))}let fS=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=mn,this.activateEvents=new Mt,this.deactivateEvents=new Mt,this.attachEvents=new Mt,this.detachEvents=new Mt,this.parentContexts=lt(Vp),this.location=lt(ji),this.changeDetector=lt(Ci),this.environmentInjector=lt(Po),this.inputBinder=lt(Bb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ze(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ze(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ze(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new ze(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new lne(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jn]})}return n})();class lne{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ol?this.route:t===Vp?this.childContexts:this.parent.get(t,e)}}const Bb=new qe("");let DN=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Sb([i.queryParams,i.params,i.data]).pipe(ho(([o,s,a],c)=>(a={...o,...s,...a},0===c?Wt(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function Jq(n){const t=Ln(n);if(!t)return null;const e=new Kf(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();function zp(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function une(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return zp(n,i,r);return zp(n,i)})}(n,t,e);return new ka(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>zp(n,a)),s}}const i=function hne(n){return new Ol(new uo(n.url),new uo(n.params),new uo(n.queryParams),new uo(n.fragment),new uo(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>zp(n,o));return new ka(i,r)}}const pS="ngNavigationCancelingError";function IN(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Pl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=PN(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function PN(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[pS]=!0,i.cancellationCode=t,e&&(i.url=e),i}function ON(n){return n&&n[pS]}let RN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Dt({type:n,selectors:[["ng-component"]],standalone:!0,features:[HO],decls:1,vars:0,template:function(i,r){1&i&&wn(0,"router-outlet")},dependencies:[fS],encapsulation:2})}return n})();function mS(n){const t=n.children&&n.children.map(mS),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==mn&&(e.component=RN),e}function Ts(n){return n.outlet||mn}function Hp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class yne{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),uS(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Hu(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Hu(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Hu(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Hu(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new one(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ine(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(uS(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),uS(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Hp(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class kN{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ub{constructor(t,e){this.component=t,this.route=e}}function xne(n,t,e){const i=n._root;return Gp(i,t?t._root:null,e,[i.value])}function Gu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function pG(n){return null!==fg(n)}(n)?t.get(n):n:i}function Gp(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Hu(t);return n.children.forEach(s=>{(function Cne(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Mne(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Il(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Il(n.url,t.url)||!ta(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hS(n,t)||!ta(n.queryParams,t.queryParams);default:return!hS(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new kN(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Gp(n,t,o.component?a?a.children:null:e,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ub(a.outlet.component,s))}else s&&jp(t,a,r),r.canActivateChecks.push(new kN(i)),Gp(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>jp(a,e.getContext(s),r)),r}function jp(n,t,e){const i=Hu(n),r=n.value;Object.entries(i).forEach(([o,s])=>{jp(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new Ub(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Wp(n){return"function"==typeof n}function LN(n){return n instanceof Eb||"EmptyError"===n?.name}const Vb=Symbol("INITIAL_VALUE");function ju(){return ho(n=>Sb(n.map(t=>t.pipe(Xi(1),As(Vb)))).pipe(tt(t=>{for(const e of t)if(!0!==e){if(e===Vb)return Vb;if(!1===e||e instanceof Vu)return e}return!0}),qn(t=>t!==Vb),Xi(1)))}function FN(n){return function Dn(...n){return kn(n)}(Bi(t=>{if(Pl(t))throw IN(0,t)}),tt(t=>!0===t))}class zb{constructor(t){this.segmentGroup=t||null}}class NN{constructor(t){this.urlTree=t}}function Wu(n){return Fu(new zb(n))}function BN(n){return Fu(new NN(n))}class jne{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new ze(4002,!1)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Wt(i);if(r.numberOfChildren>1||!r.children[mn])return Fu(new ze(4e3,!1));r=r.children[mn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Vu(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,i,r)}),new Jn(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new ze(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const gS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wne(n,t,e,i,r){const o=_S(n,t,e);return o.matched?(i=function pne(n,t){return n.providers&&!n._injector&&(n._injector=rC(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function zne(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Wt(r.map(s=>{const a=Gu(s,n);return Rc(function Ine(n){return n&&Wp(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(ju(),FN()):Wt(!0)}(i,t,e).pipe(tt(s=>!0===s?o:{...gS}))):Wt(o)}function _S(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...gS}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Cte)(e,n,t);if(!r)return{...gS};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function UN(n,t,e,i){return e.length>0&&function Xne(n,t,e){return e.some(i=>Hb(n,t,i)&&Ts(i)!==mn)}(n,e,i)?{segmentGroup:new Jn(t,Yne(i,new Jn(e,n.children))),slicedSegments:[]}:0===e.length&&function qne(n,t,e){return e.some(i=>Hb(n,t,i))}(n,e,i)?{segmentGroup:new Jn(n.segments,$ne(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Jn(n.segments,n.children),slicedSegments:e}}function $ne(n,t,e,i,r){const o={};for(const s of i)if(Hb(n,e,s)&&!r[Ts(s)]){const a=new Jn([],{});o[Ts(s)]=a}return{...r,...o}}function Yne(n,t){const e={};e[mn]=t;for(const i of n)if(""===i.path&&Ts(i)!==mn){const r=new Jn([],{});e[Ts(i)]=r}return e}function Hb(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class Jne{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new jne(this.urlSerializer,this.urlTree)}noMatchError(t){return new ze(4002,!1)}recognize(){const t=UN(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,mn).pipe(Oc(e=>{if(e instanceof NN)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof zb?this.noMatchError(e):e}),tt(e=>{const i=new Nb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},mn,this.rootComponentType,null,{}),r=new ka(i,e),o=new AN("",r),s=function Gte(n,t,e=null,i=null){return mN(pN(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,mn).pipe(Oc(i=>{throw i instanceof zb?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=EN(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0)}processChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return nr(r).pipe(Nu(o=>{const s=i.children[o],a=function bne(n,t){const e=n.filter(i=>Ts(i)===t);return e.push(...n.filter(i=>Ts(i)!==t)),e}(e,o);return this.processSegmentGroup(t,a,s,o)}),function yte(n,t){return Le(function vte(n,t,e,i,r){return(o,s)=>{let a=e,c=t,l=0;o.subscribe(Ze(s,d=>{const u=l++;c=a?n(c,d,u):(a=!0,d),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Tb(null),function xte(n,t){const e=arguments.length>=2;return i=>i.pipe(n?qn((r,o)=>n(r,o,i)):Vt,JM(1),e?Tb(t):tN(()=>new Eb))}(),hr(o=>{if(null===o)return Wu(i);const s=VN(o);return function eie(n){n.sort((t,e)=>t.value.outlet===mn?-1:e.value.outlet===mn?1:t.value.outlet.localeCompare(e.value.outlet))}(s),Wt(s)}))}processSegment(t,e,i,r,o,s){return nr(e).pipe(Nu(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,o,s).pipe(Oc(c=>{if(c instanceof zb)return Wt(null);throw c}))),Dl(a=>!!a),Oc(a=>{if(LN(a))return function Kne(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?Wt([]):Wu(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,o,s,a){return function Zne(n,t,e,i){return!!(Ts(n)===i||i!==mn&&Hb(t,e,n))&&("**"===n.path||_S(t,n,e).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s):Wu(r):Wu(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?BN(o):this.applyRedirects.lineralizeSegments(i,o).pipe(hr(s=>{const a=new Jn(s,{});return this.processSegment(t,e,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:d}=_S(e,r,o);if(!a)return Wu(e);const u=this.applyRedirects.applyRedirectCommands(c,r.redirectTo,d);return r.redirectTo.startsWith("/")?BN(u):this.applyRedirects.lineralizeSegments(r,u).pipe(hr(h=>this.processSegment(t,i,e,h.concat(l),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o,s){let a;if("**"===i.path){const c=r.length>0?iN(r).parameters:{};a=Wt({snapshot:new Nb(r,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zN(i),Ts(i),i.component??i._loadedComponent??null,i,HN(i)),consumedSegments:[],remainingSegments:[]}),e.children={}}else a=Wne(e,i,r,t).pipe(tt(({matched:c,consumedSegments:l,remainingSegments:d,parameters:u})=>c?{snapshot:new Nb(l,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,zN(i),Ts(i),i.component??i._loadedComponent??null,i,HN(i)),consumedSegments:l,remainingSegments:d}:null));return a.pipe(ho(c=>null===c?Wu(e):this.getChildConfig(t=i._injector??t,i,r).pipe(ho(({routes:l})=>{const d=i._loadedInjector??t,{snapshot:u,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:m,slicedSegments:v}=UN(e,h,f,l);if(0===v.length&&m.hasChildren())return this.processChildren(d,l,m).pipe(tt(b=>null===b?null:[new ka(u,b)]));if(0===l.length&&0===v.length)return Wt([new ka(u,[])]);const g=Ts(i)===o;return this.processSegment(d,l,m,v,g?mn:o,!0).pipe(tt(b=>[new ka(u,b)]))}))))}getChildConfig(t,e,i){return e.children?Wt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Wt({routes:e._loadedRoutes,injector:e._loadedInjector}):function Vne(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Wt(!0):Wt(r.map(s=>{const a=Gu(s,n);return Rc(function Ene(n){return n&&Wp(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(ju(),FN())}(t,e,i).pipe(hr(r=>r?this.configLoader.loadChildren(t,e).pipe(Bi(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function Gne(n){return Fu(PN(!1,3))}())):Wt({routes:[],injector:t})}}function tie(n){const t=n.value.routeConfig;return t&&""===t.path}function VN(n){const t=[],e=new Set;for(const i of n){if(!tie(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=VN(i.children);t.push(new ka(i.value,r))}return t.filter(i=>!e.has(i))}function zN(n){return n.data||{}}function HN(n){return n.resolve||{}}function GN(n){return"string"==typeof n.title||null===n.title}function bS(n){return ho(t=>{const e=n(t);return e?nr(e).pipe(tt(()=>t)):Wt(t)})}const $u=new qe("ROUTES");let vS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=lt(kR)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Wt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Rc(e.loadComponent()).pipe(tt(jN),Bi(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),Bu(()=>{this.componentLoaders.delete(e)})),r=new eN(i,()=>new Et).pipe(QM());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Wt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function cie(n,t,e,i){return Rc(n.loadChildren()).pipe(tt(jN),hr(r=>r instanceof VO||Array.isArray(r)?Wt(r):nr(t.compileModuleAsync(r))),tt(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get($u,[],{optional:!0,self:!0}).flat()),{routes:s.map(mS),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(Bu(()=>{this.childrenLoaders.delete(i)})),s=new eN(o,()=>new Et).pipe(QM());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jN(n){return function lie(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Gb=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Et,this.transitionAbortSubject=new Et,this.configLoader=lt(vS),this.environmentInjector=lt(Po),this.urlSerializer=lt(kp),this.rootContexts=lt(Vp),this.inputBindingEnabled=null!==lt(Bb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Wt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new tne(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new ene(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new uo({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bp,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qn(o=>0!==o.id),tt(o=>({...o,extractedUrl:e.urlHandlingStrategy.extract(o.rawUrl)})),ho(o=>{this.currentTransition=o;let s=!1,a=!1;return Wt(o).pipe(Bi(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ho(c=>{const l=c.currentBrowserUrl.toString(),d=!e.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const h="";return this.events.next(new zu(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),Ho}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Wt(c).pipe(ho(h=>{const f=this.transitions?.getValue();return this.events.next(new Lb(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Ho:Promise.resolve(h)}),function nie(n,t,e,i,r,o){return hr(s=>function Qne(n,t,e,i,r,o,s="emptyOnly"){return new Jne(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe(tt(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),Bi(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new xN(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(d&&e.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:m,restoredState:v,extras:g}=c,b=new Lb(h,this.urlSerializer.serialize(f),m,v);this.events.next(b);const y=SN(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:y,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},Wt(o)}{const h="";return this.events.next(new zu(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),Ho}}),Bi(c=>{const l=new Zte(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),tt(c=>(this.currentTransition=o={...c,guards:xne(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function One(n,t){return hr(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Wt({...e,guardsResult:!0}):function Rne(n,t,e,i){return nr(n).pipe(hr(r=>function Une(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Wt(o.map(a=>{const c=Hp(t)??r,l=Gu(a,c);return Rc(function Dne(n){return n&&Wp(n.canDeactivate)}(l)?l.canDeactivate(n,t,e,i):c.runInContext(()=>l(n,t,e,i))).pipe(Dl())})).pipe(ju()):Wt(!0)}(r.component,r.route,e,t,i)),Dl(r=>!0!==r,!0))}(s,i,r,n).pipe(hr(a=>a&&function Sne(n){return"boolean"==typeof n}(a)?function kne(n,t,e,i){return nr(t).pipe(Nu(r=>Ab(function Fne(n,t){return null!==n&&t&&t(new nne(n)),Wt(!0)}(r.route.parent,i),function Lne(n,t){return null!==n&&t&&t(new rne(n)),Wt(!0)}(r.route,i),function Bne(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function wne(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Pp(()=>Wt(s.guards.map(c=>{const l=Hp(s.node)??e,d=Gu(c,l);return Rc(function Tne(n){return n&&Wp(n.canActivateChild)}(d)?d.canActivateChild(i,n):l.runInContext(()=>d(i,n))).pipe(Dl())})).pipe(ju())));return Wt(o).pipe(ju())}(n,r.path,e),function Nne(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Wt(!0);const r=i.map(o=>Pp(()=>{const s=Hp(t)??e,a=Gu(o,s);return Rc(function Ane(n){return n&&Wp(n.canActivate)}(a)?a.canActivate(t,n):s.runInContext(()=>a(t,n))).pipe(Dl())}));return Wt(r).pipe(ju())}(n,r.route,e))),Dl(r=>!0!==r,!0))}(i,o,n,t):Wt(a)),tt(a=>({...e,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Bi(c=>{if(o.guardsResult=c.guardsResult,Pl(c.guardsResult))throw IN(0,c.guardsResult);const l=new Kte(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),qn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),bS(c=>{if(c.guards.canActivateChecks.length)return Wt(c).pipe(Bi(l=>{const d=new Qte(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),ho(l=>{let d=!1;return Wt(l).pipe(function iie(n,t){return hr(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Wt(e);let o=0;return nr(r).pipe(Nu(s=>function rie(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!GN(r)&&(o[Op]=r.title),function oie(n,t,e,i){const r=function sie(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Wt({});const o={};return nr(r).pipe(hr(s=>function aie(n,t,e,i){const r=Hp(t)??i,o=Gu(n,r);return Rc(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[s],t,e,i).pipe(Dl(),Bi(a=>{o[s]=a}))),JM(1),eS(o),Oc(s=>LN(s)?Ho:Fu(s)))}(o,n,t,i).pipe(tt(s=>(n._resolvedData=s,n.data=EN(n,e).resolve,r&&GN(r)&&(n.data[Op]=r.title),null)))}(s.route,i,n,t)),Bi(()=>o++),JM(1),hr(s=>o===r.length?Wt(e):Ho))})}(e.paramsInheritanceStrategy,this.environmentInjector),Bi({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",2)}}))}),Bi(l=>{const d=new Jte(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),bS(c=>{const l=d=>{const u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(Bi(h=>{d.component=h}),tt(()=>{})));for(const h of d.children)u.push(...l(h));return u};return Sb(l(c.targetSnapshot.root)).pipe(Tb(),Xi(1))}),bS(()=>this.afterPreactivation()),tt(c=>{const l=function dne(n,t,e){const i=zp(n,t._root,e?e._root:void 0);return new MN(i,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),Bi(()=>{this.events.next(new sS)}),((n,t,e,i)=>tt(r=>(new yne(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Xi(1),Bi({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),cn(this.transitionAbortSubject.pipe(Bi(c=>{throw c}))),Bu(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Oc(c=>{if(a=!0,ON(c))this.events.next(new Up(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function fne(n){return ON(n)&&Pl(n.url)}(c)?this.events.next(new aS(c.url)):o.resolve(!1);else{this.events.next(new Fb(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(e.errorHandler(c))}catch(l){o.reject(l)}}return Ho}))}))}cancelNavigationTransition(e,i,r){const o=new Up(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WN(n){return n!==Bp}let $N=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===mn);return i}getResolvedTitleForRoute(e){return e.data[Op]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return lt(die)},providedIn:"root"})}return n})(),die=(()=>{class n extends $N{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(le(tL))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return lt(fie)},providedIn:"root"})}return n})();class hie{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let fie=(()=>{class n extends hie{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jb=new qe("",{providedIn:"root",factory:()=>({})});let pie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:function(){return lt(mie)},providedIn:"root"})}return n})(),mie=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $p=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}($p||{});function YN(n,t){n.events.pipe(qn(e=>e instanceof kc||e instanceof Up||e instanceof Fb||e instanceof zu),tt(e=>e instanceof kc||e instanceof zu?$p.COMPLETE:e instanceof Up&&(0===e.code||1===e.code)?$p.REDIRECTING:$p.FAILED),qn(e=>e!==$p.REDIRECTING),Xi(1)).subscribe(()=>{t()})}function gie(n){throw n}function _ie(n,t,e){return t.parse("/")}const bie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Br=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=lt(RR),this.isNgZoneEnabled=!1,this._events=new Et,this.options=lt(jb,{optional:!0})||{},this.pendingTasks=lt(D_),this.errorHandler=this.options.errorHandler||gie,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_ie,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=lt(pie),this.routeReuseStrategy=lt(uie),this.titleStrategy=lt($N),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=lt($u,{optional:!0})?.flat()??[],this.navigationTransitions=lt(Gb),this.urlSerializer=lt(kp),this.location=lt(pp),this.componentInputBindingEnabled=!!lt(Bb,{optional:!0}),this.eventsSubscription=new w,this.isNgZoneEnabled=lt(It)instanceof It&&It.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Vu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=SN(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(XN(i)&&this._events.next(i));if(i instanceof Lb)WN(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof zu)this.rawUrlTree=r.rawUrl;else if(i instanceof xN){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof sS)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof Up)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof aS){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||WN(r.source)};this.scheduleNavigation(o,Bp,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof Fb&&this.restoreHistory(r,!0),i instanceof kc&&(this.navigated=!0),XN(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bp,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(mS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let u,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{u=pN(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),u=this.currentUrlTree.root}return mN(u,e,d,l??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Pl(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Bp,null,i)}navigate(e,i={skipLocationChange:!1}){return function yie(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new ze(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...bie}:!1===i?{...vie}:i,Pl(e))return oN(this.currentUrlTree,e,r);const o=this.parseUrl(e);return oN(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((u,h)=>{a=u,c=h});const d=this.pendingTasks.add();return YN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XN(n){return!(n instanceof sS||n instanceof aS)}let Wb=(()=>{class n{constructor(e,i,r,o,s,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Et,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof kc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function $I(n,t,e){return function w9(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?WI:Qx}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(D(Br),D(Ol),al("tabindex"),D(vs),D(vt),D(yl))};static#t=this.\u0275dir=De({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&Rt("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Wn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Eu],skipLocationChange:["skipLocationChange","skipLocationChange",Eu],replaceUrl:["replaceUrl","replaceUrl",Eu],routerLink:"routerLink"},standalone:!0,features:[n2,jn]})}return n})();class qN{}let Cie=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(qn(e=>e instanceof kc),Nu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=rC(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return nr(r).pipe(Id())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Wt(null);const o=r.pipe(hr(s=>null===s?Wt(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?nr([o,this.loader.loadComponent(i)]).pipe(Id()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(le(Br),le(kR),le(Po),le(qN),le(vS))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yS=new qe("");let ZN=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Lb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof kc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof zu&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof wN&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wN(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){cu()};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();function La(n,t){return{\u0275kind:n,\u0275providers:t}}function QN(){const n=lt(ri);return t=>{const e=n.get(Cc);if(t!==e.components[0])return;const i=n.get(Br),r=n.get(JN);1===n.get(xS)&&i.initialNavigation(),n.get(e5,null,En.Optional)?.setUpPreloading(),n.get(yS,null,En.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const JN=new qe("",{factory:()=>new Et}),xS=new qe("",{providedIn:"root",factory:()=>1}),e5=new qe("");function Aie(n){return La(0,[{provide:e5,useExisting:Cie},{provide:qN,useExisting:n}])}const t5=new qe("ROUTER_FORROOT_GUARD"),Die=[pp,{provide:kp,useClass:tS},Br,Vp,{provide:Ol,useFactory:function KN(n){return n.routerState.root},deps:[Br]},vS,[]];function Iie(){return new zR("Router",Br)}let $b=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Die,[],{provide:$u,multi:!0,useValue:e},{provide:t5,useFactory:kie,deps:[[Br,new cl,new kf]]},{provide:jb,useValue:i||{}},i?.useHash?{provide:yl,useClass:rZ}:{provide:yl,useClass:_k},{provide:yS,useFactory:()=>{const n=lt(yK),t=lt(It),e=lt(jb),i=lt(Gb),r=lt(kp);return e.scrollOffset&&n.setOffset(e.scrollOffset),new ZN(r,i,n,t,e)}},i?.preloadingStrategy?Aie(i.preloadingStrategy).\u0275providers:[],{provide:zR,multi:!0,useFactory:Iie},i?.initialNavigation?Lie(i):[],i?.bindToComponentInputs?La(8,[DN,{provide:Bb,useExisting:DN}]).\u0275providers:[],[{provide:n5,useFactory:QN},{provide:O_,multi:!0,useExisting:n5}]]}}static forChild(e){return{ngModule:n,providers:[{provide:$u,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(le(t5,8))};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({})}return n})();function kie(n){return"guarded"}function Lie(n){return["disabled"===n.initialNavigation?La(3,[{provide:bC,multi:!0,useFactory:()=>{const t=lt(Br);return()=>{t.setUpLocationChangeListener()}}},{provide:xS,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?La(2,[{provide:xS,useValue:0},{provide:bC,multi:!0,deps:[ri],useFactory:t=>{const e=t.get(nZ,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Br),o=t.get(JN);YN(r,()=>{i(!0)}),t.get(Gb).afterPreactivation=()=>(i(!0),o.closed?Wt(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const n5=new qe("");let Nie=(()=>{class n{constructor(e,i){this.auth=e,this.router=i,console.log("AppComponent.constructor")}ngOnInit(){this.router.navigate(this.auth.userSignedIn?["/manager"]:["/login"])}static#e=this.\u0275fac=function(i){return new(i||n)(D(Lu),D(Br))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&wn(0,"router-outlet")},dependencies:[fS]})}return n})();function r5(n){for(let t in n){let e=n[t]??"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const wS="inline",Yb=["row","column","row-reverse","column-reverse"];function o5(n){let[t,e,i]=s5(n);return function Uie(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function s5(n){n=n?.toLowerCase()??"";let[t,e,i]=n.split(" ");return Yb.find(r=>r===t)||(t=Yb[0]),e===wS&&(e=i!==wS?i:"",i=wS),[t,Bie(e),!!i]}function Yp(n){let[t]=s5(n);return t.indexOf("row")>-1}function Bie(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function Fa(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const zie={provide:O_,useFactory:function Vie(n,t){return()=>{if(xl(t)){const e=Array.from(n.querySelectorAll(`[class*=${a5}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(r=>{r.classList.contains(`${a5}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[Zt,Lr],multi:!0},a5="flex-layout-";let CS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Lt({type:n}),n.\u0275inj=Pt({providers:[zie]}),n})();class Rl{constructor(t=!1,e="all",i="",r="",o=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=r,this.priority=o,this.property=""}clone(){return new Rl(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Hie=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,r){const o=this.stylesheet.get(e);o?o.set(i,r):this.stylesheet.set(e,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const r=this.stylesheet.get(e);let o="";if(r){const s=r.get(i);("number"==typeof s||"string"==typeof s)&&(o=s+"")}return o}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MS={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Ds=new qe("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>MS}),Yu=new qe("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),SS=new qe("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function c5(n,t){return n=n?.clone()??new Rl,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Ii{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let mi=(()=>{class n{constructor(e,i,r,o){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=o}applyStyleToElement(e,i,r=null){let o={};"string"==typeof i&&(o[i]=r,i=o),o=this.layoutConfig.disableVendorPrefixes?i:r5(i),this._applyMultiValueStyleToElement(o,e)}applyStyleToElements(e,i=[]){const r=this.layoutConfig.disableVendorPrefixes?e:r5(e);i.forEach(o=>{this._applyMultiValueStyleToElement(r,o)})}getFlowDirection(e){const i="flex-direction";let r=this.lookupStyle(e,i);return[r||"row",this.lookupInlineStyle(e,i)||Sc(this._platformId)&&this._serverModuleLoaded?r:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){return e.getAttribute(i)??""}lookupInlineStyle(e,i){return xl(this._platformId)?e.style.getPropertyValue(i):function Gie(n,t){return l5(n)[t]??""}(e,i)}lookupStyle(e,i,r=!1){let o="";return e&&((o=this.lookupInlineStyle(e,i))||(xl(this._platformId)?r||(o=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(o=this._serverStylesheet.getStyleForElement(e,i)))),o?o.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(r=>{const o=e[r],s=Array.isArray(o)?o:[o];s.sort();for(let a of s)a=a?a+"":"",xl(this._platformId)||!this._serverModuleLoaded?xl(this._platformId)?i.style.setProperty(r,a):jie(i,r,a):this._serverStylesheet.addStyleToElement(i,r,a)})}}return n.\u0275fac=function(e){return new(e||n)(le(Hie),le(Yu),le(Lr),le(Ds))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jie(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=l5(n);i[t]=e??"",function Wie(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function l5(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let r=0;r<i.length;r++){const o=i[r].trim();if(o.length>0){const s=o.indexOf(":");if(-1===s)throw new Error(`Invalid CSS style: ${o}`);t[o.substr(0,s).trim()]=o.substr(s+1).trim()}}}return t}function Xp(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function $ie(n,t){return(n.priority||0)-(t.priority||0)}let ES=(()=>{class n{constructor(e,i,r){this._zone=e,this._platformId=i,this._document=r,this.source=new uo(new Rl(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,r)=>{i.matches&&e.push(r)}),e}isActive(e){return this.registry.get(e)?.matches??this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const r=this._observable$.pipe(qn(s=>!i||e.indexOf(s.mediaQuery)>-1));return So(new Jt(s=>{const a=this.registerQuery(e);if(a.length){const c=a.pop();a.forEach(l=>{s.next(l)}),this.source.next(c)}s.complete()}),r)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],r=[];return function Yie(n,t){const e=n.filter(i=>!d5[i]);if(e.length>0){const i=e.join(", ");try{const r=t.createElement("style");r.setAttribute("type","text/css"),r.styleSheet||r.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(r),e.forEach(o=>d5[o]=r)}catch(r){console.error(r)}}}(i,this._document),i.forEach(o=>{const s=c=>{this._zone.run(()=>this.source.next(new Rl(c.matches,o)))};let a=this.registry.get(o);a||(a=this.buildMQL(o),a.addListener(s),this.pendingRemoveListenerFns.push(()=>a.removeListener(s)),this.registry.set(o,a)),a.matches&&r.push(new Rl(!0,o))}),r}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function qie(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):function Xie(n){const t=new EventTarget;return t.matches="all"===n||""===n,t.media=n,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}(n)}(e,xl(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(le(It),le(Lr),le(Zt))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const d5={},Zie=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],u5="(orientation: portrait) and (max-width: 599.98px)",h5="(orientation: landscape) and (max-width: 959.98px)",f5="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",p5="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",m5="(orientation: portrait) and (min-width: 840px)",g5="(orientation: landscape) and (min-width: 1280px)",Na={HANDSET:`${u5}, ${h5}`,TABLET:`${f5} , ${p5}`,WEB:`${m5}, ${g5} `,HANDSET_PORTRAIT:`${u5}`,TABLET_PORTRAIT:`${f5} `,WEB_PORTRAIT:`${m5}`,HANDSET_LANDSCAPE:`${h5}`,TABLET_LANDSCAPE:`${p5}`,WEB_LANDSCAPE:`${g5}`},Kie=[{alias:"handset",priority:2e3,mediaQuery:Na.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Na.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Na.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Na.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Na.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Na.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Na.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Na.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Na.WEB_PORTRAIT,overlapping:!0}],Qie=/(\.|-|_)/g;function Jie(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const ire=new qe("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=lt(SS),t=lt(Ds),e=[].concat.apply([],(n||[]).map(r=>Array.isArray(r)?r:[r]));return function nre(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?Fa(e[i.alias],i):e[i.alias]=i}),function tre(n){return n.forEach(t=>{t.suffix||(t.suffix=function ere(n){return n.replace(Qie,"|").split("|").map(Jie).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:Zie).concat(t.addOrientationBps?Kie:[]),e)}});let AS=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort($ie)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>e?.suffix??"")}findWithPredicate(e,i){let r=this.findByMap.get(e);return r||(r=this.items.find(i)??null,this.findByMap.set(e,r)),r??null}}return n.\u0275fac=function(e){return new(e||n)(le(ire))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Xu="print",rre={alias:Xu,mediaQuery:Xu,priority:1e3};let ore=(()=>{class n{constructor(e,i,r){this.breakpoints=e,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new sre,this.deactivations=[]}withPrintQuery(e){return[...e,Xu]}isPrintEvent(e){return e.mediaQuery.startsWith(Xu)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Xp)}updateEvent(e){let i=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(i=this.getEventBreakpoints(e)[0],e.mediaQuery=i?.mediaQuery??""),c5(e,i)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Rl(!0,Xu))),e.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const r=this.breakpoints.findByQuery(i.mediaQuery);if(r){const o=this.formerActivations&&this.formerActivations.includes(r),s=!this.formerActivations&&e.activatedBreakpoints.includes(r);(o||s)&&(this.deactivations.push(r),this.deactivations.sort(Xp))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(le(AS),le(Ds),le(Zt))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class sre{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(rre),t.sort(Xp),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function are(n){return n?.mediaQuery.startsWith(Xu)??!1}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let xi=(()=>{class n{constructor(e,i,r){this.matchMedia=e,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Et,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=c5(e,i);const r=this.activatedBreakpoints.indexOf(i);e.matches&&-1===r?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(Xp),this.updateStyles()):!e.matches&&-1!==r&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort(Xp),this.updateStyles())}}init(e,i,r,o,s=[]){_5(this.updateMap,e,i,r),_5(this.clearMap,e,i,o),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,s)}getValue(e,i,r){const o=this.elementMap.get(e);if(o){const s=void 0!==r?o.get(r):this.getActivatedValues(o,i);if(s)return s.get(i)}}hasValue(e,i){const r=this.elementMap.get(e);if(r){const o=this.getActivatedValues(r,i);if(o)return void 0!==o.get(i)||!1}return!1}setValue(e,i,r,o){let s=this.elementMap.get(e);if(s){const c=(s.get(o)??new Map).set(i,r);s.set(o,c),this.elementMap.set(e,s)}else s=(new Map).set(o,(new Map).set(i,r)),this.elementMap.set(e,s);const a=this.getValue(e,i);void 0!==a&&this.updateElement(e,i,a)}trackValue(e,i){return this.subject.asObservable().pipe(qn(r=>r.element===e&&r.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const r=new Set(this.elementKeyMap.get(i));let o=this.getActivatedValues(e);o&&o.forEach((s,a)=>{this.updateElement(i,a,s),r.delete(a)}),r.forEach(s=>{if(o=this.getActivatedValues(e,s),o){const a=o.get(s);this.updateElement(i,s,a)}else this.clearElement(i,s)})})}clearElement(e,i){const r=this.clearMap.get(e);if(r){const o=r.get(i);o&&(o(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,r){const o=this.updateMap.get(e);if(o){const s=o.get(i);s&&(s(r),this.subject.next({element:e,key:i,value:r}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(o=>o.unsubscribe()),this.watcherMap.delete(e));const r=this.elementMap.get(e);r&&(r.forEach((o,s)=>r.delete(s)),this.elementMap.delete(e))}triggerUpdate(e,i){const r=this.elementMap.get(e);if(r){const o=this.getActivatedValues(r,i);o&&(i?this.updateElement(e,i,o.get(i)):o.forEach((s,a)=>this.updateElement(e,a,s)))}}buildElementKeyMap(e,i){let r=this.elementKeyMap.get(e);r||(r=new Set,this.elementKeyMap.set(e,r)),r.add(i)}watchExtraTriggers(e,i,r){if(r&&r.length){let o=this.watcherMap.get(e);if(o||(o=new Map,this.watcherMap.set(e,o)),!o.get(i)){const a=So(...r).subscribe(()=>{const c=this.getValue(e,i);this.updateElement(e,i,c)});o.set(i,a)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let o=0;o<this.activatedBreakpoints.length;o++){const a=e.get(this.activatedBreakpoints[o].alias);if(a&&(void 0===i||a.has(i)&&null!=a.get(i)))return a}if(!this._useFallbacks)return;const r=e.get("");return void 0===i||r&&r.has(i)?r:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(Bi(this.hook.interceptEvents(this)),qn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(le(ES),le(AS),le(ore))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _5(n,t,e,i){if(void 0!==i){const r=n.get(t)??new Map;r.set(e,i),n.set(t,r)}}let Mi=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.styleBuilder=i,this.styler=r,this.marshal=o,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Et,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const r=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const r=this.styleBuilder,o=r.shouldCache;let s=this.styleCache.get(e);(!s||!o)&&(s=r.buildStyles(e,i),o&&this.styleCache.set(e,s)),this.mru={...s},this.applyStyleToElement(s),r.sideEffect(e,s,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[r,o]=this.styler.getFlowDirection(e);if(!o&&i){const s=o5(r);this.styler.applyStyleToElements(s,[e])}return r.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,r=this.nativeElement){this.styler.applyStyleToElement(r,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(D(vt),D(Ii),D(mi),D(xi))},n.\u0275dir=De({type:n,features:[jn]}),n})();function b5(n,t="1",e="1"){let i=[t,e,n],r=n.indexOf("calc");if(r>0){i[2]=v5(n.substring(r).trim());let o=n.substr(0,r).trim().split(" ");2==o.length&&(i[0]=o[0],i[1]=o[1])}else if(0==r)i[2]=v5(n.trim());else{let o=n.split(" ");i=3===o.length?o:[t,e,n]}return i}function v5(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function Xb(n,t){if(void 0===t)return n;const e=i=>{const r=+i.slice(0,-1);return n.endsWith("x")&&!isNaN(r)?`${r*t.value}${t.unit}`:n};return n.includes(" ")?n.split(" ").map(e).join(" "):e(n)}function hn(n){return null!=n&&"false"!=`${n}`}function Sr(n,t=0){return function dre(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function qb(n){return Array.isArray(n)?n:[n]}function qi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ba(n){return n instanceof vt?n.nativeElement:n}EventTarget;let E5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Lt({type:n}),n.\u0275inj=Pt({imports:[CS]}),n})();const Dre=new qe("cdk-dir-doc",{providedIn:"root",factory:function Ire(){return lt(Zt)}}),Pre=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Er=(()=>{class n{constructor(e){this.value="ltr",this.change=new Mt,e&&(this.value=function Ore(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Pre.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(le(Dre,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qu=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({})}return n})(),Rre=(()=>{class n extends Ii{buildStyles(e,{display:i}){const r=o5(e);return{...r,display:"none"===i?i:r.display}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ct(n)))(i||n)}}(),n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kre=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Lre=(()=>{class n extends Mi{constructor(e,i,r,o,s){super(e,r,i,o),this._config=s,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=A5.get(r)??new Map,A5.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(D(vt),D(mi),D(Rre),D(xi),D(Ds))},n.\u0275dir=De({type:n,features:[He]}),n})(),Zb=(()=>{class n extends Lre{constructor(){super(...arguments),this.inputs=kre}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ct(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[He]}),n})();const A5=new Map,T5={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let Fre=(()=>{class n extends Ii{constructor(e,i){super(),this._styler=e,this._config=i}buildStyles(e,i){return e.endsWith(Kb)?function jre(n,t){const[e,i]=n.split(" "),o=l=>`-${l}`;let s="0px",a=o(i??e),c="0px";return"rtl"===t?c=o(e):s=o(e),{margin:`0px ${s} ${a} ${c}`}}(e=Xb(e=e.slice(0,e.indexOf(Kb)),this._config.multiplier),i.directionality):{}}sideEffect(e,i,r){const o=r.items;if(e.endsWith(Kb)){const s=function Gre(n,t){const[e,i]=n.split(" ");let o="0px",a="0px";return"rtl"===t?a=e:o=e,{padding:`0px ${o} ${i??e} ${a}`}}(e=Xb(e=e.slice(0,e.indexOf(Kb)),this._config.multiplier),r.directionality);this._styler.applyStyleToElements(s,r.items)}else{e=Xb(e,this._config.multiplier),e=this.addFallbackUnit(e);const s=o.pop(),a=function Wre(n,t){const e=I5(t.directionality,t.layout),i={...T5};return i[e]=n,i}(e,r);this._styler.applyStyleToElements(a,o),this._styler.applyStyleToElements(T5,[s])}}addFallbackUnit(e){return isNaN(+e)?e:`${e}${this._config.defaultUnit}`}}return n.\u0275fac=function(e){return new(e||n)(le(mi),le(Ds))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nre=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let Bre=(()=>{class n extends Mi{constructor(e,i,r,o,s,a){super(e,s,o,a),this.zone=i,this.directionality=r,this.styleUtils=o,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new Et;const c=[this.directionality.change,this.observerSubject.asObservable()];this.init(c),this.marshal.trackValue(this.nativeElement,"layout").pipe(cn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,i=[];for(let r=e.length;r--;)i[r]=e[r];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const r=e.value.split(" ");this.layout=r[0],Yb.find(o=>o===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const i=this.childrenNodes.filter(r=>1===r.nodeType&&this.willDisplay(r)).sort((r,o)=>{const s=+this.styler.lookupStyle(r,"order"),a=+this.styler.lookupStyle(o,"order");return isNaN(s)||isNaN(a)||s===a?0:s>a?1:-1});if(i.length>0){const r=this.directionality.value,o=this.layout;"row"===o&&"rtl"===r?this.styleCache=Ure:"row"===o&&"rtl"!==r?this.styleCache=zre:"column"===o&&"rtl"===r?this.styleCache=Vre:"column"===o&&"rtl"!==r&&(this.styleCache=Hre),this.addStyles(e,{directionality:r,items:i,layout:o})}}clearStyles(){const e=Object.keys(this.mru).length>0,i=e?"padding":I5(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(e){const i=this.marshal.getValue(e,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(e=>{e.some(r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(D(vt),D(It),D(Er),D(mi),D(Fre),D(xi))},n.\u0275dir=De({type:n,features:[He]}),n})(),D5=(()=>{class n extends Bre{constructor(){super(...arguments),this.inputs=Nre}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ct(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[He]}),n})();const Ure=new Map,Vre=new Map,zre=new Map,Hre=new Map,Kb=" grid";function I5(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let $re=(()=>{class n extends Ii{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[r,o,...s]=e.split(" "),a=s.join(" ");const c=i.direction.indexOf("column")>-1?"column":"row",l=Yp(c)?"max-width":"max-height",d=Yp(c)?"min-width":"min-height",u=String(a).indexOf("calc")>-1,h=u||"auto"===a,f=String(a).indexOf("%")>-1&&!u,m=String(a).indexOf("px")>-1||String(a).indexOf("rem")>-1||String(a).indexOf("em")>-1||String(a).indexOf("vw")>-1||String(a).indexOf("vh")>-1;let v=u||m;r="0"==r?0:r,o="0"==o?0:o;const g=!r&&!o;let b={};const y={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(a||""){case"":a="row"===c?"0%":!1!==this.layoutConfig.useColumnBasisZero?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,a="auto";break;case"grow":a="100%";break;case"noshrink":o=0,a="auto";break;case"auto":break;case"none":r=0,o=0,a="auto";break;default:!v&&!f&&!isNaN(a)&&(a+="%"),"0%"===a&&(v=!0),"0px"===a&&(a="0%"),b=Fa(y,u?{"flex-grow":r,"flex-shrink":o,"flex-basis":v?a:"100%"}:{flex:`${r} ${o} ${v?a:"100%"}`})}return b.flex||b["flex-grow"]||(b=Fa(y,u?{"flex-grow":r,"flex-shrink":o,"flex-basis":a}:{flex:`${r} ${o} ${a}`})),"0%"!==a&&"0px"!==a&&"0.000000001px"!==a&&"auto"!==a&&(b[d]=g||v&&r?a:null,b[l]=g||!h&&o?a:null),b[d]||b[l]?i.hasWrap&&(b[u?"flex-basis":"flex"]=b[l]?u?b[l]:`${r} ${o} ${b[l]}`:u?b[d]:`${r} ${o} ${b[d]}`):b=Fa(y,u?{"flex-grow":r,"flex-shrink":o,"flex-basis":a}:{flex:`${r} ${o} ${a}`}),Fa(b,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(le(Ds))},n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yre=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Xre=(()=>{class n extends Mi{constructor(e,i,r,o,s){super(e,o,i,s),this.layoutConfig=r,this.marshal=s,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(cn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(cn(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const r=e.value.split(" ");this.direction=r[0],this.wrap=void 0!==r[1]&&"wrap"===r[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const r=this.direction,o=r.startsWith("row"),s=this.wrap;o&&s?this.styleCache=Kre:o&&!s?this.styleCache=qre:!o&&s?this.styleCache=Qre:!o&&!s&&(this.styleCache=Zre);const c=b5(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(c.join(" "),{direction:r,hasWrap:s})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=b5(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(D(vt),D(mi),D(Ds),D($re),D(xi))},n.\u0275dir=De({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[He]}),n})(),qp=(()=>{class n extends Xre{constructor(){super(...arguments),this.inputs=Yre}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ct(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[He]}),n})();const qre=new Map,Zre=new Map,Kre=new Map,Qre=new Map;let xoe=(()=>{class n extends Ii{buildStyles(e,i){const r={},[o,s]=e.split(" ");switch(o){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;default:r["justify-content"]="flex-start"}switch(s){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;default:r["align-items"]=r["align-content"]="stretch"}return Fa(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===s?Yp(i.layout)?null:"100%":null,"max-height":"stretch"===s&&Yp(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ct(n)))(i||n)}}(),n.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const woe=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let Coe=(()=>{class n extends Mi{constructor(e,i,r,o){super(e,r,i,o),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(cn(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",r=this.inline;"row"===i&&r?this.styleCache=Toe:"row"!==i||r?"row-reverse"===i&&r?this.styleCache=Ioe:"row-reverse"!==i||r?"column"===i&&r?this.styleCache=Doe:"column"!==i||r?"column-reverse"===i&&r?this.styleCache=Poe:"column-reverse"===i&&!r&&(this.styleCache=Aoe):this.styleCache=Soe:this.styleCache=Eoe:this.styleCache=Moe,this.addStyles(e,{layout:i,inline:r})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),Yb.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(D(vt),D(mi),D(xoe),D(xi))},n.\u0275dir=De({type:n,features:[He]}),n})(),P5=(()=>{class n extends Coe{constructor(){super(...arguments),this.inputs=woe}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ct(n)))(i||n)}}(),n.\u0275dir=De({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[He]}),n})();const Moe=new Map,Soe=new Map,Eoe=new Map,Aoe=new Map,Toe=new Map,Doe=new Map,Ioe=new Map,Poe=new Map;let DS,O5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Lt({type:n}),n.\u0275inj=Pt({imports:[CS,qu]}),n})(),V5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Lt({type:n}),n.\u0275inj=Pt({imports:[CS]}),n})(),z5=(()=>{class n{constructor(e,i){Sc(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:Ds,useValue:{...MS,...e}},{provide:SS,useValue:i,multi:!0},{provide:Yu,useValue:!0}]:[{provide:Ds,useValue:{...MS,...e}},{provide:SS,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(le(Yu),le(Lr))},n.\u0275mod=Lt({type:n}),n.\u0275inj=Pt({imports:[O5,E5,V5,O5,E5,V5]}),n})();try{DS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{DS=!1}let Zu,hi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?xl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!DS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(le(Lr))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const H5=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function G5(){if(Zu)return Zu;if("object"!=typeof document||!document)return Zu=new Set(H5),Zu;let n=document.createElement("input");return Zu=new Set(H5.filter(t=>(n.setAttribute("type",t),n.type===t))),Zu}let Zp,Qb,Ll,IS;function kl(n){return function Jse(){if(null==Zp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zp=!0}))}finally{Zp=Zp||!1}return Zp}()?n:!!n.capture}function j5(){if(null==Ll){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ll=!1,Ll;if("scrollBehavior"in document.documentElement.style)Ll=!0;else{const n=Element.prototype.scrollTo;Ll=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ll}function Kp(){if("object"!=typeof document||!document)return 0;if(null==Qb){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Qb=0,0===n.scrollLeft&&(n.scrollLeft=1,Qb=0===n.scrollLeft?1:2),n.remove()}return Qb}function PS(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Lc(n){return n.composedPath?n.composedPath()[0]:n.target}function OS(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ia(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class mae extends w{constructor(t,e){super()}schedule(t,e=0){return this}}const tv={setInterval(n,t,...e){const{delegate:i}=tv;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=tv;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class LS extends mae{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return tv.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&tv.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,A(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const FS={now:()=>(FS.delegate||Date).now(),delegate:void 0};class Jp{constructor(t,e=Jp.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Jp.now=FS.now;class NS extends Jp{constructor(t,e=Jp.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const BS=new NS(LS),gae=BS;function nv(n,t=BS){return Le((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,d=t.now();if(d<l)return r=this.schedule(void 0,l-d),void i.add(r);a()}e.subscribe(Ze(i,l=>{o=l,s=t.now(),r||(r=t.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function US(n){return qn((t,e)=>n<=e)}let X5=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_ae=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ba(e);return new Jt(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Et,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static#e=this.\u0275fac=function(i){return new(i||n)(le(X5))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bae=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=hn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Sr(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new Mt,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(nv(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(D(_ae),D(vt),D(It))};static#t=this.\u0275dir=De({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return n})(),VS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[X5]})}return n})();const q5=new Set;let Fl,vae=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xae}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function yae(n,t){if(!q5.has(n))try{Fl||(Fl=document.createElement("style"),t&&(Fl.nonce=t),Fl.setAttribute("type","text/css"),document.head.appendChild(Fl)),Fl.sheet&&(Fl.sheet.insertRule(`@media ${n} {body{ }}`,0),q5.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(le(hi),le(aw,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xae(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let zS=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Et}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Z5(qb(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Sb(Z5(qb(e)).map(s=>this._registerQuery(s).observable));return o=Ab(o.pipe(Xi(1)),o.pipe(US(1),nv(0))),o.pipe(tt(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Jt(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(As(i),tt(({matches:s})=>({query:e,matches:s})),cn(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(le(vae),le(It))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Z5(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Q5(n,t,e){const i=iv(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))}function HS(n,t,e){const r=iv(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function iv(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const J5="cdk-describedby-message",rv="cdk-describedby-host";let GS=0,Cae=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+GS++,this._document=e,this._id=lt(Gf)+"-"+GS++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=jS(i,r);"string"!=typeof i?(e3(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=jS(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${rv}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(rv);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");e3(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(jS(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=iv(e,"aria-describedby").filter(r=>0!=r.indexOf(J5));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);Q5(e,"aria-describedby",r.messageElement.id),e.setAttribute(rv,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,HS(e,"aria-describedby",r.messageElement.id),e.removeAttribute(rv)}_isElementDescribedByMessage(e,i){const r=iv(e,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(le(Zt),le(hi))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jS(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function e3(n,t){n.id||(n.id=`${J5}-${t}-${GS++}`)}class t3{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Et,this._typeaheadSubscription=w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Et,this.change=new Et,t instanceof _l&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Bi(e=>this._pressedLetters.push(e)),nv(t),qn(()=>this._pressedLetters.length>0),tt(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||ia(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof _l?this._items.toArray():this._items}}class Mae extends t3{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Sae extends t3{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let em=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Aae(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Eae(n){try{return n.frameElement}catch{return null}}(function Lae(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===r3(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=r3(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Rae(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function kae(n){return!function Dae(n){return function Pae(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Tae(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Iae(n){return function Oae(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||n3(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(le(hi))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n3(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function r3(n){if(!n3(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Fae{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Xi(1)).subscribe(t)}}let ov=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Fae(e,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(le(em),le(It),le(Zt))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function o3(n){return 0===n.buttons||0===n.detail}function s3(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Nae=new qe("cdk-input-modality-detector-options"),Bae={ignoreKeys:[18,17,224,91,16]},Ku=kl({passive:!0,capture:!0});let Uae=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new uo(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Lc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(o3(s)?"keyboard":"mouse"),this._mostRecentTarget=Lc(s))},this._onTouchstart=s=>{s3(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Lc(s))},this._options={...Bae,...o},this.modalityDetected=this._modality.pipe(US(1)),this.modalityChanged=this.modalityDetected.pipe(pf()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ku),r.addEventListener("mousedown",this._onMousedown,Ku),r.addEventListener("touchstart",this._onTouchstart,Ku)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ku),document.removeEventListener("mousedown",this._onMousedown,Ku),document.removeEventListener("touchstart",this._onTouchstart,Ku))}static#e=this.\u0275fac=function(i){return new(i||n)(le(hi),le(It),le(Zt),le(Nae,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Vae=new qe("liveAnnouncerElement",{providedIn:"root",factory:function zae(){return null}}),Hae=new qe("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Gae=0,WS=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+Gae++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(le(Vae,8),le(It),le(Zt),le(Hae,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jae=new qe("cdk-focus-monitor-default-options"),sv=kl({passive:!0,capture:!0});let Nl=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Et,this._rootNodeFocusAndBlurListener=a=>{for(let l=Lc(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(e,i=!1){const r=Ba(e);if(!this._platform.isBrowser||1!==r.nodeType)return Wt();const o=function tae(n){if(function eae(){if(null==IS){const n=typeof document<"u"?document.head:null;IS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return IS}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Et,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Ba(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Ba(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Lc(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,sv),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,sv)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(cn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,sv),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,sv),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(le(It),le(hi),le(Uae),le(Zt,8),le(jae,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wae=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Mt}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(Nl))};static#t=this.\u0275dir=De({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})();const c3="cdk-high-contrast-black-on-white",l3="cdk-high-contrast-white-on-black",$S="cdk-high-contrast-active";let d3=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=lt(zS).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove($S,c3,l3),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add($S,c3):2===i&&e.add($S,l3)}}static#e=this.\u0275fac=function(i){return new(i||n)(le(hi),le(Zt))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YS=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(le(d3))};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[VS]})}return n})();const $ae=["text"];function Yae(n,t){if(1&n&&wn(0,"mat-pseudo-checkbox",6),2&n){const e=zt();Ge("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function Xae(n,t){1&n&&wn(0,"mat-pseudo-checkbox",7),2&n&&Ge("disabled",zt().disabled)}function qae(n,t){if(1&n&&(he(0,"span",8),re(1),ae()),2&n){const e=zt();et(1),xu("(",e.group.label,")")}}const Zae=[[["mat-icon"]],"*"],Kae=["mat-icon","*"],Jae=new qe("mat-sanity-checks",{providedIn:"root",factory:function Qae(){return!0}});let Vn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!OS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(le(d3),le(Jae,8),le(Zt))};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[qu,qu]})}return n})();function av(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=hn(t)}constructor(...t){super(...t),this._disabled=!1}}}function tm(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function XS(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=hn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function ece(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Sr(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}function f3(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}let p3=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),m3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[Vn,Vn]})}return n})();class nce{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const g3=kl({passive:!0,capture:!0});class ice{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Lc(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,g3)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,g3)))}}const _3={enterDuration:225,exitDuration:150},b3=kl({passive:!0,capture:!0}),v3=["mousedown","touchstart"],y3=["mouseup","mouseleave","touchend","touchcancel"];class cv{static#e=this._eventManager=new ice;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ba(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={..._3,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function oce(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,c=e-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=c-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const u=window.getComputedStyle(d),f=u.transitionDuration,m="none"===u.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,v=new nce(this,d,i,m);d.style.transform="scale3d(1, 1, 1)",v.state=0,i.persistent||(this._mostRecentTransientRipple=v);let g=null;return!m&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const b=()=>this._finishRippleTransition(v),y=()=>this._destroyRipple(v);d.addEventListener("transitionend",b),d.addEventListener("transitioncancel",y),g={onTransitionEnd:b,onTransitionCancel:y}}),this._activeRipples.set(v,g),(m||!l)&&this._finishRippleTransition(v),v}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={..._3,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ba(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,v3.forEach(i=>{cv._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{y3.forEach(e=>{this._triggerElement.addEventListener(e,this,b3)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=o3(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!s3(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(v3.forEach(e=>cv._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&y3.forEach(e=>t.removeEventListener(e,this,b3)))}}const x3=new qe("mat-ripple-global-options");let lv=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new cv(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(It),D(hi),D(x3,8),D(Gi,8))};static#t=this.\u0275dir=De({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),qS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[Vn,Vn]})}return n})(),sce=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(D(Gi,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&Cn("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-full{border:2px solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),ace=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[Vn]})}return n})();const w3=new qe("MAT_OPTION_PARENT_COMPONENT"),C3=new qe("MatOptgroup");let cce=0;class lce{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let dce=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=hn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,o){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+cce++,this.onSelectionChange=new Mt,this._stateChanges=new Et}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!ia(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new lce(this,e))}static#e=this.\u0275fac=function(i){cu()};static#t=this.\u0275dir=De({type:n,viewQuery:function(i,r){if(1&i&&Tn($ae,7),2&i){let o;Ht(o=Gt())&&(r._text=o.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}})}return n})(),M3=(()=>{class n extends dce{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(Ci),D(w3,8),D(C3,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&Rt("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(xc("id",r.id),Wn("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Cn("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},exportAs:["matOption"],features:[He],ngContentSelectors:Kae,decls:8,vars:5,consts:[["class","mat-mdc-option-pseudo-checkbox","aria-hidden","true",3,"disabled","state",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","mat-mdc-option-pseudo-checkbox","state","checked","aria-hidden","true","appearance","minimal",3,"disabled",4,"ngIf"],["class","cdk-visually-hidden",4,"ngIf"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"]],template:function(i,r){1&i&&(Sn(Zae),Ot(0,Yae,1,2,"mat-pseudo-checkbox",0),$t(1),he(2,"span",1,2),$t(4,1),ae(),Ot(5,Xae,1,1,"mat-pseudo-checkbox",3),Ot(6,qae,2,1,"span",4),wn(7,"div",5)),2&i&&(Ge("ngIf",r.multiple),et(5),Ge("ngIf",!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator),et(1),Ge("ngIf",r.group&&r.group._inert),et(1),Ge("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[lv,sr,sce],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),ZS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[qS,si,Vn,ace]})}return n})();const S3={capture:!0},E3=["focus","click","mouseenter","touchstart"],KS="mat-ripple-loader-uninitialized",QS="mat-ripple-loader-class-name",A3="mat-ripple-loader-centered",dv="mat-ripple-loader-disabled";let fce=(()=>{class n{constructor(){this._document=lt(Zt,{optional:!0}),this._animationMode=lt(Gi,{optional:!0}),this._globalRippleOptions=lt(x3,{optional:!0}),this._platform=lt(hi),this._ngZone=lt(It),this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${KS}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of E3)this._document?.addEventListener(e,this._onInteraction,S3)})}ngOnDestroy(){for(const e of E3)this._document?.removeEventListener(e,this._onInteraction,S3)}configureRipple(e,i){e.setAttribute(KS,""),(i.className||!e.hasAttribute(QS))&&e.setAttribute(QS,i.className||""),i.centered&&e.setAttribute(A3,""),i.disabled&&e.setAttribute(dv,"")}getRipple(e){return e.matRipple?e.matRipple:this.createRipple(e)}setDisabled(e,i){const r=e.matRipple;r?r.disabled=i:i?e.setAttribute(dv,""):e.removeAttribute(dv)}createRipple(e){if(!this._document)return;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(QS)),e.append(i);const r=new lv(new vt(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=e,r.centered=e.hasAttribute(A3),r.disabled=e.hasAttribute(dv),this.attachRipple(e,r),r}attachRipple(e,i){e.removeAttribute(KS),e.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pce=["mat-button",""],mce=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],gce=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],bce=["mat-icon-button",""],vce=["*"],yce=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],xce=tm(av(XS(class{constructor(n){this._elementRef=n}})));let T3=(()=>{class n extends xce{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=hn(e),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=hn(e),this._updateRippleDisabled()}constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=lt(Nl),this._rippleLoader=lt(fce),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=e.nativeElement.classList;for(const a of yce)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(c=>{s.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){cu()};static#t=this.\u0275dir=De({type:n,features:[He]})}return n})(),Bl=(()=>{class n extends T3{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(hi),D(It),D(Gi,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Wn("disabled",r.disabled||null),Cn("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[He],attrs:pce,ngContentSelectors:gce,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Sn(mce),wn(0,"span",0),$t(1),he(2,"span",1),$t(3,1),ae(),$t(4,2),wn(5,"span",2)(6,"span",3)),2&i&&Cn("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),uv=(()=>{class n extends T3{constructor(e,i,r,o){super(e,i,r,o),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(hi),D(It),D(Gi,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Wn("disabled",r.disabled||null),Cn("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[He],attrs:bce,ngContentSelectors:vce,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Sn(),wn(0,"span",0),$t(1),wn(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size);width:var(--mdc-icon-button-state-layer-size);color:var(--mdc-icon-button-icon-color);--mdc-icon-button-state-layer-size:48px;--mdc-icon-button-icon-size:24px;--mdc-icon-button-disabled-icon-color:black;--mdc-icon-button-disabled-icon-opacity:0.38}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{padding:12px;font-size:var(--mdc-icon-button-icon-size);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),im=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[Vn,qS,Vn]})}return n})();class Mce extends Et{constructor(t=1/0,e=1/0,i=FS){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}class Ece{constructor(t){this._box=t,this._destroyed=new Et,this._resizeSubject=new Et,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Jt(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(qn(e=>e.some(i=>i.target===t)),function Sce(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,dg({connector:()=>new Mce(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0}),cn(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Ace=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=lt(It)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Ece(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Tce=["notch"],Dce=["matFormFieldNotchedOutline",""],Ice=["*"],Pce=["textField"],Oce=["iconPrefixContainer"],Rce=["textPrefixContainer"];function kce(n,t){1&n&&wn(0,"span",19)}function Lce(n,t){if(1&n&&(he(0,"label",17),$t(1,1),Ot(2,kce,1,0,"span",18),ae()),2&n){const e=zt(2);Ge("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Wn("for",e._control.id),et(2),Ge("ngIf",!e.hideRequiredMarker&&e._control.required)}}function Fce(n,t){1&n&&Ot(0,Lce,3,5,"label",16),2&n&&Ge("ngIf",zt()._hasFloatingLabel())}function Nce(n,t){1&n&&wn(0,"div",20)}function Bce(n,t){}function Uce(n,t){1&n&&Ot(0,Bce,0,0,"ng-template",22),2&n&&(zt(2),Ge("ngTemplateOutlet",ys(1)))}function Vce(n,t){if(1&n&&(he(0,"div",21),Ot(1,Uce,1,1,"ng-template",9),ae()),2&n){const e=zt();Ge("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),et(1),Ge("ngIf",!e._forceDisplayInfixLabel())}}function zce(n,t){1&n&&(he(0,"div",23,24),$t(2,2),ae())}function Hce(n,t){1&n&&(he(0,"div",25,26),$t(2,3),ae())}function Gce(n,t){}function jce(n,t){1&n&&Ot(0,Gce,0,0,"ng-template",22),2&n&&(zt(),Ge("ngTemplateOutlet",ys(1)))}function Wce(n,t){1&n&&(he(0,"div",27),$t(1,4),ae())}function $ce(n,t){1&n&&(he(0,"div",28),$t(1,5),ae())}function Yce(n,t){1&n&&wn(0,"div",29)}function Xce(n,t){1&n&&(he(0,"div",30),$t(1,6),ae()),2&n&&Ge("@transitionMessages",zt()._subscriptAnimationState)}function qce(n,t){if(1&n&&(he(0,"mat-hint",34),re(1),ae()),2&n){const e=zt(2);Ge("id",e._hintLabelId),et(1),Zo(e.hintLabel)}}function Zce(n,t){if(1&n&&(he(0,"div",31),Ot(1,qce,2,2,"mat-hint",32),$t(2,7),wn(3,"div",33),$t(4,8),ae()),2&n){const e=zt();Ge("@transitionMessages",e._subscriptAnimationState),et(1),Ge("ngIf",e.hintLabel)}}const Kce=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Qce=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let rm=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["mat-label"]]})}return n})(),Jce=0;const D3=new qe("MatError");let I3=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+Jce++,e||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(al("aria-live"),D(vt))};static#t=this.\u0275dir=De({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&xc("id",r.id)},inputs:{id:"id"},features:[Ut([{provide:D3,useExisting:n}])]})}return n})(),ele=0,JS=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+ele++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(xc("id",r.id),Wn("align",null),Cn("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const tle=new qe("MatPrefix"),P3=new qe("MatSuffix");let nle=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:["matTextSuffix","_isTextSelector"]},features:[Ut([{provide:P3,useExisting:n}])]})}return n})();const O3=new qe("FloatingLabelParent");let R3=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=lt(Ace),this._ngZone=lt(It),this._parent=lt(O3),this._resizeSubscription=new w}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function ile(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt))};static#t=this.\u0275dir=De({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const k3="mdc-line-ripple--active",hv="mdc-line-ripple--deactivating";let L3=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(hv);"opacity"===r.propertyName&&s&&o.remove(k3,hv)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(hv),e.add(k3)}deactivate(){this._elementRef.nativeElement.classList.add(hv)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(It))};static#t=this.\u0275dir=De({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),F3=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(It))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&Tn(Tce,5),2&i){let o;Ht(o=Gt())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Dce,ngContentSelectors:Ice,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(Sn(),wn(0,"div",0),he(1,"div",1,2),$t(3),ae(),wn(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const rle={transitionMessages:Ss("transitionMessages",[Mr("enter",Nn({opacity:1,transform:"translateY(0%)"})),Yi("void => enter",[Nn({opacity:0,transform:"translateY(-5px)"}),$i("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let eE=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n})}return n})();const tE=new qe("MatFormField"),ole=new qe("MAT_FORM_FIELD_DEFAULT_OPTIONS");let N3=0,nE=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=hn(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,s,a,c,l){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+N3++,this._hintLabelId="mat-mdc-hint-"+N3++,this._subscriptAnimationState="",this._destroyed=new Et,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(cn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),So(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(cn(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(cn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(Ci),D(It),D(Er),D(hi),D(ole,8),D(Gi,8),D(Zt))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(Ti(o,rm,5),Ti(o,rm,7),Ti(o,eE,5),Ti(o,tle,5),Ti(o,P3,5),Ti(o,D3,5),Ti(o,JS,5)),2&i){let s;Ht(s=Gt())&&(r._labelChildNonStatic=s.first),Ht(s=Gt())&&(r._labelChildStatic=s.first),Ht(s=Gt())&&(r._formFieldControl=s.first),Ht(s=Gt())&&(r._prefixChildren=s),Ht(s=Gt())&&(r._suffixChildren=s),Ht(s=Gt())&&(r._errorChildren=s),Ht(s=Gt())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(Tn(Pce,5),Tn(Oce,5),Tn(Rce,5),Tn(R3,5),Tn(F3,5),Tn(L3,5)),2&i){let o;Ht(o=Gt())&&(r._textField=o.first),Ht(o=Gt())&&(r._iconPrefixContainer=o.first),Ht(o=Gt())&&(r._textPrefixContainer=o.first),Ht(o=Gt())&&(r._floatingLabel=o.first),Ht(o=Gt())&&(r._notchedOutline=o.first),Ht(o=Gt())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Cn("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ut([{provide:tE,useExisting:n},{provide:O3,useExisting:n}])],ngContentSelectors:Qce,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(Sn(Kce),Ot(0,Fce,1,1,"ng-template",null,0,hC),he(2,"div",1,2),Rt("click",function(s){return r._control.onContainerClick(s)}),Ot(4,Nce,1,0,"div",3),he(5,"div",4),Ot(6,Vce,2,2,"div",5),Ot(7,zce,3,0,"div",6),Ot(8,Hce,3,0,"div",7),he(9,"div",8),Ot(10,jce,1,1,"ng-template",9),$t(11),ae(),Ot(12,Wce,2,0,"div",10),Ot(13,$ce,2,0,"div",11),ae(),Ot(14,Yce,1,0,"div",12),ae(),he(15,"div",13),Ot(16,Xce,2,1,"div",14),Ot(17,Zce,5,2,"div",15),ae()),2&i&&(et(2),Cn("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),et(2),Ge("ngIf",!r._hasOutline()&&!r._control.disabled),et(2),Ge("ngIf",r._hasOutline()),et(1),Ge("ngIf",r._hasIconPrefix),et(1),Ge("ngIf",r._hasTextPrefix),et(2),Ge("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),et(2),Ge("ngIf",r._hasTextSuffix),et(1),Ge("ngIf",r._hasIconSuffix),et(1),Ge("ngIf",!r._hasOutline()),et(1),Cn("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),Ge("ngSwitch",r._getDisplayedMessages()),et(1),Ge("ngSwitchCase","error"),et(1),Ge("ngSwitchCase","hint"))},dependencies:[sr,kk,_p,$C,JS,R3,F3,L3],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[rle.transitionMessages]},changeDetection:0})}return n})(),fv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[Vn,si,VS,Vn]})}return n})();class pv{}class mv{}class ra{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ra?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ra;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ra?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class cle{encodeKey(t){return V3(t)}encodeValue(t){return V3(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const dle=/%(\d[a-f0-9])/gi,ule={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function V3(n){return encodeURIComponent(n).replace(dle,(t,e)=>ule[e]??t)}function gv(n){return`${n}`}class Fc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new cle,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function lle(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(gv):[gv(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Fc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(gv(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(gv(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class hle{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function z3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function H3(n){return typeof Blob<"u"&&n instanceof Blob}function G3(n){return typeof FormData<"u"&&n instanceof FormData}class om{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function fle(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new ra),this.context||(this.context=new hle),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Fc,this.urlWithParams=e}serializeBody(){return null===this.body?null:z3(this.body)||H3(this.body)||G3(this.body)||function ple(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G3(this.body)?null:H3(this.body)?this.body.type||null:z3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,l=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((u,h)=>u.set(h,t.setHeaders[h]),c)),t.setParams&&(l=Object.keys(t.setParams).reduce((u,h)=>u.set(h,t.setParams[h]),l)),new om(e,i,o,{params:l,headers:c,context:d,reportProgress:a,responseType:r,withCredentials:s})}}var Qu=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Qu||{});class iE{constructor(t,e=200,i="OK"){this.headers=t.headers||new ra,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class rE extends iE{constructor(t={}){super(t),this.type=Qu.ResponseHeader}clone(t={}){return new rE({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ju extends iE{constructor(t={}){super(t),this.type=Qu.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ju({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class j3 extends iE{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function oE(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let _v=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof om)o=e;else{let c,l;c=r.headers instanceof ra?r.headers:new ra(r.headers),r.params&&(l=r.params instanceof Fc?r.params:new Fc({fromObject:r.params})),o=new om(e,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=Wt(o).pipe(Nu(c=>this.handler.handle(c)));if(e instanceof om||"events"===r.observe)return s;const a=s.pipe(qn(c=>c instanceof Ju));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(tt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(tt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(tt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(tt(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Fc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,oE(r,i))}post(e,i,r={}){return this.request("POST",e,oE(r,i))}put(e,i,r={}){return this.request("PUT",e,oE(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(le(pv))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();function Y3(n,t){return t(n)}function gle(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const ble=new qe(""),sm=new qe(""),X3=new qe("");function vle(){let n=null;return(t,e)=>{null===n&&(n=(lt(ble,{optional:!0})??[]).reduceRight(gle,Y3));const i=lt(D_),r=i.add();return n(t,e).pipe(Bu(()=>i.remove(r)))}}let q3=(()=>{class n extends pv{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=lt(D_)}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(sm),...this.injector.get(X3,[])]));this.chain=r.reduceRight((o,s)=>function _le(n,t,e){return(i,r)=>e.runInContext(()=>t(i,o=>n(o,r)))}(o,s,this.injector),Y3)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Bu(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(le(mv),le(Po))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();const Cle=/^\)\]\}',?\n/;let K3=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new ze(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?nr(i.\u0275loadImpl()):Wt(null)).pipe(ho(()=>new Jt(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((v,g)=>s.setRequestHeader(v,g.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const v=e.detectContentTypeHeader();null!==v&&s.setRequestHeader("Content-Type",v)}if(e.responseType){const v=e.responseType.toLowerCase();s.responseType="json"!==v?v:"text"}const a=e.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const v=s.statusText||"OK",g=new ra(s.getAllResponseHeaders()),b=function Mle(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return c=new rE({headers:g,status:s.status,statusText:v,url:b}),c},d=()=>{let{headers:v,status:g,statusText:b,url:y}=l(),x=null;204!==g&&(x=typeof s.response>"u"?s.responseText:s.response),0===g&&(g=x?200:0);let E=g>=200&&g<300;if("json"===e.responseType&&"string"==typeof x){const O=x;x=x.replace(Cle,"");try{x=""!==x?JSON.parse(x):null}catch(R){x=O,E&&(E=!1,x={error:R,text:x})}}E?(o.next(new Ju({body:x,headers:v,status:g,statusText:b,url:y||void 0})),o.complete()):o.error(new j3({error:x,headers:v,status:g,statusText:b,url:y||void 0}))},u=v=>{const{url:g}=l(),b=new j3({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:g||void 0});o.error(b)};let h=!1;const f=v=>{h||(o.next(l()),h=!0);let g={type:Qu.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(g.total=v.total),"text"===e.responseType&&s.responseText&&(g.partialText=s.responseText),o.next(g)},m=v=>{let g={type:Qu.UploadProgress,loaded:v.loaded};v.lengthComputable&&(g.total=v.total),o.next(g)};return s.addEventListener("load",d),s.addEventListener("error",u),s.addEventListener("timeout",u),s.addEventListener("abort",u),e.reportProgress&&(s.addEventListener("progress",f),null!==a&&s.upload&&s.upload.addEventListener("progress",m)),s.send(a),o.next({type:Qu.Sent}),()=>{s.removeEventListener("error",u),s.removeEventListener("abort",u),s.removeEventListener("load",d),s.removeEventListener("timeout",u),e.reportProgress&&(s.removeEventListener("progress",f),null!==a&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(le(Nk))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();const sE=new qe("XSRF_ENABLED"),Q3=new qe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),J3=new qe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class eB{}let Ale=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ak(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(le(Zt),le(Lr),le(Q3))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();function Tle(n,t){const e=n.url.toLowerCase();if(!lt(sE)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=lt(eB).getToken(),r=lt(J3);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Nc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Nc||{});function Dle(...n){const t=[_v,K3,q3,{provide:pv,useExisting:q3},{provide:mv,useExisting:K3},{provide:sm,useValue:Tle,multi:!0},{provide:sE,useValue:!0},{provide:eB,useClass:Ale}];for(const e of n)t.push(...e.\u0275providers);return function ew(n){return{\u0275providers:n}}(t)}const tB=new qe("LEGACY_INTERCEPTOR_FN");function Ile(){return function Ul(n,t){return{\u0275kind:n,\u0275providers:t}}(Nc.LegacyInterceptors,[{provide:tB,useFactory:vle},{provide:sm,useExisting:tB,multi:!0}])}let Ple=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[Dle(Ile())]})}return n})();const Nle=["*"];let vv;function am(n){return function Ble(){if(void 0===vv&&(vv=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(vv=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return vv}()?.createHTML(n)||n}function nB(n){return Error(`Unable to find icon with the name "${n}"`)}function iB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function rB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Vl{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let yv=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Vl(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(fr.HTML,r);if(!s)throw rB(r);const a=am(s);return this._addSvgIconConfig(e,i,new Vl("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Vl(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(fr.HTML,i);if(!o)throw rB(i);const s=am(o);return this._addSvgIconSetConfig(e,new Vl("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(fr.RESOURCE_URL,e);if(!i)throw iB(e);const r=this._cachedIconsByUrl.get(i);return r?Wt(xv(r)):this._loadSvgIconFromConfig(new Vl(e,null)).pipe(Bi(o=>this._cachedIconsByUrl.set(i,o)),tt(o=>xv(o)))}getNamedSvgIcon(e,i=""){const r=oB(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):Fu(nB(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Wt(xv(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(tt(i=>xv(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Wt(r):cL(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Oc(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(fr.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),Wt(null)})))).pipe(tt(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw nB(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Bi(i=>e.svgText=i),tt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Wt(null):this._fetchIcon(e).pipe(Bi(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(am("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(am("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function Ule(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(fr.RESOURCE_URL,i);if(!s)throw iB(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(tt(l=>am(l)),Bu(()=>this._inProgressUrlFetches.delete(s)),dg());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(oB(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return zle(o)?new Vl(o.url,null,o.options):new Vl(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(le(_v,8),le(Z_),le(Zt,8),le(Yo))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xv(n){return n.cloneNode(!0)}function oB(n,t){return n+":"+t}function zle(n){return!(!n.url||!n.options)}const Hle=tm(class{constructor(n){this._elementRef=n}}),Gle=new qe("MAT_ICON_DEFAULT_OPTIONS"),jle=new qe("mat-icon-location",{providedIn:"root",factory:function Wle(){const n=lt(Zt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),sB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$le=sB.map(n=>`[${n}]`).join(", "),Yle=/^url\(['"]?#(.*?)['"]?\)$/;let wv=(()=>{class n extends Hle{get inline(){return this._inline}set inline(e){this._inline=hn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,s,a){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=w.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll($le),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)sB.forEach(s=>{const a=i[o],c=a.getAttribute(s),l=c?c.match(Yle):null;if(l){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:l[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Xi(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(yv),al("aria-hidden"),D(jle),D(Yo),D(Gle,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(Wn("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Cn("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[He],ngContentSelectors:Nle,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),aB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[Vn,Vn]})}return n})();const Xle=["addListener","removeListener"],qle=["addEventListener","removeEventListener"],Zle=["on","off"];function Ua(n,t,e,i){if(_(e)&&(i=e,e=void 0),i)return Ua(n,t,e).pipe(aM(i));const[r,o]=function Jle(n){return _(n.addEventListener)&&_(n.removeEventListener)}(n)?qle.map(s=>a=>n[s](t,a,e)):function Kle(n){return _(n.addListener)&&_(n.removeListener)}(n)?Xle.map(cB(n,t)):function Qle(n){return _(n.on)&&_(n.off)}(n)?Zle.map(cB(n,t)):[];if(!r&&U0(n))return hr(s=>Ua(s,t,e))(Wr(n));if(!r)throw new TypeError("Invalid event target");return new Jt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function cB(n,t){return e=>i=>n[e](t,i)}function lB(n=0,t,e=gae){let i=-1;return null!=t&&(wT(t)?e=t:i=t),new Jt(r=>{let o=function tde(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function aE(n,t=BS){return function ede(n){return Le((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,e.next(l)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};t.subscribe(Ze(e,l=>{i=!0,r=l,o||Wr(n(l)).subscribe(o=Ze(e,a,c))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>lB(n,t))}const dB=kl({passive:!0});let nde=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ho;const i=Ba(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Et,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,dB),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,dB)}}),o}stopMonitoring(e){const i=Ba(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(le(hi),le(It))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ide=(()=>{class n{get minRows(){return this._minRows}set minRows(e){this._minRows=Sr(e),this._setMinHeight()}get maxRows(){return this._maxRows}set maxRows(e){this._maxRows=Sr(e),this._setMaxHeight()}get enabled(){return this._enabled}set enabled(e){e=hn(e),this._enabled!==e&&((this._enabled=e)?this.resizeToFitContent(!0):this.reset())}get placeholder(){return this._textareaElement.placeholder}set placeholder(e){this._cachedPlaceholderHeight=void 0,e?this._textareaElement.setAttribute("placeholder",e):this._textareaElement.removeAttribute("placeholder"),this._cacheTextareaPlaceholderHeight()}constructor(e,i,r,o){this._elementRef=e,this._platform=i,this._ngZone=r,this._destroyed=new Et,this._enabled=!0,this._previousMinRows=-1,this._isViewInited=!1,this._handleFocusEvent=s=>{this._hasFocus="focus"===s.type},this._document=o,this._textareaElement=this._elementRef.nativeElement}_setMinHeight(){const e=this.minRows&&this._cachedLineHeight?this.minRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.minHeight=e)}_setMaxHeight(){const e=this.maxRows&&this._cachedLineHeight?this.maxRows*this._cachedLineHeight+"px":null;e&&(this._textareaElement.style.maxHeight=e)}ngAfterViewInit(){this._platform.isBrowser&&(this._initialHeight=this._textareaElement.style.height,this.resizeToFitContent(),this._ngZone.runOutsideAngular(()=>{Ua(this._getWindow(),"resize").pipe(aE(16),cn(this._destroyed)).subscribe(()=>this.resizeToFitContent(!0)),this._textareaElement.addEventListener("focus",this._handleFocusEvent),this._textareaElement.addEventListener("blur",this._handleFocusEvent)}),this._isViewInited=!0,this.resizeToFitContent(!0))}ngOnDestroy(){this._textareaElement.removeEventListener("focus",this._handleFocusEvent),this._textareaElement.removeEventListener("blur",this._handleFocusEvent),this._destroyed.next(),this._destroyed.complete()}_cacheTextareaLineHeight(){if(this._cachedLineHeight)return;let e=this._textareaElement.cloneNode(!1);e.rows=1,e.style.position="absolute",e.style.visibility="hidden",e.style.border="none",e.style.padding="0",e.style.height="",e.style.minHeight="",e.style.maxHeight="",e.style.overflow="hidden",this._textareaElement.parentNode.appendChild(e),this._cachedLineHeight=e.clientHeight,e.remove(),this._setMinHeight(),this._setMaxHeight()}_measureScrollHeight(){const e=this._textareaElement,i=e.style.marginBottom||"",r=this._platform.FIREFOX,o=r&&this._hasFocus,s=r?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";o&&(e.style.marginBottom=`${e.clientHeight}px`),e.classList.add(s);const a=e.scrollHeight-4;return e.classList.remove(s),o&&(e.style.marginBottom=i),a}_cacheTextareaPlaceholderHeight(){if(!this._isViewInited||null!=this._cachedPlaceholderHeight)return;if(!this.placeholder)return void(this._cachedPlaceholderHeight=0);const e=this._textareaElement.value;this._textareaElement.value=this._textareaElement.placeholder,this._cachedPlaceholderHeight=this._measureScrollHeight(),this._textareaElement.value=e}ngDoCheck(){this._platform.isBrowser&&this.resizeToFitContent()}resizeToFitContent(e=!1){if(!this._enabled||(this._cacheTextareaLineHeight(),this._cacheTextareaPlaceholderHeight(),!this._cachedLineHeight))return;const i=this._elementRef.nativeElement,r=i.value;if(!e&&this._minRows===this._previousMinRows&&r===this._previousValue)return;const o=this._measureScrollHeight(),s=Math.max(o,this._cachedPlaceholderHeight||0);i.style.height=`${s}px`,this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame<"u"?requestAnimationFrame(()=>this._scrollToCaretPosition(i)):setTimeout(()=>this._scrollToCaretPosition(i))}),this._previousValue=r,this._previousMinRows=this._minRows}reset(){void 0!==this._initialHeight&&(this._textareaElement.style.height=this._initialHeight)}_noopInputHandler(){}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollToCaretPosition(e){const{selectionStart:i,selectionEnd:r}=e;!this._destroyed.isStopped&&this._hasFocus&&e.setSelectionRange(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(hi),D(It),D(Zt,8))};static#t=this.\u0275dir=De({type:n,selectors:[["textarea","cdkTextareaAutosize",""]],hostAttrs:["rows","1",1,"cdk-textarea-autosize"],hostBindings:function(i,r){1&i&&Rt("input",function(){return r._noopInputHandler()})},inputs:{minRows:["cdkAutosizeMinRows","minRows"],maxRows:["cdkAutosizeMaxRows","maxRows"],enabled:["cdkTextareaAutosize","enabled"],placeholder:"placeholder"},exportAs:["cdkTextareaAutosize"]})}return n})(),rde=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({})}return n})();const ode=new qe("MAT_INPUT_VALUE_ACCESSOR"),sde=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ade=0;const cde=f3(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Et}});let cE=(()=>{class n extends cde{get disabled(){return this._disabled}set disabled(e){this._disabled=hn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Iu.required)??!1}set required(e){this._required=hn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&G5().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=hn(e)}constructor(e,i,r,o,s,a,c,l,d,u){super(a,o,s,r),this._elementRef=e,this._platform=i,this._autofillMonitor=l,this._formField=u,this._uid="mat-input-"+ade++,this.focused=!1,this.stateChanges=new Et,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(m=>G5().has(m)),this._iOSKeyupListener=m=>{const v=m.target;!v.value&&0===v.selectionStart&&0===v.selectionEnd&&(v.setSelectionRange(1,1),v.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=c||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){sde.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(hi),D(Js,10),D(Ru,8),D(Ml,8),D(p3),D(ode,10),D(nde),D(It),D(tE,8))};static#t=this.\u0275dir=De({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Rt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(xc("id",r.id)("disabled",r.disabled)("required",r.required),Wn("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Cn("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Ut([{provide:eE,useExisting:n}]),He,jn]})}return n})(),uB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[Vn,fv,fv,rde,Vn]})}return n})();const cm={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=cm;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new w(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=cm;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=cm;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class dde extends NS{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class lde extends LS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=cm.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(cm.cancelAnimationFrame(e),t._scheduled=void 0)}});let lE,hde=1;const Cv={};function hB(n){return n in Cv&&(delete Cv[n],!0)}const fde={setImmediate(n){const t=hde++;return Cv[t]=!0,lE||(lE=Promise.resolve()),lE.then(()=>hB(t)&&n()),t},clearImmediate(n){hB(n)}},{setImmediate:pde,clearImmediate:mde}=fde,Mv={setImmediate(...n){const{delegate:t}=Mv;return(t?.setImmediate||pde)(...n)},clearImmediate(n){const{delegate:t}=Mv;return(t?.clearImmediate||mde)(n)},delegate:void 0};new class _de extends NS{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class gde extends LS{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Mv.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Mv.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});let Sv=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Et,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Jt(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(aE(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Wt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(qn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ba(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ua(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(le(It),le(hi),le(Zt,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dE=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Et,this._elementScrolled=new Jt(s=>this.ngZone.runOutsideAngular(()=>Ua(this.elementRef.nativeElement,"scroll").pipe(cn(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=Kp()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Kp()?e.left=e.right:1==Kp()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;j5()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&2==Kp()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==Kp()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(Sv),D(It),D(Er,8))};static#t=this.\u0275dir=De({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),zl=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Et,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(aE(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(le(hi),le(It),le(Zt,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({})}return n})(),fB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[qu,eh,qu,eh]})}return n})();const pB=["*"],xde=["content"];function wde(n,t){if(1&n){const e=qo();he(0,"div",2),Rt("click",function(){return zi(e),Hi(zt()._onBackdropClicked())}),ae()}2&n&&Cn("mat-drawer-shown",zt()._isShowingBackdrop())}function Cde(n,t){1&n&&(he(0,"mat-drawer-content"),$t(1,2),ae())}const Mde=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Sde=["mat-drawer","mat-drawer-content","*"],Ede={transformDrawer:Ss("transform",[Mr("open, open-instant",Nn({transform:"none",visibility:"visible"})),Mr("void",Nn({"box-shadow":"none",visibility:"hidden"})),Yi("void => open-instant",$i("0ms")),Yi("void <=> open, open-instant => void",$i("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Ade=new qe("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Tde(){return!1}}),mB=new qe("MAT_DRAWER_CONTAINER");let lm=(()=>{class n extends dE{constructor(e,i,r,o,s){super(r,o,s),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(i){return new(i||n)(D(Ci),D(Kn(()=>hE)),D(vt),D(Sv),D(It))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,r){2&i&&pl("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[Ut([{provide:dE,useExisting:n}]),He],ngContentSelectors:pB,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2,changeDetection:0})}return n})(),uE=(()=>{class n{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=hn(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=hn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(hn(e))}constructor(e,i,r,o,s,a,c,l){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=s,this._interactivityChecker=a,this._doc=c,this._container=l,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Et,this._animationEnd=new Et,this._animationState="void",this.openedChange=new Mt(!0),this._openedStream=this.openedChange.pipe(qn(d=>d),tt(()=>{})),this.openedStart=this._animationStarted.pipe(qn(d=>d.fromState!==d.toState&&0===d.toState.indexOf("open")),eS(void 0)),this._closedStream=this.openedChange.pipe(qn(d=>!d),tt(()=>{})),this.closedStart=this._animationStarted.pipe(qn(d=>d.fromState!==d.toState&&"void"===d.toState),eS(void 0)),this._destroyed=new Et,this.onPositionChanged=new Mt,this._modeChanged=new Et,this.openedChange.subscribe(d=>{d?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Ua(this._elementRef.nativeElement,"keydown").pipe(qn(d=>27===d.keyCode&&!this.disableClose&&!ia(d)),cn(this._destroyed)).subscribe(d=>this._ngZone.run(()=>{this.close(),d.stopPropagation(),d.preventDefault()}))}),this._animationEnd.pipe(pf((d,u)=>d.fromState===u.fromState&&d.toState===u.toState)).subscribe(d=>{const{fromState:u,toState:h}=d;(0===h.indexOf("open")&&"void"===u||"void"===h&&0===u.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Xi(1)).subscribe(s=>o(s?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(ov),D(Nl),D(hi),D(It),D(em),D(Zt,8),D(mB,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-drawer"]],viewQuery:function(i,r){if(1&i&&Tn(xde,5),2&i){let o;Ht(o=Gt())&&(r._content=o.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,r){1&i&&b_("@transform.start",function(s){return r._animationStarted.next(s)})("@transform.done",function(s){return r._animationEnd.next(s)}),2&i&&(Wn("align",null),x_("@transform",r._animationState),Cn("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:pB,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,r){1&i&&(Sn(),he(0,"div",0,1),$t(2),ae())},dependencies:[dE],encapsulation:2,data:{animation:[Ede.transformDrawer]},changeDetection:0})}return n})(),hE=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=hn(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=null==e?null:hn(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,s,a=!1,c){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=c,this._drawers=new _l,this.backdropClick=new Mt,this._destroyed=new Et,this._doCheckSubject=new Et,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Et,e&&e.change.pipe(cn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(cn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}ngAfterContentInit(){this._allDrawers.changes.pipe(As(this._allDrawers),cn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(As(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(nv(10),cn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(qn(i=>i.fromState!==i.toState),cn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(cn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(cn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Xi(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(cn(So(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return null!=e&&e.opened}_drawerHasBackdrop(e){return null==this._backdropOverride?!!e&&"side"!==e.mode:this._backdropOverride}static#e=this.\u0275fac=function(i){return new(i||n)(D(Er,8),D(vt),D(It),D(Ci),D(zl),D(Ade),D(Gi,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(Ti(o,lm,5),Ti(o,uE,5)),2&i){let s;Ht(s=Gt())&&(r._content=s.first),Ht(s=Gt())&&(r._allDrawers=s)}},viewQuery:function(i,r){if(1&i&&Tn(lm,5),2&i){let o;Ht(o=Gt())&&(r._userContent=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ut([{provide:mB,useExisting:n}])],ngContentSelectors:Sde,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,r){1&i&&(Sn(Mde),Ot(0,wde,1,2,"div",0),$t(1),$t(2,1),Ot(3,Cde,2,0,"mat-drawer-content",1)),2&i&&(Ge("ngIf",r.hasBackdrop),et(3),Ge("ngIf",!r._content))},dependencies:[sr,lm],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;--mat-sidenav-container-shape:0;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return n})(),gB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[si,Vn,eh,eh,Vn]})}return n})();const Dde=["*",[["mat-toolbar-row"]]],Ide=["*","mat-toolbar-row"],Pde=tm(class{constructor(n){this._elementRef=n}});let Ode=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),Rde=(()=>{class n extends Pde{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(hi),D(Zt))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&Ti(o,Ode,5),2&i){let s;Ht(s=Gt())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&Cn("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[He],ngContentSelectors:Ide,decls:2,vars:0,template:function(i,r){1&i&&(Sn(Dde),$t(0),$t(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),kde=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[Vn,Vn]})}return n})();const bB=1,vB=2,za=3,Av=0,sue=1,aue=2,Uc=0,cue=1,lue=2,due=3,uue=4,hue=5,Vc=301,Gl=302,dm=306,no=1001,Zi=1003,Ki=1006,jl=1008,zc=1009,Hc=1014,ja=1015,Wa=1016,Wl=1020,ns=1023,$l=1026,nh=1027,Yl=3001,ar="srgb",$a="srgb-linear",AE="display-p3",Lv="display-p3-linear",Fv="linear",gi="srgb",Nv="rec709",Bv="p3",oh=7680,a4="300 es",Ya=2e3;class ql{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const r=this._listeners[t];if(void 0!==r){const o=r.indexOf(e);-1!==o&&r.splice(o,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const i=this._listeners[t.type];if(void 0!==i){t.target=this;const r=i.slice(0);for(let o=0,s=r.length;o<s;o++)r[o].call(this,t);t.target=null}}}const Ur=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let c4=1234567;const Zl=Math.PI/180,sh=180/Math.PI;function Fo(){const n=4294967295*Math.random()|0,t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Ur[255&n]+Ur[n>>8&255]+Ur[n>>16&255]+Ur[n>>24&255]+"-"+Ur[255&t]+Ur[t>>8&255]+"-"+Ur[t>>16&15|64]+Ur[t>>24&255]+"-"+Ur[63&e|128]+Ur[e>>8&255]+"-"+Ur[e>>16&255]+Ur[e>>24&255]+Ur[255&i]+Ur[i>>8&255]+Ur[i>>16&255]+Ur[i>>24&255]).toLowerCase()}function Pi(n,t,e){return Math.max(t,Math.min(e,n))}function DE(n,t){return(n%t+t)%t}function hm(n,t,e){return(1-e)*n+e*t}function IE(n){return 0==(n&n-1)&&0!==n}function zv(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function yo(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function bn(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const d4={DEG2RAD:Zl,RAD2DEG:sh,generateUUID:Fo,clamp:Pi,euclideanModulo:DE,mapLinear:function Nue(n,t,e,i,r){return i+(n-t)*(r-i)/(e-t)},inverseLerp:function Bue(n,t,e){return n!==t?(e-n)/(t-n):0},lerp:hm,damp:function Uue(n,t,e,i){return hm(n,t,1-Math.exp(-e*i))},pingpong:function Vue(n,t=1){return t-Math.abs(DE(n,2*t)-t)},smoothstep:function zue(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t))*n*(3-2*n)},smootherstep:function Hue(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t))*n*n*(n*(6*n-15)+10)},randInt:function Gue(n,t){return n+Math.floor(Math.random()*(t-n+1))},randFloat:function jue(n,t){return n+Math.random()*(t-n)},randFloatSpread:function Wue(n){return n*(.5-Math.random())},seededRandom:function $ue(n){void 0!==n&&(c4=n);let t=c4+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function Yue(n){return n*Zl},radToDeg:function Xue(n){return n*sh},isPowerOfTwo:IE,ceilPowerOfTwo:function l4(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))},floorPowerOfTwo:zv,setQuaternionFromProperEuler:function que(n,t,e,i,r){const o=Math.cos,s=Math.sin,a=o(e/2),c=s(e/2),l=o((t+i)/2),d=s((t+i)/2),u=o((t-i)/2),h=s((t-i)/2),f=o((i-t)/2),m=s((i-t)/2);switch(r){case"XYX":n.set(a*d,c*u,c*h,a*l);break;case"YZY":n.set(c*h,a*d,c*u,a*l);break;case"ZXZ":n.set(c*u,c*h,a*d,a*l);break;case"XZX":n.set(a*d,c*m,c*f,a*l);break;case"YXY":n.set(c*f,a*d,c*m,a*l);break;case"ZYZ":n.set(c*m,c*f,a*d,a*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}},normalize:bn,denormalize:yo};class Ee{constructor(t=0,e=0){Ee.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Pi(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),r=Math.sin(e),o=this.x-t.x,s=this.y-t.y;return this.x=o*i-s*r+t.x,this.y=o*r+s*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ln{constructor(t,e,i,r,o,s,a,c,l){ln.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,i,r,o,s,a,c,l)}set(t,e,i,r,o,s,a,c,l){const d=this.elements;return d[0]=t,d[1]=r,d[2]=a,d[3]=e,d[4]=o,d[5]=c,d[6]=i,d[7]=s,d[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,o=this.elements,s=i[0],a=i[3],c=i[6],l=i[1],d=i[4],u=i[7],h=i[2],f=i[5],m=i[8],v=r[0],g=r[3],b=r[6],y=r[1],x=r[4],E=r[7],O=r[2],R=r[5],B=r[8];return o[0]=s*v+a*y+c*O,o[3]=s*g+a*x+c*R,o[6]=s*b+a*E+c*B,o[1]=l*v+d*y+u*O,o[4]=l*g+d*x+u*R,o[7]=l*b+d*E+u*B,o[2]=h*v+f*y+m*O,o[5]=h*g+f*x+m*R,o[8]=h*b+f*E+m*B,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],c=t[6],l=t[7],d=t[8];return e*s*d-e*a*l-i*o*d+i*a*c+r*o*l-r*s*c}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],c=t[6],l=t[7],d=t[8],u=d*s-a*l,h=a*c-d*o,f=l*o-s*c,m=e*u+i*h+r*f;if(0===m)return this.set(0,0,0,0,0,0,0,0,0);const v=1/m;return t[0]=u*v,t[1]=(r*l-d*i)*v,t[2]=(a*i-r*s)*v,t[3]=h*v,t[4]=(d*e-r*c)*v,t[5]=(r*o-a*e)*v,t[6]=f*v,t[7]=(i*c-l*e)*v,t[8]=(s*e-i*o)*v,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,r,o,s,a){const c=Math.cos(o),l=Math.sin(o);return this.set(i*c,i*l,-i*(c*s+l*a)+s+t,-r*l,r*c,-r*(-l*s+c*a)+a+e,0,0,1),this}scale(t,e){return this.premultiply(PE.makeScale(t,e)),this}rotate(t){return this.premultiply(PE.makeRotation(-t)),this}translate(t,e){return this.premultiply(PE.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const PE=new ln;function u4(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}function fm(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Kue(){const n=fm("canvas");return n.style.display="block",n}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const h4={};function pm(n){n in h4||(h4[n]=!0,console.warn(n))}const f4=(new ln).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),p4=(new ln).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Hv={[$a]:{transfer:Fv,primaries:Nv,toReference:n=>n,fromReference:n=>n},[ar]:{transfer:gi,primaries:Nv,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[Lv]:{transfer:Fv,primaries:Bv,toReference:n=>n.applyMatrix3(p4),fromReference:n=>n.applyMatrix3(f4)},[AE]:{transfer:gi,primaries:Bv,toReference:n=>n.convertSRGBToLinear().applyMatrix3(p4),fromReference:n=>n.applyMatrix3(f4).convertLinearToSRGB()}},Que=new Set([$a,Lv]),ni={enabled:!0,_workingColorSpace:$a,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!Que.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,t,e){return!1!==this.enabled&&t!==e&&t&&e?(0,Hv[e].fromReference)((0,Hv[t].toReference)(n)):n},fromWorkingColorSpace:function(n,t){return this.convert(n,this._workingColorSpace,t)},toWorkingColorSpace:function(n,t){return this.convert(n,t,this._workingColorSpace)},getPrimaries:function(n){return Hv[n].primaries},getTransfer:function(n){return""===n?Fv:Hv[n].transfer}};function ch(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function OE(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}let lh;class m4{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===lh&&(lh=fm("canvas")),lh.width=t.width,lh.height=t.height;const i=lh.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=lh}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=fm("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const r=i.getImageData(0,0,t.width,t.height),o=r.data;for(let s=0;s<o.length;s++)o[s]=255*ch(o[s]/255);return i.putImageData(r,0,0),e}if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e[i]=e instanceof Uint8Array||e instanceof Uint8ClampedArray?Math.floor(255*ch(e[i]/255)):ch(e[i]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let Jue=0;class dh{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Jue++}),this.uuid=Fo(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let o;if(Array.isArray(r)){o=[];for(let s=0,a=r.length;s<a;s++)o.push(RE(r[s].isDataTexture?r[s].image:r[s]))}else o=RE(r);i.url=o}return e||(t.images[this.uuid]=i),i}}function RE(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?m4.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ehe=0,Xa=(()=>{class n extends ql{constructor(e=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=no,o=no,s=Ki,a=jl,c=ns,l=zc,d=n.DEFAULT_ANISOTROPY,u=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ehe++}),this.uuid=Fo(),this.name="",this.source=new dh(e),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=o,this.magFilter=s,this.minFilter=a,this.anisotropy=d,this.format=c,this.internalFormat=null,this.type=l,this.offset=new Ee(0,0),this.repeat=new Ee(1,1),this.center=new Ee(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ln,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof u?this.colorSpace=u:(pm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Yl?ar:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const i=void 0===e||"string"==typeof e;if(!i&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case no:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case no:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return pm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===ar?Yl:3e3}set encoding(e){pm("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Yl?ar:""}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class Hn{constructor(t=0,e=0,i=0,r=1){Hn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,o=this.w,s=t.elements;return this.x=s[0]*e+s[4]*i+s[8]*r+s[12]*o,this.y=s[1]*e+s[5]*i+s[9]*r+s[13]*o,this.z=s[2]*e+s[6]*i+s[10]*r+s[14]*o,this.w=s[3]*e+s[7]*i+s[11]*r+s[15]*o,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,r,o;const c=t.elements,l=c[0],d=c[4],u=c[8],h=c[1],f=c[5],m=c[9],v=c[2],g=c[6],b=c[10];if(Math.abs(d-h)<.01&&Math.abs(u-v)<.01&&Math.abs(m-g)<.01){if(Math.abs(d+h)<.1&&Math.abs(u+v)<.1&&Math.abs(m+g)<.1&&Math.abs(l+f+b-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const x=(l+1)/2,E=(f+1)/2,O=(b+1)/2,R=(d+h)/4,B=(u+v)/4,$=(m+g)/4;return x>E&&x>O?x<.01?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(x),r=R/i,o=B/i):E>O?E<.01?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(E),i=R/r,o=$/r):O<.01?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(O),i=B/o,r=$/o),this.set(i,r,o,e),this}let y=Math.sqrt((g-m)*(g-m)+(u-v)*(u-v)+(h-d)*(h-d));return Math.abs(y)<.001&&(y=1),this.x=(g-m)/y,this.y=(u-v)/y,this.z=(h-d)/y,this.w=Math.acos((l+f+b-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class the extends ql{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new Hn(0,0,t,e),this.scissorTest=!1,this.viewport=new Hn(0,0,t,e);const r={width:t,height:e,depth:1};void 0!==i.encoding&&(pm("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Yl?ar:""),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ki,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new Xa(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(t,e,i=1){(this.width!==t||this.height!==e||this.depth!==i)&&(this.width=t,this.height=e,this.depth=i,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0;const e=Object.assign({},t.texture.image);return this.texture.source=new dh(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Is extends the{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class kE extends Xa{constructor(t=null,e=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=Zi,this.minFilter=Zi,this.wrapR=no,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class g4 extends Xa{constructor(t=null,e=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=Zi,this.minFilter=Zi,this.wrapR=no,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class io{constructor(t=0,e=0,i=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=r}static slerpFlat(t,e,i,r,o,s,a){let c=i[r+0],l=i[r+1],d=i[r+2],u=i[r+3];const h=o[s+0],f=o[s+1],m=o[s+2],v=o[s+3];if(0===a)return t[e+0]=c,t[e+1]=l,t[e+2]=d,void(t[e+3]=u);if(1===a)return t[e+0]=h,t[e+1]=f,t[e+2]=m,void(t[e+3]=v);if(u!==v||c!==h||l!==f||d!==m){let g=1-a;const b=c*h+l*f+d*m+u*v,y=b>=0?1:-1,x=1-b*b;if(x>Number.EPSILON){const O=Math.sqrt(x),R=Math.atan2(O,b*y);g=Math.sin(g*R)/O,a=Math.sin(a*R)/O}const E=a*y;if(c=c*g+h*E,l=l*g+f*E,d=d*g+m*E,u=u*g+v*E,g===1-a){const O=1/Math.sqrt(c*c+l*l+d*d+u*u);c*=O,l*=O,d*=O,u*=O}}t[e]=c,t[e+1]=l,t[e+2]=d,t[e+3]=u}static multiplyQuaternionsFlat(t,e,i,r,o,s){const a=i[r],c=i[r+1],l=i[r+2],d=i[r+3],u=o[s],h=o[s+1],f=o[s+2],m=o[s+3];return t[e]=a*m+d*u+c*f-l*h,t[e+1]=c*m+d*h+l*u-a*f,t[e+2]=l*m+d*f+a*h-c*u,t[e+3]=d*m-a*u-c*h-l*f,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){const i=t._x,r=t._y,o=t._z,s=t._order,a=Math.cos,c=Math.sin,l=a(i/2),d=a(r/2),u=a(o/2),h=c(i/2),f=c(r/2),m=c(o/2);switch(s){case"XYZ":this._x=h*d*u+l*f*m,this._y=l*f*u-h*d*m,this._z=l*d*m+h*f*u,this._w=l*d*u-h*f*m;break;case"YXZ":this._x=h*d*u+l*f*m,this._y=l*f*u-h*d*m,this._z=l*d*m-h*f*u,this._w=l*d*u+h*f*m;break;case"ZXY":this._x=h*d*u-l*f*m,this._y=l*f*u+h*d*m,this._z=l*d*m+h*f*u,this._w=l*d*u-h*f*m;break;case"ZYX":this._x=h*d*u-l*f*m,this._y=l*f*u+h*d*m,this._z=l*d*m-h*f*u,this._w=l*d*u+h*f*m;break;case"YZX":this._x=h*d*u+l*f*m,this._y=l*f*u+h*d*m,this._z=l*d*m-h*f*u,this._w=l*d*u-h*f*m;break;case"XZY":this._x=h*d*u-l*f*m,this._y=l*f*u-h*d*m,this._z=l*d*m+h*f*u,this._w=l*d*u+h*f*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],r=e[4],o=e[8],s=e[1],a=e[5],c=e[9],l=e[2],d=e[6],u=e[10],h=i+a+u;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(d-c)*f,this._y=(o-l)*f,this._z=(s-r)*f}else if(i>a&&i>u){const f=2*Math.sqrt(1+i-a-u);this._w=(d-c)/f,this._x=.25*f,this._y=(r+s)/f,this._z=(o+l)/f}else if(a>u){const f=2*Math.sqrt(1+a-i-u);this._w=(o-l)/f,this._x=(r+s)/f,this._y=.25*f,this._z=(c+d)/f}else{const f=2*Math.sqrt(1+u-i-a);this._w=(s-r)/f,this._x=(o+l)/f,this._y=(c+d)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Pi(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(0===i)return this;const r=Math.min(1,e/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,r=t._y,o=t._z,s=t._w,a=e._x,c=e._y,l=e._z,d=e._w;return this._x=i*d+s*a+r*l-o*c,this._y=r*d+s*c+o*a-i*l,this._z=o*d+s*l+i*c-r*a,this._w=s*d-i*a-r*c-o*l,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const i=this._x,r=this._y,o=this._z,s=this._w;let a=s*t._w+i*t._x+r*t._y+o*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=i,this._y=r,this._z=o,this;const c=1-a*a;if(c<=Number.EPSILON){const f=1-e;return this._w=f*s+e*this._w,this._x=f*i+e*this._x,this._y=f*r+e*this._y,this._z=f*o+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(c),d=Math.atan2(l,a),u=Math.sin((1-e)*d)/l,h=Math.sin(e*d)/l;return this._w=s*u+this._w*h,this._x=i*u+this._x*h,this._y=r*u+this._y*h,this._z=o*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(e*Math.cos(r),i*Math.sin(o),i*Math.cos(o),e*Math.sin(r))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(t=0,e=0,i=0){G.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(_4.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(_4.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[3]*i+o[6]*r,this.y=o[1]*e+o[4]*i+o[7]*r,this.z=o[2]*e+o[5]*i+o[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,o=t.elements,s=1/(o[3]*e+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*e+o[4]*i+o[8]*r+o[12])*s,this.y=(o[1]*e+o[5]*i+o[9]*r+o[13])*s,this.z=(o[2]*e+o[6]*i+o[10]*r+o[14])*s,this}applyQuaternion(t){const e=this.x,i=this.y,r=this.z,o=t.x,s=t.y,a=t.z,c=t.w,l=2*(s*r-a*i),d=2*(a*e-o*r),u=2*(o*i-s*e);return this.x=e+c*l+s*u-a*d,this.y=i+c*d+a*l-o*u,this.z=r+c*u+o*d-s*l,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,r=this.z,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*r,this.y=o[1]*e+o[5]*i+o[9]*r,this.z=o[2]*e+o[6]*i+o[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,r=t.y,o=t.z,s=e.x,a=e.y,c=e.z;return this.x=r*c-o*a,this.y=o*s-i*c,this.z=i*a-r*s,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return LE.copy(this).projectOnVector(t),this.sub(LE)}reflect(t){return this.sub(LE.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Pi(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(e),this.y=i*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const LE=new G,_4=new io;class xo{constructor(t=new G(1/0,1/0,1/0),e=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(Ps.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(Ps.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Ps.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(void 0!==i){const o=i.getAttribute("position");if(!0===e&&void 0!==o&&!0!==t.isInstancedMesh)for(let s=0,a=o.count;s<a;s++)!0===t.isMesh?t.getVertexPosition(s,Ps):Ps.fromBufferAttribute(o,s),Ps.applyMatrix4(t.matrixWorld),this.expandByPoint(Ps);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),Gv.copy(t.boundingBox)):(null===i.boundingBox&&i.computeBoundingBox(),Gv.copy(i.boundingBox)),Gv.applyMatrix4(t.matrixWorld),this.union(Gv)}const r=t.children;for(let o=0,s=r.length;o<s;o++)this.expandByObject(r[o],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,Ps),Ps.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(mm),jv.subVectors(this.max,mm),uh.subVectors(t.a,mm),hh.subVectors(t.b,mm),fh.subVectors(t.c,mm),Gc.subVectors(hh,uh),jc.subVectors(fh,hh),Kl.subVectors(uh,fh);let e=[0,-Gc.z,Gc.y,0,-jc.z,jc.y,0,-Kl.z,Kl.y,Gc.z,0,-Gc.x,jc.z,0,-jc.x,Kl.z,0,-Kl.x,-Gc.y,Gc.x,0,-jc.y,jc.x,0,-Kl.y,Kl.x,0];return!(!FE(e,uh,hh,fh,jv)||(e=[1,0,0,0,1,0,0,0,1],!FE(e,uh,hh,fh,jv)))&&(Wv.crossVectors(Gc,jc),e=[Wv.x,Wv.y,Wv.z],FE(e,uh,hh,fh,jv))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Ps).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(Ps).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(qa[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),qa[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),qa[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),qa[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),qa[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),qa[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),qa[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),qa[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(qa)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const qa=[new G,new G,new G,new G,new G,new G,new G,new G],Ps=new G,Gv=new xo,uh=new G,hh=new G,fh=new G,Gc=new G,jc=new G,Kl=new G,mm=new G,jv=new G,Wv=new G,Ql=new G;function FE(n,t,e,i,r){for(let o=0,s=n.length-3;o<=s;o+=3){Ql.fromArray(n,o);const a=r.x*Math.abs(Ql.x)+r.y*Math.abs(Ql.y)+r.z*Math.abs(Ql.z),c=t.dot(Ql),l=e.dot(Ql),d=i.dot(Ql);if(Math.max(-Math.max(c,l,d),Math.min(c,l,d))>a)return!1}return!0}const nhe=new xo,gm=new G,NE=new G;class rs{constructor(t=new G,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;void 0!==e?i.copy(e):nhe.setFromPoints(t).getCenter(i);let r=0;for(let o=0,s=t.length;o<s;o++)r=Math.max(r,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;gm.subVectors(t,this.center);const e=gm.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),r=.5*(i-this.radius);this.center.addScaledVector(gm,r/i),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(NE.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(gm.copy(t.center).add(NE)),this.expandByPoint(gm.copy(t.center).sub(NE))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Za=new G,BE=new G,$v=new G,Wc=new G,UE=new G,Yv=new G,VE=new G;class ph{constructor(t=new G,e=new G(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Za)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Za.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Za.copy(this.origin).addScaledVector(this.direction,e),Za.distanceToSquared(t))}distanceSqToSegment(t,e,i,r){BE.copy(t).add(e).multiplyScalar(.5),$v.copy(e).sub(t).normalize(),Wc.copy(this.origin).sub(BE);const o=.5*t.distanceTo(e),s=-this.direction.dot($v),a=Wc.dot(this.direction),c=-Wc.dot($v),l=Wc.lengthSq(),d=Math.abs(1-s*s);let u,h,f,m;if(d>0)if(u=s*c-a,h=s*a-c,m=o*d,u>=0)if(h>=-m)if(h<=m){const v=1/d;u*=v,h*=v,f=u*(u+s*h+2*a)+h*(s*u+h+2*c)+l}else h=o,u=Math.max(0,-(s*h+a)),f=-u*u+h*(h+2*c)+l;else h=-o,u=Math.max(0,-(s*h+a)),f=-u*u+h*(h+2*c)+l;else h<=-m?(u=Math.max(0,-(-s*o+a)),h=u>0?-o:Math.min(Math.max(-o,-c),o),f=-u*u+h*(h+2*c)+l):h<=m?(u=0,h=Math.min(Math.max(-o,-c),o),f=h*(h+2*c)+l):(u=Math.max(0,-(s*o+a)),h=u>0?o:Math.min(Math.max(-o,-c),o),f=-u*u+h*(h+2*c)+l);else h=s>0?-o:o,u=Math.max(0,-(s*h+a)),f=-u*u+h*(h+2*c)+l;return i&&i.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(BE).addScaledVector($v,h),f}intersectSphere(t,e){Za.subVectors(t.center,this.origin);const i=Za.dot(this.direction),r=Za.dot(Za)-i*i,o=t.radius*t.radius;if(r>o)return null;const s=Math.sqrt(o-r),a=i-s,c=i+s;return c<0?null:this.at(a<0?c:a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return null===i?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,r,o,s,a,c;const l=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(i=(t.min.x-h.x)*l,r=(t.max.x-h.x)*l):(i=(t.max.x-h.x)*l,r=(t.min.x-h.x)*l),d>=0?(o=(t.min.y-h.y)*d,s=(t.max.y-h.y)*d):(o=(t.max.y-h.y)*d,s=(t.min.y-h.y)*d),i>s||o>r||((o>i||isNaN(i))&&(i=o),(s<r||isNaN(r))&&(r=s),u>=0?(a=(t.min.z-h.z)*u,c=(t.max.z-h.z)*u):(a=(t.max.z-h.z)*u,c=(t.min.z-h.z)*u),i>c||a>r)||((a>i||i!=i)&&(i=a),(c<r||r!=r)&&(r=c),r<0)?null:this.at(i>=0?i:r,e)}intersectsBox(t){return null!==this.intersectBox(t,Za)}intersectTriangle(t,e,i,r,o){UE.subVectors(e,t),Yv.subVectors(i,t),VE.crossVectors(UE,Yv);let a,s=this.direction.dot(VE);if(s>0){if(r)return null;a=1}else{if(!(s<0))return null;a=-1,s=-s}Wc.subVectors(this.origin,t);const c=a*this.direction.dot(Yv.crossVectors(Wc,Yv));if(c<0)return null;const l=a*this.direction.dot(UE.cross(Wc));if(l<0||c+l>s)return null;const d=-a*Wc.dot(VE);return d<0?null:this.at(d/s,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class pn{constructor(t,e,i,r,o,s,a,c,l,d,u,h,f,m,v,g){pn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,i,r,o,s,a,c,l,d,u,h,f,m,v,g)}set(t,e,i,r,o,s,a,c,l,d,u,h,f,m,v,g){const b=this.elements;return b[0]=t,b[4]=e,b[8]=i,b[12]=r,b[1]=o,b[5]=s,b[9]=a,b[13]=c,b[2]=l,b[6]=d,b[10]=u,b[14]=h,b[3]=f,b[7]=m,b[11]=v,b[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new pn).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,r=1/mh.setFromMatrixColumn(t,0).length(),o=1/mh.setFromMatrixColumn(t,1).length(),s=1/mh.setFromMatrixColumn(t,2).length();return e[0]=i[0]*r,e[1]=i[1]*r,e[2]=i[2]*r,e[3]=0,e[4]=i[4]*o,e[5]=i[5]*o,e[6]=i[6]*o,e[7]=0,e[8]=i[8]*s,e[9]=i[9]*s,e[10]=i[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,r=t.y,o=t.z,s=Math.cos(i),a=Math.sin(i),c=Math.cos(r),l=Math.sin(r),d=Math.cos(o),u=Math.sin(o);if("XYZ"===t.order){const h=s*d,f=s*u,m=a*d,v=a*u;e[0]=c*d,e[4]=-c*u,e[8]=l,e[1]=f+m*l,e[5]=h-v*l,e[9]=-a*c,e[2]=v-h*l,e[6]=m+f*l,e[10]=s*c}else if("YXZ"===t.order){const h=c*d,f=c*u,m=l*d,v=l*u;e[0]=h+v*a,e[4]=m*a-f,e[8]=s*l,e[1]=s*u,e[5]=s*d,e[9]=-a,e[2]=f*a-m,e[6]=v+h*a,e[10]=s*c}else if("ZXY"===t.order){const h=c*d,f=c*u,m=l*d,v=l*u;e[0]=h-v*a,e[4]=-s*u,e[8]=m+f*a,e[1]=f+m*a,e[5]=s*d,e[9]=v-h*a,e[2]=-s*l,e[6]=a,e[10]=s*c}else if("ZYX"===t.order){const h=s*d,f=s*u,m=a*d,v=a*u;e[0]=c*d,e[4]=m*l-f,e[8]=h*l+v,e[1]=c*u,e[5]=v*l+h,e[9]=f*l-m,e[2]=-l,e[6]=a*c,e[10]=s*c}else if("YZX"===t.order){const h=s*c,f=s*l,m=a*c,v=a*l;e[0]=c*d,e[4]=v-h*u,e[8]=m*u+f,e[1]=u,e[5]=s*d,e[9]=-a*d,e[2]=-l*d,e[6]=f*u+m,e[10]=h-v*u}else if("XZY"===t.order){const h=s*c,f=s*l,m=a*c,v=a*l;e[0]=c*d,e[4]=-u,e[8]=l*d,e[1]=h*u+v,e[5]=s*d,e[9]=f*u-m,e[2]=m*u-f,e[6]=a*d,e[10]=v*u+h}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(ihe,t,rhe)}lookAt(t,e,i){const r=this.elements;return No.subVectors(t,e),0===No.lengthSq()&&(No.z=1),No.normalize(),$c.crossVectors(i,No),0===$c.lengthSq()&&(1===Math.abs(i.z)?No.x+=1e-4:No.z+=1e-4,No.normalize(),$c.crossVectors(i,No)),$c.normalize(),Xv.crossVectors(No,$c),r[0]=$c.x,r[4]=Xv.x,r[8]=No.x,r[1]=$c.y,r[5]=Xv.y,r[9]=No.y,r[2]=$c.z,r[6]=Xv.z,r[10]=No.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,o=this.elements,s=i[0],a=i[4],c=i[8],l=i[12],d=i[1],u=i[5],h=i[9],f=i[13],m=i[2],v=i[6],g=i[10],b=i[14],y=i[3],x=i[7],E=i[11],O=i[15],R=r[0],B=r[4],$=r[8],N=r[12],H=r[1],ge=r[5],_e=r[9],Be=r[13],ee=r[2],Me=r[6],pe=r[10],ne=r[14],te=r[3],Ce=r[7],Pe=r[11],ue=r[15];return o[0]=s*R+a*H+c*ee+l*te,o[4]=s*B+a*ge+c*Me+l*Ce,o[8]=s*$+a*_e+c*pe+l*Pe,o[12]=s*N+a*Be+c*ne+l*ue,o[1]=d*R+u*H+h*ee+f*te,o[5]=d*B+u*ge+h*Me+f*Ce,o[9]=d*$+u*_e+h*pe+f*Pe,o[13]=d*N+u*Be+h*ne+f*ue,o[2]=m*R+v*H+g*ee+b*te,o[6]=m*B+v*ge+g*Me+b*Ce,o[10]=m*$+v*_e+g*pe+b*Pe,o[14]=m*N+v*Be+g*ne+b*ue,o[3]=y*R+x*H+E*ee+O*te,o[7]=y*B+x*ge+E*Me+O*Ce,o[11]=y*$+x*_e+E*pe+O*Pe,o[15]=y*N+x*Be+E*ne+O*ue,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],r=t[8],o=t[12],s=t[1],a=t[5],c=t[9],l=t[13],d=t[2],u=t[6],h=t[10],f=t[14];return t[3]*(+o*c*u-r*l*u-o*a*h+i*l*h+r*a*f-i*c*f)+t[7]*(+e*c*f-e*l*h+o*s*h-r*s*f+r*l*d-o*c*d)+t[11]*(+e*l*u-e*a*f-o*s*u+i*s*f+o*a*d-i*l*d)+t[15]*(-r*a*d-e*c*u+e*a*h+r*s*u-i*s*h+i*c*d)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],c=t[6],l=t[7],d=t[8],u=t[9],h=t[10],f=t[11],m=t[12],v=t[13],g=t[14],b=t[15],y=u*g*l-v*h*l+v*c*f-a*g*f-u*c*b+a*h*b,x=m*h*l-d*g*l-m*c*f+s*g*f+d*c*b-s*h*b,E=d*v*l-m*u*l+m*a*f-s*v*f-d*a*b+s*u*b,O=m*u*c-d*v*c-m*a*h+s*v*h+d*a*g-s*u*g,R=e*y+i*x+r*E+o*O;if(0===R)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/R;return t[0]=y*B,t[1]=(v*h*o-u*g*o-v*r*f+i*g*f+u*r*b-i*h*b)*B,t[2]=(a*g*o-v*c*o+v*r*l-i*g*l-a*r*b+i*c*b)*B,t[3]=(u*c*o-a*h*o-u*r*l+i*h*l+a*r*f-i*c*f)*B,t[4]=x*B,t[5]=(d*g*o-m*h*o+m*r*f-e*g*f-d*r*b+e*h*b)*B,t[6]=(m*c*o-s*g*o-m*r*l+e*g*l+s*r*b-e*c*b)*B,t[7]=(s*h*o-d*c*o+d*r*l-e*h*l-s*r*f+e*c*f)*B,t[8]=E*B,t[9]=(m*u*o-d*v*o-m*i*f+e*v*f+d*i*b-e*u*b)*B,t[10]=(s*v*o-m*a*o+m*i*l-e*v*l-s*i*b+e*a*b)*B,t[11]=(d*a*o-s*u*o-d*i*l+e*u*l+s*i*f-e*a*f)*B,t[12]=O*B,t[13]=(d*v*r-m*u*r+m*i*h-e*v*h-d*i*g+e*u*g)*B,t[14]=(m*a*r-s*v*r-m*i*c+e*v*c+s*i*g-e*a*g)*B,t[15]=(s*u*r-d*a*r+d*i*c-e*u*c-s*i*h+e*a*h)*B,this}scale(t){const e=this.elements,i=t.x,r=t.y,o=t.z;return e[0]*=i,e[4]*=r,e[8]*=o,e[1]*=i,e[5]*=r,e[9]*=o,e[2]*=i,e[6]*=r,e[10]*=o,e[3]*=i,e[7]*=r,e[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),r=Math.sin(e),o=1-i,s=t.x,a=t.y,c=t.z,l=o*s,d=o*a;return this.set(l*s+i,l*a-r*c,l*c+r*a,0,l*a+r*c,d*a+i,d*c-r*s,0,l*c-r*a,d*c+r*s,o*c*c+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,r,o,s){return this.set(1,i,o,0,t,1,s,0,e,r,1,0,0,0,0,1),this}compose(t,e,i){const r=this.elements,o=e._x,s=e._y,a=e._z,c=e._w,l=o+o,d=s+s,u=a+a,h=o*l,f=o*d,m=o*u,v=s*d,g=s*u,b=a*u,y=c*l,x=c*d,E=c*u,O=i.x,R=i.y,B=i.z;return r[0]=(1-(v+b))*O,r[1]=(f+E)*O,r[2]=(m-x)*O,r[3]=0,r[4]=(f-E)*R,r[5]=(1-(h+b))*R,r[6]=(g+y)*R,r[7]=0,r[8]=(m+x)*B,r[9]=(g-y)*B,r[10]=(1-(h+v))*B,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,i){const r=this.elements;let o=mh.set(r[0],r[1],r[2]).length();const s=mh.set(r[4],r[5],r[6]).length(),a=mh.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),t.x=r[12],t.y=r[13],t.z=r[14],Os.copy(this);const l=1/o,d=1/s,u=1/a;return Os.elements[0]*=l,Os.elements[1]*=l,Os.elements[2]*=l,Os.elements[4]*=d,Os.elements[5]*=d,Os.elements[6]*=d,Os.elements[8]*=u,Os.elements[9]*=u,Os.elements[10]*=u,e.setFromRotationMatrix(Os),i.x=o,i.y=s,i.z=a,this}makePerspective(t,e,i,r,o,s,a=Ya){const c=this.elements,l=2*o/(e-t),d=2*o/(i-r),u=(e+t)/(e-t),h=(i+r)/(i-r);let f,m;if(a===Ya)f=-(s+o)/(s-o),m=-2*s*o/(s-o);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);f=-s/(s-o),m=-s*o/(s-o)}return c[0]=l,c[4]=0,c[8]=u,c[12]=0,c[1]=0,c[5]=d,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=f,c[14]=m,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(t,e,i,r,o,s,a=Ya){const c=this.elements,l=1/(e-t),d=1/(i-r),u=1/(s-o),h=(e+t)*l,f=(i+r)*d;let m,v;if(a===Ya)m=(s+o)*u,v=-2*u;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);m=o*u,v=-1*u}return c[0]=2*l,c[4]=0,c[8]=0,c[12]=-h,c[1]=0,c[5]=2*d,c[9]=0,c[13]=-f,c[2]=0,c[6]=0,c[10]=v,c[14]=-m,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const mh=new G,Os=new pn,ihe=new G(0,0,0),rhe=new G(1,1,1),$c=new G,Xv=new G,No=new G,b4=new pn,v4=new io;let ohe=(()=>{class n{constructor(e=0,i=0,r=0,o=n.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=i,this._z=r,this._order=o}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,i,r,o=this._order){return this._x=e,this._y=i,this._z=r,this._order=o,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,i=this._order,r=!0){const o=e.elements,s=o[0],a=o[4],c=o[8],l=o[1],d=o[5],u=o[9],h=o[2],f=o[6],m=o[10];switch(i){case"XYZ":this._y=Math.asin(Pi(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(f,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Pi(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(c,m),this._z=Math.atan2(l,d)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(Pi(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Pi(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(Pi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,d),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(c,m));break;case"XZY":this._z=Math.asin(-Pi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,d),this._y=Math.atan2(c,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(e,i,r){return b4.makeRotationFromQuaternion(e),this.setFromRotationMatrix(b4,i,r)}setFromVector3(e,i=this._order){return this.set(e.x,e.y,e.z,i)}reorder(e){return v4.setFromEuler(this),this.setFromQuaternion(v4,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class qv{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let she=0;const y4=new G,gh=new io,Ka=new pn,Zv=new G,_m=new G,ahe=new G,che=new io,x4=new G(1,0,0),w4=new G(0,1,0),C4=new G(0,0,1),lhe={type:"added"},dhe={type:"removed"};let pr=(()=>{class n extends ql{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:she++}),this.uuid=Fo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const e=new G,i=new ohe,r=new io,o=new G(1,1,1);i._onChange(function s(){r.setFromEuler(i,!1)}),r._onChange(function a(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new pn},normalMatrix:{value:new ln}}),this.matrix=new pn,this.matrixWorld=new pn,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new qv,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,i){this.quaternion.setFromAxisAngle(e,i)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,i){return gh.setFromAxisAngle(e,i),this.quaternion.multiply(gh),this}rotateOnWorldAxis(e,i){return gh.setFromAxisAngle(e,i),this.quaternion.premultiply(gh),this}rotateX(e){return this.rotateOnAxis(x4,e)}rotateY(e){return this.rotateOnAxis(w4,e)}rotateZ(e){return this.rotateOnAxis(C4,e)}translateOnAxis(e,i){return y4.copy(e).applyQuaternion(this.quaternion),this.position.add(y4.multiplyScalar(i)),this}translateX(e){return this.translateOnAxis(x4,e)}translateY(e){return this.translateOnAxis(w4,e)}translateZ(e){return this.translateOnAxis(C4,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ka.copy(this.matrixWorld).invert())}lookAt(e,i,r){e.isVector3?Zv.copy(e):Zv.set(e,i,r);const o=this.parent;this.updateWorldMatrix(!0,!1),_m.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ka.lookAt(_m,Zv,this.up):Ka.lookAt(Zv,_m,this.up),this.quaternion.setFromRotationMatrix(Ka),o&&(Ka.extractRotation(o.matrixWorld),gh.setFromRotationMatrix(Ka),this.quaternion.premultiply(gh.invert()))}add(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(lhe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(e);return-1!==i&&(e.parent=null,this.children.splice(i,1),e.dispatchEvent(dhe)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ka.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Ka.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ka),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,i){if(this[e]===i)return this;for(let r=0,o=this.children.length;r<o;r++){const a=this.children[r].getObjectByProperty(e,i);if(void 0!==a)return a}}getObjectsByProperty(e,i){let r=[];this[e]===i&&r.push(this);for(let o=0,s=this.children.length;o<s;o++){const a=this.children[o].getObjectsByProperty(e,i);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_m,e,ahe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_m,che,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return e.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(e){e(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].traverseVisible(e)}traverseAncestors(e){const i=this.parent;null!==i&&(e(i),i.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const i=this.children;for(let r=0,o=i.length;r<o;r++){const s=i[r];(!0===s.matrixWorldAutoUpdate||!0===e)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,i){const r=this.parent;if(!0===e&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const o=this.children;for(let s=0,a=o.length;s<a;s++){const c=o[s];!0===c.matrixWorldAutoUpdate&&c.updateWorldMatrix(!1,!0)}}}toJSON(e){const i=void 0===e||"string"==typeof e,r={};i&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const o={};function s(c,l){return void 0===c[l.uuid]&&(c[l.uuid]=l.toJSON(e)),l.uuid}if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),!1===this.frustumCulled&&(o.frustumCulled=!1),0!==this.renderOrder&&(o.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),o.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(o.matrixAutoUpdate=!1),this.isInstancedMesh&&(o.type="InstancedMesh",o.count=this.count,o.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(o.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?o.background=this.background.toJSON():this.background.isTexture&&(o.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(o.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){o.geometry=s(e.geometries,this.geometry);const c=this.geometry.parameters;if(void 0!==c&&void 0!==c.shapes){const l=c.shapes;if(Array.isArray(l))for(let d=0,u=l.length;d<u;d++)s(e.shapes,l[d]);else s(e.shapes,l)}}if(this.isSkinnedMesh&&(o.bindMode=this.bindMode,o.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(s(e.skeletons,this.skeleton),o.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const c=[];for(let l=0,d=this.material.length;l<d;l++)c.push(s(e.materials,this.material[l]));o.material=c}else o.material=s(e.materials,this.material);if(this.children.length>0){o.children=[];for(let c=0;c<this.children.length;c++)o.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){o.animations=[];for(let c=0;c<this.animations.length;c++)o.animations.push(s(e.animations,this.animations[c]))}if(i){const c=a(e.geometries),l=a(e.materials),d=a(e.textures),u=a(e.images),h=a(e.shapes),f=a(e.skeletons),m=a(e.animations),v=a(e.nodes);c.length>0&&(r.geometries=c),l.length>0&&(r.materials=l),d.length>0&&(r.textures=d),u.length>0&&(r.images=u),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),m.length>0&&(r.animations=m),v.length>0&&(r.nodes=v)}return r.object=o,r;function a(c){const l=[];for(const d in c){const u=c[d];delete u.metadata,l.push(u)}return l}}clone(e){return(new this.constructor).copy(this,e)}copy(e,i=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===i)for(let r=0;r<e.children.length;r++)this.add(e.children[r].clone());return this}}return n.DEFAULT_UP=new G(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Rs=new G,Qa=new G,zE=new G,Ja=new G,_h=new G,bh=new G,M4=new G,HE=new G,GE=new G,jE=new G;let Kv=!1;class Bo{constructor(t=new G,e=new G,i=new G){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,r){r.subVectors(i,e),Rs.subVectors(t,e),r.cross(Rs);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(t,e,i,r,o){Rs.subVectors(r,e),Qa.subVectors(i,e),zE.subVectors(t,e);const s=Rs.dot(Rs),a=Rs.dot(Qa),c=Rs.dot(zE),l=Qa.dot(Qa),d=Qa.dot(zE),u=s*l-a*a;if(0===u)return o.set(-2,-1,-1);const h=1/u,f=(l*c-a*d)*h,m=(s*d-a*c)*h;return o.set(1-f-m,m,f)}static containsPoint(t,e,i,r){return this.getBarycoord(t,e,i,r,Ja),Ja.x>=0&&Ja.y>=0&&Ja.x+Ja.y<=1}static getUV(t,e,i,r,o,s,a,c){return!1===Kv&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Kv=!0),this.getInterpolation(t,e,i,r,o,s,a,c)}static getInterpolation(t,e,i,r,o,s,a,c){return this.getBarycoord(t,e,i,r,Ja),c.setScalar(0),c.addScaledVector(o,Ja.x),c.addScaledVector(s,Ja.y),c.addScaledVector(a,Ja.z),c}static isFrontFacing(t,e,i,r){return Rs.subVectors(i,e),Qa.subVectors(t,e),Rs.cross(Qa).dot(r)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,i,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Rs.subVectors(this.c,this.b),Qa.subVectors(this.a,this.b),.5*Rs.cross(Qa).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Bo.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Bo.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,i,r,o){return!1===Kv&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Kv=!0),Bo.getInterpolation(t,this.a,this.b,this.c,e,i,r,o)}getInterpolation(t,e,i,r,o){return Bo.getInterpolation(t,this.a,this.b,this.c,e,i,r,o)}containsPoint(t){return Bo.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Bo.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,r=this.b,o=this.c;let s,a;_h.subVectors(r,i),bh.subVectors(o,i),HE.subVectors(t,i);const c=_h.dot(HE),l=bh.dot(HE);if(c<=0&&l<=0)return e.copy(i);GE.subVectors(t,r);const d=_h.dot(GE),u=bh.dot(GE);if(d>=0&&u<=d)return e.copy(r);const h=c*u-d*l;if(h<=0&&c>=0&&d<=0)return s=c/(c-d),e.copy(i).addScaledVector(_h,s);jE.subVectors(t,o);const f=_h.dot(jE),m=bh.dot(jE);if(m>=0&&f<=m)return e.copy(o);const v=f*l-c*m;if(v<=0&&l>=0&&m<=0)return a=l/(l-m),e.copy(i).addScaledVector(bh,a);const g=d*m-f*u;if(g<=0&&u-d>=0&&f-m>=0)return M4.subVectors(o,r),a=(u-d)/(u-d+(f-m)),e.copy(r).addScaledVector(M4,a);const b=1/(g+v+h);return s=v*b,a=h*b,e.copy(i).addScaledVector(_h,s).addScaledVector(bh,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const S4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Yc={h:0,s:0,l:0},Qv={h:0,s:0,l:0};function WE(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+6*(t-n)*e:e<.5?t:e<2/3?n+6*(t-n)*(2/3-e):n}class xt{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(void 0===e&&void 0===i){const r=t;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=ar){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,ni.toWorkingColorSpace(this,e),this}setRGB(t,e,i,r=ni.workingColorSpace){return this.r=t,this.g=e,this.b=i,ni.toWorkingColorSpace(this,r),this}setHSL(t,e,i,r=ni.workingColorSpace){if(t=DE(t,1),e=Pi(e,0,1),i=Pi(i,0,1),0===e)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+e):i+e-i*e,s=2*i-o;this.r=WE(s,o,t+1/3),this.g=WE(s,o,t),this.b=WE(s,o,t-1/3)}return ni.toWorkingColorSpace(this,r),this}setStyle(t,e=ar){function i(o){void 0!==o&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let o;const a=r[2];switch(r[1]){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,e);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,e);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=r[1],s=o.length;if(3===s)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,e);if(6===s)return this.setHex(parseInt(o,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=ar){const i=S4[t.toLowerCase()];return void 0!==i?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=ch(t.r),this.g=ch(t.g),this.b=ch(t.b),this}copyLinearToSRGB(t){return this.r=OE(t.r),this.g=OE(t.g),this.b=OE(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=ar){return ni.fromWorkingColorSpace(Vr.copy(this),t),65536*Math.round(Pi(255*Vr.r,0,255))+256*Math.round(Pi(255*Vr.g,0,255))+Math.round(Pi(255*Vr.b,0,255))}getHexString(t=ar){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=ni.workingColorSpace){ni.fromWorkingColorSpace(Vr.copy(this),e);const i=Vr.r,r=Vr.g,o=Vr.b,s=Math.max(i,r,o),a=Math.min(i,r,o);let c,l;const d=(a+s)/2;if(a===s)c=0,l=0;else{const u=s-a;switch(l=d<=.5?u/(s+a):u/(2-s-a),s){case i:c=(r-o)/u+(r<o?6:0);break;case r:c=(o-i)/u+2;break;case o:c=(i-r)/u+4}c/=6}return t.h=c,t.s=l,t.l=d,t}getRGB(t,e=ni.workingColorSpace){return ni.fromWorkingColorSpace(Vr.copy(this),e),t.r=Vr.r,t.g=Vr.g,t.b=Vr.b,t}getStyle(t=ar){ni.fromWorkingColorSpace(Vr.copy(this),t);const e=Vr.r,i=Vr.g,r=Vr.b;return t!==ar?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(t,e,i){return this.getHSL(Yc),this.setHSL(Yc.h+t,Yc.s+e,Yc.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Yc),t.getHSL(Qv);const i=hm(Yc.h,Qv.h,e),r=hm(Yc.s,Qv.s,e),o=hm(Yc.l,Qv.l,e);return this.setHSL(i,r,o),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,r=this.b,o=t.elements;return this.r=o[0]*e+o[3]*i+o[6]*r,this.g=o[1]*e+o[4]*i+o[7]*r,this.b=o[2]*e+o[5]*i+o[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Vr=new xt;xt.NAMES=S4;let uhe=0;class ks extends ql{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:uhe++}),this.uuid=Fo(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new xt(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=oh,this.stencilZFail=oh,this.stencilZPass=oh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const i=t[e];if(void 0===i){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i:console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(o){const s=[];for(const a in o){const c=o[a];delete c.metadata,s.push(c)}return s}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),!0===this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=!0),204!==this.blendSrc&&(i.blendSrc=this.blendSrc),205!==this.blendDst&&(i.blendDst=this.blendDst),100!==this.blendEquation&&(i.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(i.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(i.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(i.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(i.depthFunc=this.depthFunc),!1===this.depthTest&&(i.depthTest=this.depthTest),!1===this.depthWrite&&(i.depthWrite=this.depthWrite),!1===this.colorWrite&&(i.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(i.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(i.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(i.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==oh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==oh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==oh&&(i.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(i.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=!0),!0===this.alphaToCoverage&&(i.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=!0),!0===this.forceSinglePass&&(i.forceSinglePass=!0),!0===this.wireframe&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),e){const o=r(t.textures),s=r(t.images);o.length>0&&(i.textures=o),s.length>0&&(i.images=s)}return i}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(null!==e){const r=e.length;i=new Array(r);for(let o=0;o!==r;++o)i[o]=e[o].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}class os extends ks{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Av,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Qi=new G,Jv=new Ee;class mr{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=ja,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[t+r]=e.array[i+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,i=this.count;e<i;e++)Jv.fromBufferAttribute(this,e),Jv.applyMatrix3(t),this.setXY(e,Jv.x,Jv.y);else if(3===this.itemSize)for(let e=0,i=this.count;e<i;e++)Qi.fromBufferAttribute(this,e),Qi.applyMatrix3(t),this.setXYZ(e,Qi.x,Qi.y,Qi.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)Qi.fromBufferAttribute(this,e),Qi.applyMatrix4(t),this.setXYZ(e,Qi.x,Qi.y,Qi.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Qi.fromBufferAttribute(this,e),Qi.applyNormalMatrix(t),this.setXYZ(e,Qi.x,Qi.y,Qi.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Qi.fromBufferAttribute(this,e),Qi.transformDirection(t),this.setXYZ(e,Qi.x,Qi.y,Qi.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=yo(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=bn(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=yo(e,this.array)),e}setX(t,e){return this.normalized&&(e=bn(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=yo(e,this.array)),e}setY(t,e){return this.normalized&&(e=bn(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=yo(e,this.array)),e}setZ(t,e){return this.normalized&&(e=bn(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=yo(e,this.array)),e}setW(t,e){return this.normalized&&(e=bn(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=bn(e,this.array),i=bn(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,r){return t*=this.itemSize,this.normalized&&(e=bn(e,this.array),i=bn(i,this.array),r=bn(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this}setXYZW(t,e,i,r,o){return t*=this.itemSize,this.normalized&&(e=bn(e,this.array),i=bn(i,this.array),r=bn(r,this.array),o=bn(o,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}}class E4 extends mr{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class A4 extends mr{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class Tt extends mr{constructor(t,e,i){super(new Float32Array(t),e,i)}}let fhe=0;const ss=new pn,$E=new pr,vh=new G,Uo=new xo,vm=new xo,gr=new G;class gn extends ql{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:fhe++}),this.uuid=Fo(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return this.index=Array.isArray(t)?new(u4(t)?A4:E4)(t,1):t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const o=(new ln).getNormalMatrix(t);i.applyNormalMatrix(o),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return ss.makeRotationFromQuaternion(t),this.applyMatrix4(ss),this}rotateX(t){return ss.makeRotationX(t),this.applyMatrix4(ss),this}rotateY(t){return ss.makeRotationY(t),this.applyMatrix4(ss),this}rotateZ(t){return ss.makeRotationZ(t),this.applyMatrix4(ss),this}translate(t,e,i){return ss.makeTranslation(t,e,i),this.applyMatrix4(ss),this}scale(t,e,i){return ss.makeScale(t,e,i),this.applyMatrix4(ss),this}lookAt(t){return $E.lookAt(t),$E.updateMatrix(),this.applyMatrix4($E.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(vh).negate(),this.translate(vh.x,vh.y,vh.z),this}setFromPoints(t){const e=[];for(let i=0,r=t.length;i<r;i++){const o=t[i];e.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Tt(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new xo);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,r=e.length;i<r;i++)Uo.setFromBufferAttribute(e[i]),this.morphTargetsRelative?(gr.addVectors(this.boundingBox.min,Uo.min),this.boundingBox.expandByPoint(gr),gr.addVectors(this.boundingBox.max,Uo.max),this.boundingBox.expandByPoint(gr)):(this.boundingBox.expandByPoint(Uo.min),this.boundingBox.expandByPoint(Uo.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new rs);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new G,1/0);if(t){const i=this.boundingSphere.center;if(Uo.setFromBufferAttribute(t),e)for(let o=0,s=e.length;o<s;o++)vm.setFromBufferAttribute(e[o]),this.morphTargetsRelative?(gr.addVectors(Uo.min,vm.min),Uo.expandByPoint(gr),gr.addVectors(Uo.max,vm.max),Uo.expandByPoint(gr)):(Uo.expandByPoint(vm.min),Uo.expandByPoint(vm.max));Uo.getCenter(i);let r=0;for(let o=0,s=t.count;o<s;o++)gr.fromBufferAttribute(t,o),r=Math.max(r,i.distanceToSquared(gr));if(e)for(let o=0,s=e.length;o<s;o++){const a=e[o],c=this.morphTargetsRelative;for(let l=0,d=a.count;l<d;l++)gr.fromBufferAttribute(a,l),c&&(vh.fromBufferAttribute(t,l),gr.add(vh)),r=Math.max(r,i.distanceToSquared(gr))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=t.array,r=e.position.array,o=e.normal.array,s=e.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new mr(new Float32Array(4*a),4));const c=this.getAttribute("tangent").array,l=[],d=[];for(let H=0;H<a;H++)l[H]=new G,d[H]=new G;const u=new G,h=new G,f=new G,m=new Ee,v=new Ee,g=new Ee,b=new G,y=new G;function x(H,ge,_e){u.fromArray(r,3*H),h.fromArray(r,3*ge),f.fromArray(r,3*_e),m.fromArray(s,2*H),v.fromArray(s,2*ge),g.fromArray(s,2*_e),h.sub(u),f.sub(u),v.sub(m),g.sub(m);const Be=1/(v.x*g.y-g.x*v.y);isFinite(Be)&&(b.copy(h).multiplyScalar(g.y).addScaledVector(f,-v.y).multiplyScalar(Be),y.copy(f).multiplyScalar(v.x).addScaledVector(h,-g.x).multiplyScalar(Be),l[H].add(b),l[ge].add(b),l[_e].add(b),d[H].add(y),d[ge].add(y),d[_e].add(y))}let E=this.groups;0===E.length&&(E=[{start:0,count:i.length}]);for(let H=0,ge=E.length;H<ge;++H){const _e=E[H],Be=_e.start;for(let Me=Be,pe=Be+_e.count;Me<pe;Me+=3)x(i[Me+0],i[Me+1],i[Me+2])}const O=new G,R=new G,B=new G,$=new G;function N(H){B.fromArray(o,3*H),$.copy(B);const ge=l[H];O.copy(ge),O.sub(B.multiplyScalar(B.dot(ge))).normalize(),R.crossVectors($,ge);const Be=R.dot(d[H])<0?-1:1;c[4*H]=O.x,c[4*H+1]=O.y,c[4*H+2]=O.z,c[4*H+3]=Be}for(let H=0,ge=E.length;H<ge;++H){const _e=E[H],Be=_e.start;for(let Me=Be,pe=Be+_e.count;Me<pe;Me+=3)N(i[Me+0]),N(i[Me+1]),N(i[Me+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let i=this.getAttribute("normal");if(void 0===i)i=new mr(new Float32Array(3*e.count),3),this.setAttribute("normal",i);else for(let h=0,f=i.count;h<f;h++)i.setXYZ(h,0,0,0);const r=new G,o=new G,s=new G,a=new G,c=new G,l=new G,d=new G,u=new G;if(t)for(let h=0,f=t.count;h<f;h+=3){const m=t.getX(h+0),v=t.getX(h+1),g=t.getX(h+2);r.fromBufferAttribute(e,m),o.fromBufferAttribute(e,v),s.fromBufferAttribute(e,g),d.subVectors(s,o),u.subVectors(r,o),d.cross(u),a.fromBufferAttribute(i,m),c.fromBufferAttribute(i,v),l.fromBufferAttribute(i,g),a.add(d),c.add(d),l.add(d),i.setXYZ(m,a.x,a.y,a.z),i.setXYZ(v,c.x,c.y,c.z),i.setXYZ(g,l.x,l.y,l.z)}else for(let h=0,f=e.count;h<f;h+=3)r.fromBufferAttribute(e,h+0),o.fromBufferAttribute(e,h+1),s.fromBufferAttribute(e,h+2),d.subVectors(s,o),u.subVectors(r,o),d.cross(u),i.setXYZ(h+0,d.x,d.y,d.z),i.setXYZ(h+1,d.x,d.y,d.z),i.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)gr.fromBufferAttribute(t,e),gr.normalize(),t.setXYZ(e,gr.x,gr.y,gr.z)}toNonIndexed(){function t(a,c){const l=a.array,d=a.itemSize,u=a.normalized,h=new l.constructor(c.length*d);let f=0,m=0;for(let v=0,g=c.length;v<g;v++){f=a.isInterleavedBufferAttribute?c[v]*a.data.stride+a.offset:c[v]*d;for(let b=0;b<d;b++)h[m++]=l[f++]}return new mr(h,d,u)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new gn,i=this.index.array,r=this.attributes;for(const a in r){const l=t(r[a],i);e.setAttribute(a,l)}const o=this.morphAttributes;for(const a in o){const c=[],l=o[a];for(let d=0,u=l.length;d<u;d++){const f=t(l[d],i);c.push(f)}e.morphAttributes[a]=c}e.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,c=s.length;a<c;a++){const l=s[a];e.addGroup(l.start,l.count,l.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const c=this.parameters;for(const l in c)void 0!==c[l]&&(t[l]=c[l]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const c in i)t.data.attributes[c]=i[c].toJSON(t.data);const r={};let o=!1;for(const c in this.morphAttributes){const l=this.morphAttributes[c],d=[];for(let u=0,h=l.length;u<h;u++)d.push(l[u].toJSON(t.data));d.length>0&&(r[c]=d,o=!0)}o&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;null!==i&&this.setIndex(i.clone(e));const r=t.attributes;for(const l in r)this.setAttribute(l,r[l].clone(e));const o=t.morphAttributes;for(const l in o){const d=[],u=o[l];for(let h=0,f=u.length;h<f;h++)d.push(u[h].clone(e));this.morphAttributes[l]=d}this.morphTargetsRelative=t.morphTargetsRelative;const s=t.groups;for(let l=0,d=s.length;l<d;l++){const u=s[l];this.addGroup(u.start,u.count,u.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const c=t.boundingSphere;return null!==c&&(this.boundingSphere=c.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const T4=new pn,Jl=new ph,ey=new rs,D4=new G,yh=new G,xh=new G,wh=new G,YE=new G,ty=new G,ny=new Ee,iy=new Ee,ry=new Ee,I4=new G,P4=new G,O4=new G,oy=new G,sy=new G;class ei extends pr{constructor(t=new gn,e=new os){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(t,e){const i=this.geometry,o=i.morphAttributes.position,s=i.morphTargetsRelative;e.fromBufferAttribute(i.attributes.position,t);const a=this.morphTargetInfluences;if(o&&a){ty.set(0,0,0);for(let c=0,l=o.length;c<l;c++){const d=a[c];0!==d&&(YE.fromBufferAttribute(o[c],t),ty.addScaledVector(s?YE:YE.sub(e),d))}e.add(ty)}return e}raycast(t,e){const i=this.geometry,o=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),ey.copy(i.boundingSphere),ey.applyMatrix4(o),Jl.copy(t.ray).recast(t.near),(!1!==ey.containsPoint(Jl.origin)||!(null===Jl.intersectSphere(ey,D4)||Jl.origin.distanceToSquared(D4)>(t.far-t.near)**2))&&(T4.copy(o).invert(),Jl.copy(t.ray).applyMatrix4(T4),(null===i.boundingBox||!1!==Jl.intersectsBox(i.boundingBox))&&this._computeIntersections(t,e,Jl)))}_computeIntersections(t,e,i){let r;const o=this.geometry,s=this.material,a=o.index,c=o.attributes.position,l=o.attributes.uv,d=o.attributes.uv1,u=o.attributes.normal,h=o.groups,f=o.drawRange;if(null!==a)if(Array.isArray(s))for(let m=0,v=h.length;m<v;m++){const g=h[m],b=s[g.materialIndex];for(let E=Math.max(g.start,f.start),O=Math.min(a.count,Math.min(g.start+g.count,f.start+f.count));E<O;E+=3)r=ay(this,b,t,i,l,d,u,a.getX(E),a.getX(E+1),a.getX(E+2)),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=g.materialIndex,e.push(r))}else for(let g=Math.max(0,f.start),b=Math.min(a.count,f.start+f.count);g<b;g+=3)r=ay(this,s,t,i,l,d,u,a.getX(g),a.getX(g+1),a.getX(g+2)),r&&(r.faceIndex=Math.floor(g/3),e.push(r));else if(void 0!==c)if(Array.isArray(s))for(let m=0,v=h.length;m<v;m++){const g=h[m],b=s[g.materialIndex];for(let E=Math.max(g.start,f.start),O=Math.min(c.count,Math.min(g.start+g.count,f.start+f.count));E<O;E+=3)r=ay(this,b,t,i,l,d,u,E,E+1,E+2),r&&(r.faceIndex=Math.floor(E/3),r.face.materialIndex=g.materialIndex,e.push(r))}else for(let g=Math.max(0,f.start),b=Math.min(c.count,f.start+f.count);g<b;g+=3)r=ay(this,s,t,i,l,d,u,g,g+1,g+2),r&&(r.faceIndex=Math.floor(g/3),e.push(r))}}function ay(n,t,e,i,r,o,s,a,c,l){n.getVertexPosition(a,yh),n.getVertexPosition(c,xh),n.getVertexPosition(l,wh);const d=function phe(n,t,e,i,r,o,s,a){let c;if(c=1===t.side?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,0===t.side,a),null===c)return null;sy.copy(a),sy.applyMatrix4(n.matrixWorld);const l=e.ray.origin.distanceTo(sy);return l<e.near||l>e.far?null:{distance:l,point:sy.clone(),object:n}}(n,t,e,i,yh,xh,wh,oy);if(d){r&&(ny.fromBufferAttribute(r,a),iy.fromBufferAttribute(r,c),ry.fromBufferAttribute(r,l),d.uv=Bo.getInterpolation(oy,yh,xh,wh,ny,iy,ry,new Ee)),o&&(ny.fromBufferAttribute(o,a),iy.fromBufferAttribute(o,c),ry.fromBufferAttribute(o,l),d.uv1=Bo.getInterpolation(oy,yh,xh,wh,ny,iy,ry,new Ee),d.uv2=d.uv1),s&&(I4.fromBufferAttribute(s,a),P4.fromBufferAttribute(s,c),O4.fromBufferAttribute(s,l),d.normal=Bo.getInterpolation(oy,yh,xh,wh,I4,P4,O4,new G),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const u={a,b:c,c:l,normal:new G,materialIndex:0};Bo.getNormal(yh,xh,wh,u.normal),d.face=u}return d}class ed extends gn{constructor(t=1,e=1,i=1,r=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:o,depthSegments:s};const a=this;r=Math.floor(r),o=Math.floor(o),s=Math.floor(s);const c=[],l=[],d=[],u=[];let h=0,f=0;function m(v,g,b,y,x,E,O,R,B,$,N){const H=E/B,ge=O/$,_e=E/2,Be=O/2,ee=R/2,Me=B+1,pe=$+1;let ne=0,te=0;const Ce=new G;for(let Pe=0;Pe<pe;Pe++){const ue=Pe*ge-Be;for(let Ue=0;Ue<Me;Ue++)Ce[v]=(Ue*H-_e)*y,Ce[g]=ue*x,Ce[b]=ee,l.push(Ce.x,Ce.y,Ce.z),Ce[v]=0,Ce[g]=0,Ce[b]=R>0?1:-1,d.push(Ce.x,Ce.y,Ce.z),u.push(Ue/B),u.push(1-Pe/$),ne+=1}for(let Pe=0;Pe<$;Pe++)for(let ue=0;ue<B;ue++){const ce=h+ue+Me*(Pe+1),Q=h+(ue+1)+Me*(Pe+1),j=h+(ue+1)+Me*Pe;c.push(h+ue+Me*Pe,ce,j),c.push(ce,Q,j),te+=6}a.addGroup(f,te,N),f+=te,h+=ne}m("z","y","x",-1,-1,i,e,t,s,o,0),m("z","y","x",1,-1,i,e,-t,s,o,1),m("x","z","y",1,1,t,i,e,r,s,2),m("x","z","y",1,-1,t,i,-e,r,s,3),m("x","y","z",1,-1,t,e,i,r,o,4),m("x","y","z",-1,-1,t,e,-i,r,o,5),this.setIndex(c),this.setAttribute("position",new Tt(l,3)),this.setAttribute("normal",new Tt(d,3)),this.setAttribute("uv",new Tt(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ed(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Ch(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const r=n[e][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=r.clone():t[e][i]=Array.isArray(r)?r.slice():r}}return t}function ro(n){const t={};for(let e=0;e<n.length;e++){const i=Ch(n[e]);for(const r in i)t[r]=i[r]}return t}function R4(n){return null===n.getRenderTarget()?n.outputColorSpace:ni.workingColorSpace}const Mh={clone:Ch,merge:ro};class zr extends ks{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Ch(t.uniforms),this.uniformsGroups=function mhe(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;e.uniforms[r]=s&&s.isTexture?{type:"t",value:s.toJSON(t).uuid}:s&&s.isColor?{type:"c",value:s.getHex()}:s&&s.isVector2?{type:"v2",value:s.toArray()}:s&&s.isVector3?{type:"v3",value:s.toArray()}:s&&s.isVector4?{type:"v4",value:s.toArray()}:s&&s.isMatrix3?{type:"m3",value:s.toArray()}:s&&s.isMatrix4?{type:"m4",value:s.toArray()}:{value:s}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class XE extends pr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new pn,this.projectionMatrix=new pn,this.projectionMatrixInverse=new pn,this.coordinateSystem=Ya}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Hr extends XE{constructor(t=50,e=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*sh*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*Zl*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*sh*Math.atan(Math.tan(.5*Zl*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,i,r,o,s){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*Zl*this.fov)/this.zoom,i=2*e,r=this.aspect*i,o=-.5*r;const s=this.view;if(null!==this.view&&this.view.enabled){const c=s.fullWidth,l=s.fullHeight;o+=s.offsetX*r/c,e-=s.offsetY*i/l,r*=s.width/c,i*=s.height/l}const a=this.filmOffset;0!==a&&(o+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}class bhe extends pr{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Hr(-90,1,t,e);r.layers=this.layers,this.add(r);const o=new Hr(-90,1,t,e);o.layers=this.layers,this.add(o);const s=new Hr(-90,1,t,e);s.layers=this.layers,this.add(s);const a=new Hr(-90,1,t,e);a.layers=this.layers,this.add(a);const c=new Hr(-90,1,t,e);c.layers=this.layers,this.add(c);const l=new Hr(-90,1,t,e);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,r,o,s,a,c]=e;for(const l of e)this.remove(l);if(t===Ya)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else{if(2001!==t)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1)}for(const l of e)this.add(l),l.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,c,l,d]=this.children,u=t.getRenderTarget(),h=t.getActiveCubeFace(),f=t.getActiveMipmapLevel(),m=t.xr.enabled;t.xr.enabled=!1;const v=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,r),t.render(e,o),t.setRenderTarget(i,1,r),t.render(e,s),t.setRenderTarget(i,2,r),t.render(e,a),t.setRenderTarget(i,3,r),t.render(e,c),t.setRenderTarget(i,4,r),t.render(e,l),i.texture.generateMipmaps=v,t.setRenderTarget(i,5,r),t.render(e,d),t.setRenderTarget(u,h,f),t.xr.enabled=m,i.texture.needsPMREMUpdate=!0}}class cy extends Xa{constructor(t,e,i,r,o,s,a,c,l,d){super(t=void 0!==t?t:[],e=void 0!==e?e:Vc,i,r,o,s,a,c,l,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class vhe extends Is{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},r=[i,i,i,i,i,i];void 0!==e.encoding&&(pm("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),e.colorSpace=e.encoding===Yl?ar:""),this.texture=new cy(r,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:Ki}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new ed(5,5,5),o=new zr({name:"CubemapFromEquirect",uniforms:Ch(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});o.uniforms.tEquirect.value=e;const s=new ei(r,o),a=e.minFilter;return e.minFilter===jl&&(e.minFilter=Ki),new bhe(1,10,this).update(t,s),e.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(t,e,i,r){const o=t.getRenderTarget();for(let s=0;s<6;s++)t.setRenderTarget(this,s),t.clear(e,i,r);t.setRenderTarget(o)}}const qE=new G,yhe=new G,xhe=new ln;class Xc{constructor(t=new G(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const r=qE.subVectors(i,e).cross(yhe.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(qE),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const o=-(t.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:e.copy(t.start).addScaledVector(i,o)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||xhe.getNormalMatrix(t),r=this.coplanarPoint(qE).applyMatrix4(t),o=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const td=new rs,ly=new G;class ZE{constructor(t=new Xc,e=new Xc,i=new Xc,r=new Xc,o=new Xc,s=new Xc){this.planes=[t,e,i,r,o,s]}set(t,e,i,r,o,s){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(i),a[3].copy(r),a[4].copy(o),a[5].copy(s),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=Ya){const i=this.planes,r=t.elements,o=r[0],s=r[1],a=r[2],c=r[3],l=r[4],d=r[5],u=r[6],h=r[7],f=r[8],m=r[9],v=r[10],g=r[11],b=r[12],y=r[13],x=r[14],E=r[15];if(i[0].setComponents(c-o,h-l,g-f,E-b).normalize(),i[1].setComponents(c+o,h+l,g+f,E+b).normalize(),i[2].setComponents(c+s,h+d,g+m,E+y).normalize(),i[3].setComponents(c-s,h-d,g-m,E-y).normalize(),i[4].setComponents(c-a,h-u,g-v,E-x).normalize(),e===Ya)i[5].setComponents(c+a,h+u,g+v,E+x).normalize();else{if(2001!==e)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);i[5].setComponents(a,u,v,x).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),td.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),td.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(td)}intersectsSprite(t){return td.center.set(0,0,0),td.radius=.7071067811865476,td.applyMatrix4(t.matrixWorld),this.intersectsSphere(td)}intersectsSphere(t){const e=this.planes,i=t.center,r=-t.radius;for(let o=0;o<6;o++)if(e[o].distanceToPoint(i)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const r=e[i];if(ly.x=r.normal.x>0?t.max.x:t.min.x,ly.y=r.normal.y>0?t.max.y:t.min.y,ly.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(ly)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function k4(){let n=null,t=!1,e=null,i=null;function r(o,s){e(o,s),i=n.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==e&&(i=n.requestAnimationFrame(r),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(o){e=o},setContext:function(o){n=o}}}function whe(n,t){const e=t.isWebGL2,i=new WeakMap;return{get:function s(l){return l.isInterleavedBufferAttribute&&(l=l.data),i.get(l)},remove:function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const d=i.get(l);d&&(n.deleteBuffer(d.buffer),i.delete(l))},update:function c(l,d){if(l.isGLBufferAttribute){const h=i.get(l);return void((!h||h.version<l.version)&&i.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version}))}l.isInterleavedBufferAttribute&&(l=l.data);const u=i.get(l);void 0===u?i.set(l,function r(l,d){const u=l.array,h=l.usage,f=n.createBuffer();let m;if(n.bindBuffer(d,f),n.bufferData(d,u,h),l.onUploadCallback(),u instanceof Float32Array)m=n.FLOAT;else if(u instanceof Uint16Array)if(l.isFloat16BufferAttribute){if(!e)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");m=n.HALF_FLOAT}else m=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=n.SHORT;else if(u instanceof Uint32Array)m=n.UNSIGNED_INT;else if(u instanceof Int32Array)m=n.INT;else if(u instanceof Int8Array)m=n.BYTE;else if(u instanceof Uint8Array)m=n.UNSIGNED_BYTE;else{if(!(u instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);m=n.UNSIGNED_BYTE}return{buffer:f,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:l.version}}(l,d)):u.version<l.version&&(function o(l,d,u){const h=d.array,f=d.updateRange;n.bindBuffer(u,l),-1===f.count?n.bufferSubData(u,0,h):(e?n.bufferSubData(u,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):n.bufferSubData(u,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1),d.onUploadCallback()}(u.buffer,l,d),u.version=l.version)}}}class qc extends gn{constructor(t=1,e=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};const o=t/2,s=e/2,a=Math.floor(i),c=Math.floor(r),l=a+1,d=c+1,u=t/a,h=e/c,f=[],m=[],v=[],g=[];for(let b=0;b<d;b++){const y=b*h-s;for(let x=0;x<l;x++)m.push(x*u-o,-y,0),v.push(0,0,1),g.push(x/a),g.push(1-b/c)}for(let b=0;b<c;b++)for(let y=0;y<a;y++){const E=y+l*(b+1),O=y+1+l*(b+1),R=y+1+l*b;f.push(y+l*b,E,R),f.push(E,O,R)}this.setIndex(f),this.setAttribute("position",new Tt(m,3)),this.setAttribute("normal",new Tt(v,3)),this.setAttribute("uv",new Tt(g,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new qc(t.width,t.height,t.widthSegments,t.heightSegments)}}const xn={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},yt={common:{diffuse:{value:new xt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ln},alphaMap:{value:null},alphaMapTransform:{value:new ln},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ln}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ln}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ln}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ln},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ln},normalScale:{value:new Ee(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ln},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ln}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ln}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ln}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ln},alphaTest:{value:0},uvTransform:{value:new ln}},sprite:{diffuse:{value:new xt(16777215)},opacity:{value:1},center:{value:new Ee(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ln},alphaMap:{value:null},alphaMapTransform:{value:new ln},alphaTest:{value:0}}},Co={basic:{uniforms:ro([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.fog]),vertexShader:xn.meshbasic_vert,fragmentShader:xn.meshbasic_frag},lambert:{uniforms:ro([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,yt.lights,{emissive:{value:new xt(0)}}]),vertexShader:xn.meshlambert_vert,fragmentShader:xn.meshlambert_frag},phong:{uniforms:ro([yt.common,yt.specularmap,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,yt.lights,{emissive:{value:new xt(0)},specular:{value:new xt(1118481)},shininess:{value:30}}]),vertexShader:xn.meshphong_vert,fragmentShader:xn.meshphong_frag},standard:{uniforms:ro([yt.common,yt.envmap,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.roughnessmap,yt.metalnessmap,yt.fog,yt.lights,{emissive:{value:new xt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xn.meshphysical_vert,fragmentShader:xn.meshphysical_frag},toon:{uniforms:ro([yt.common,yt.aomap,yt.lightmap,yt.emissivemap,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.gradientmap,yt.fog,yt.lights,{emissive:{value:new xt(0)}}]),vertexShader:xn.meshtoon_vert,fragmentShader:xn.meshtoon_frag},matcap:{uniforms:ro([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,yt.fog,{matcap:{value:null}}]),vertexShader:xn.meshmatcap_vert,fragmentShader:xn.meshmatcap_frag},points:{uniforms:ro([yt.points,yt.fog]),vertexShader:xn.points_vert,fragmentShader:xn.points_frag},dashed:{uniforms:ro([yt.common,yt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xn.linedashed_vert,fragmentShader:xn.linedashed_frag},depth:{uniforms:ro([yt.common,yt.displacementmap]),vertexShader:xn.depth_vert,fragmentShader:xn.depth_frag},normal:{uniforms:ro([yt.common,yt.bumpmap,yt.normalmap,yt.displacementmap,{opacity:{value:1}}]),vertexShader:xn.meshnormal_vert,fragmentShader:xn.meshnormal_frag},sprite:{uniforms:ro([yt.sprite,yt.fog]),vertexShader:xn.sprite_vert,fragmentShader:xn.sprite_frag},background:{uniforms:{uvTransform:{value:new ln},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xn.background_vert,fragmentShader:xn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:xn.backgroundCube_vert,fragmentShader:xn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xn.cube_vert,fragmentShader:xn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xn.equirect_vert,fragmentShader:xn.equirect_frag},distanceRGBA:{uniforms:ro([yt.common,yt.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xn.distanceRGBA_vert,fragmentShader:xn.distanceRGBA_frag},shadow:{uniforms:ro([yt.lights,yt.fog,{color:{value:new xt(0)},opacity:{value:1}}]),vertexShader:xn.shadow_vert,fragmentShader:xn.shadow_frag}};Co.physical={uniforms:ro([Co.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ln},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ln},clearcoatNormalScale:{value:new Ee(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ln},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ln},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ln},sheen:{value:0},sheenColor:{value:new xt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ln},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ln},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ln},transmissionSamplerSize:{value:new Ee},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ln},attenuationDistance:{value:0},attenuationColor:{value:new xt(0)},specularColor:{value:new xt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ln},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ln},anisotropyVector:{value:new Ee},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ln}}]),vertexShader:xn.meshphysical_vert,fragmentShader:xn.meshphysical_frag};const dy={r:0,b:0,g:0};function ype(n,t,e,i,r,o,s){const a=new xt(0);let l,d,c=!0===o?0:1,u=null,h=0,f=null;function v(g,b){g.getRGB(dy,R4(n)),i.buffers.color.setClear(dy.r,dy.g,dy.b,b,s)}return{getClearColor:function(){return a},setClearColor:function(g,b=1){a.set(g),c=b,v(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(g){c=g,v(a,c)},render:function m(g,b){let y=!1,x=!0===b.isScene?b.background:null;x&&x.isTexture&&(x=(b.backgroundBlurriness>0?e:t).get(x)),null===x?v(a,c):x&&x.isColor&&(v(x,1),y=!0);const E=n.xr.getEnvironmentBlendMode();"additive"===E?i.buffers.color.setClear(0,0,0,1,s):"alpha-blend"===E&&i.buffers.color.setClear(0,0,0,0,s),(n.autoClear||y)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),x&&(x.isCubeTexture||x.mapping===dm)?(void 0===d&&(d=new ei(new ed(1,1,1),new zr({name:"BackgroundCubeMaterial",uniforms:Ch(Co.backgroundCube.uniforms),vertexShader:Co.backgroundCube.vertexShader,fragmentShader:Co.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(O,R,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=x,d.material.uniforms.flipEnvMap.value=x.isCubeTexture&&!1===x.isRenderTargetTexture?-1:1,d.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,d.material.toneMapped=ni.getTransfer(x.colorSpace)!==gi,(u!==x||h!==x.version||f!==n.toneMapping)&&(d.material.needsUpdate=!0,u=x,h=x.version,f=n.toneMapping),d.layers.enableAll(),g.unshift(d,d.geometry,d.material,0,0,null)):x&&x.isTexture&&(void 0===l&&(l=new ei(new qc(2,2),new zr({name:"BackgroundMaterial",uniforms:Ch(Co.background.uniforms),vertexShader:Co.background.vertexShader,fragmentShader:Co.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=x,l.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,l.material.toneMapped=ni.getTransfer(x.colorSpace)!==gi,!0===x.matrixAutoUpdate&&x.updateMatrix(),l.material.uniforms.uvTransform.value.copy(x.matrix),(u!==x||h!==x.version||f!==n.toneMapping)&&(l.material.needsUpdate=!0,u=x,h=x.version,f=n.toneMapping),l.layers.enableAll(),g.unshift(l,l.geometry,l.material,0,0,null))}}}function xpe(n,t,e,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),s=i.isWebGL2||null!==o,a={},c=g(null);let l=c,d=!1;function f(ee){return i.isWebGL2?n.bindVertexArray(ee):o.bindVertexArrayOES(ee)}function m(ee){return i.isWebGL2?n.deleteVertexArray(ee):o.deleteVertexArrayOES(ee)}function g(ee){const Me=[],pe=[],ne=[];for(let te=0;te<r;te++)Me[te]=0,pe[te]=0,ne[te]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Me,enabledAttributes:pe,attributeDivisors:ne,object:ee,attributes:{},index:null}}function x(){const ee=l.newAttributes;for(let Me=0,pe=ee.length;Me<pe;Me++)ee[Me]=0}function E(ee){O(ee,0)}function O(ee,Me){const ne=l.enabledAttributes,te=l.attributeDivisors;l.newAttributes[ee]=1,0===ne[ee]&&(n.enableVertexAttribArray(ee),ne[ee]=1),te[ee]!==Me&&((i.isWebGL2?n:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](ee,Me),te[ee]=Me)}function R(){const ee=l.newAttributes,Me=l.enabledAttributes;for(let pe=0,ne=Me.length;pe<ne;pe++)Me[pe]!==ee[pe]&&(n.disableVertexAttribArray(pe),Me[pe]=0)}function B(ee,Me,pe,ne,te,Ce,Pe){!0===Pe?n.vertexAttribIPointer(ee,Me,pe,te,Ce):n.vertexAttribPointer(ee,Me,pe,ne,te,Ce)}function _e(){Be(),d=!0,l!==c&&(l=c,f(l.object))}function Be(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:function u(ee,Me,pe,ne,te){let Ce=!1;if(s){const Pe=function v(ee,Me,pe){const ne=!0===pe.wireframe;let te=a[ee.id];void 0===te&&(te={},a[ee.id]=te);let Ce=te[Me.id];void 0===Ce&&(Ce={},te[Me.id]=Ce);let Pe=Ce[ne];return void 0===Pe&&(Pe=g(function h(){return i.isWebGL2?n.createVertexArray():o.createVertexArrayOES()}()),Ce[ne]=Pe),Pe}(ne,pe,Me);l!==Pe&&(l=Pe,f(l.object)),Ce=function b(ee,Me,pe,ne){const te=l.attributes,Ce=Me.attributes;let Pe=0;const ue=pe.getAttributes();for(const Ue in ue)if(ue[Ue].location>=0){const Q=te[Ue];let j=Ce[Ue];if(void 0===j&&("instanceMatrix"===Ue&&ee.instanceMatrix&&(j=ee.instanceMatrix),"instanceColor"===Ue&&ee.instanceColor&&(j=ee.instanceColor)),void 0===Q||Q.attribute!==j||j&&Q.data!==j.data)return!0;Pe++}return l.attributesNum!==Pe||l.index!==ne}(ee,ne,pe,te),Ce&&function y(ee,Me,pe,ne){const te={},Ce=Me.attributes;let Pe=0;const ue=pe.getAttributes();for(const Ue in ue)if(ue[Ue].location>=0){let Q=Ce[Ue];void 0===Q&&("instanceMatrix"===Ue&&ee.instanceMatrix&&(Q=ee.instanceMatrix),"instanceColor"===Ue&&ee.instanceColor&&(Q=ee.instanceColor));const j={};j.attribute=Q,Q&&Q.data&&(j.data=Q.data),te[Ue]=j,Pe++}l.attributes=te,l.attributesNum=Pe,l.index=ne}(ee,ne,pe,te)}else{const Pe=!0===Me.wireframe;(l.geometry!==ne.id||l.program!==pe.id||l.wireframe!==Pe)&&(l.geometry=ne.id,l.program=pe.id,l.wireframe=Pe,Ce=!0)}null!==te&&e.update(te,n.ELEMENT_ARRAY_BUFFER),(Ce||d)&&(d=!1,function $(ee,Me,pe,ne){if(!1===i.isWebGL2&&(ee.isInstancedMesh||ne.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;x();const te=ne.attributes,Ce=pe.getAttributes(),Pe=Me.defaultAttributeValues;for(const ue in Ce){const Ue=Ce[ue];if(Ue.location>=0){let ce=te[ue];if(void 0===ce&&("instanceMatrix"===ue&&ee.instanceMatrix&&(ce=ee.instanceMatrix),"instanceColor"===ue&&ee.instanceColor&&(ce=ee.instanceColor)),void 0!==ce){const Q=ce.normalized,j=ce.itemSize,fe=e.get(ce);if(void 0===fe)continue;const K=fe.buffer,Ye=fe.type,Re=fe.bytesPerElement,bt=!0===i.isWebGL2&&(Ye===n.INT||Ye===n.UNSIGNED_INT||1013===ce.gpuType);if(ce.isInterleavedBufferAttribute){const rt=ce.data,q=rt.stride,Oe=ce.offset;if(rt.isInstancedInterleavedBuffer){for(let de=0;de<Ue.locationSize;de++)O(Ue.location+de,rt.meshPerAttribute);!0!==ee.isInstancedMesh&&void 0===ne._maxInstanceCount&&(ne._maxInstanceCount=rt.meshPerAttribute*rt.count)}else for(let de=0;de<Ue.locationSize;de++)E(Ue.location+de);n.bindBuffer(n.ARRAY_BUFFER,K);for(let de=0;de<Ue.locationSize;de++)B(Ue.location+de,j/Ue.locationSize,Ye,Q,q*Re,(Oe+j/Ue.locationSize*de)*Re,bt)}else{if(ce.isInstancedBufferAttribute){for(let rt=0;rt<Ue.locationSize;rt++)O(Ue.location+rt,ce.meshPerAttribute);!0!==ee.isInstancedMesh&&void 0===ne._maxInstanceCount&&(ne._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let rt=0;rt<Ue.locationSize;rt++)E(Ue.location+rt);n.bindBuffer(n.ARRAY_BUFFER,K);for(let rt=0;rt<Ue.locationSize;rt++)B(Ue.location+rt,j/Ue.locationSize,Ye,Q,j*Re,j/Ue.locationSize*rt*Re,bt)}}else if(void 0!==Pe){const Q=Pe[ue];if(void 0!==Q)switch(Q.length){case 2:n.vertexAttrib2fv(Ue.location,Q);break;case 3:n.vertexAttrib3fv(Ue.location,Q);break;case 4:n.vertexAttrib4fv(Ue.location,Q);break;default:n.vertexAttrib1fv(Ue.location,Q)}}}}R()}(ee,Me,pe,ne),null!==te&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(te).buffer))},reset:_e,resetDefaultState:Be,dispose:function N(){_e();for(const ee in a){const Me=a[ee];for(const pe in Me){const ne=Me[pe];for(const te in ne)m(ne[te].object),delete ne[te];delete Me[pe]}delete a[ee]}},releaseStatesOfGeometry:function H(ee){if(void 0===a[ee.id])return;const Me=a[ee.id];for(const pe in Me){const ne=Me[pe];for(const te in ne)m(ne[te].object),delete ne[te];delete Me[pe]}delete a[ee.id]},releaseStatesOfProgram:function ge(ee){for(const Me in a){const pe=a[Me];if(void 0===pe[ee.id])continue;const ne=pe[ee.id];for(const te in ne)m(ne[te].object),delete ne[te];delete pe[ee.id]}},initAttributes:x,enableAttribute:E,disableUnusedAttributes:R}}function wpe(n,t,e,i){const r=i.isWebGL2;let o;this.setMode=function s(l){o=l},this.render=function a(l,d){n.drawArrays(o,l,d),e.update(d,o,1)},this.renderInstances=function c(l,d,u){if(0===u)return;let h,f;if(r)h=n,f="drawArraysInstanced";else if(h=t.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](o,l,d,u),e.update(d,o,u)}}function Cpe(n,t,e){let i;function o(B){if("highp"===B){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return"mediump"===B&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===n.constructor.name;let a=void 0!==e.precision?e.precision:"highp";const c=o(a);c!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",c,"instead."),a=c);const l=s||t.has("WEBGL_draw_buffers"),d=!0===e.logarithmicDepthBuffer,u=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_TEXTURE_SIZE),m=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),v=n.getParameter(n.MAX_VERTEX_ATTRIBS),g=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),b=n.getParameter(n.MAX_VARYING_VECTORS),y=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),x=h>0,E=s||t.has("OES_texture_float");return{isWebGL2:s,drawBuffers:l,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const B=t.get("EXT_texture_filter_anisotropic");i=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:o,precision:a,logarithmicDepthBuffer:d,maxTextures:u,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:m,maxAttributes:v,maxVertexUniforms:g,maxVaryings:b,maxFragmentUniforms:y,vertexTextures:x,floatFragmentTextures:E,floatVertexTextures:x&&E,maxSamples:s?n.getParameter(n.MAX_SAMPLES):0}}function Mpe(n){const t=this;let e=null,i=0,r=!1,o=!1;const s=new Xc,a=new ln,c={value:null,needsUpdate:!1};function d(u,h,f,m){const v=null!==u?u.length:0;let g=null;if(0!==v){if(g=c.value,!0!==m||null===g){const b=f+4*v,y=h.matrixWorldInverse;a.getNormalMatrix(y),(null===g||g.length<b)&&(g=new Float32Array(b));for(let x=0,E=f;x!==v;++x,E+=4)s.copy(u[x]).applyMatrix4(y,a),s.normal.toArray(g,E),g[E+3]=s.constant}c.value=g,c.needsUpdate=!0}return t.numPlanes=v,t.numIntersection=0,g}this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(u,h){const f=0!==u.length||h||0!==i||r;return r=h,i=u.length,f},this.beginShadows=function(){o=!0,d(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(u,h){e=d(u,h,0)},this.setState=function(u,h,f){const m=u.clippingPlanes,v=u.clipIntersection,g=u.clipShadows,b=n.get(u);if(!r||null===m||0===m.length||o&&!g)o?d(null):function l(){c.value!==e&&(c.value=e,c.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}();else{const y=o?0:i,x=4*y;let E=b.clippingState||null;c.value=E,E=d(m,h,x,f);for(let O=0;O!==x;++O)E[O]=e[O];b.clippingState=E,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=y}}}function Spe(n){let t=new WeakMap;function e(s,a){return 303===a?s.mapping=Vc:304===a&&(s.mapping=Gl),s}function r(s){const a=s.target;a.removeEventListener("dispose",r);const c=t.get(a);void 0!==c&&(t.delete(a),c.dispose())}return{get:function i(s){if(s&&s.isTexture&&!1===s.isRenderTargetTexture){const a=s.mapping;if(303===a||304===a){if(t.has(s))return e(t.get(s).texture,s.mapping);{const c=s.image;if(c&&c.height>0){const l=new vhe(c.height/2);return l.fromEquirectangularTexture(n,s),t.set(s,l),s.addEventListener("dispose",r),e(l.texture,s.mapping)}return null}}}return s},dispose:function o(){t=new WeakMap}}}class ym extends XE{constructor(t=-1,e=1,i=1,r=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=r,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,i,r,o,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=i-t,s=i+t,a=r+e,c=r-e;if(null!==this.view&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=l*this.view.offsetX,s=o+l*this.view.width,a-=d*this.view.offsetY,c=a-d*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}const L4=[.125,.215,.35,.446,.526,.582],KE=new ym,F4=new xt;let QE=null,JE=0,e1=0;const id=(1+Math.sqrt(5))/2,Th=1/id,N4=[new G(1,1,1),new G(-1,1,1),new G(1,1,-1),new G(-1,1,-1),new G(0,id,Th),new G(0,id,-Th),new G(Th,0,id),new G(-Th,0,id),new G(id,Th,0),new G(-id,Th,0)];class B4{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,r=100){QE=this._renderer.getRenderTarget(),JE=this._renderer.getActiveCubeFace(),e1=this._renderer.getActiveMipmapLevel(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(t,i,r,o),e>0&&this._blur(o,0,0,e),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=z4(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=V4(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(QE,JE,e1),t.scissorTest=!1,uy(t,0,0,t.width,t.height)}_fromTexture(t,e){this._setSize(t.mapping===Vc||t.mapping===Gl?0===t.image.length?16:t.image[0].width||t.image[0].image.width:t.image.width/4),QE=this._renderer.getRenderTarget(),JE=this._renderer.getActiveCubeFace(),e1=this._renderer.getActiveMipmapLevel();const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:Ki,minFilter:Ki,generateMipmaps:!1,type:Wa,format:ns,colorSpace:$a,depthBuffer:!1},r=U4(t,e,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=U4(t,e,i);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function Epe(n){const t=[],e=[],i=[];let r=n;const o=n-4+1+L4.length;for(let s=0;s<o;s++){const a=Math.pow(2,r);e.push(a);let c=1/a;s>n-4?c=L4[s-n+4-1]:0===s&&(c=0),i.push(c);const l=1/(a-2),d=-l,u=1+l,h=[d,d,u,d,u,u,d,d,u,u,d,u],f=6,m=6,v=3,g=2,b=1,y=new Float32Array(v*m*f),x=new Float32Array(g*m*f),E=new Float32Array(b*m*f);for(let R=0;R<f;R++){const B=R%3*2/3-1,$=R>2?0:-1;y.set([B,$,0,B+2/3,$,0,B+2/3,$+1,0,B,$,0,B+2/3,$+1,0,B,$+1,0],v*m*R),x.set(h,g*m*R),E.set([R,R,R,R,R,R],b*m*R)}const O=new gn;O.setAttribute("position",new mr(y,v)),O.setAttribute("uv",new mr(x,g)),O.setAttribute("faceIndex",new mr(E,b)),t.push(O),r>4&&r--}return{lodPlanes:t,sizeLods:e,sigmas:i}}(o)),this._blurMaterial=function Ape(n,t,e){const i=new Float32Array(20),r=new G(0,1,0);return new zr({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(o,t,e)}return r}_compileMaterial(t){const e=new ei(this._lodPlanes[0],t);this._renderer.compile(e,KE)}_sceneToCubeUV(t,e,i,r){const a=new Hr(90,1,e,i),c=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],d=this._renderer,u=d.autoClear,h=d.toneMapping;d.getClearColor(F4),d.toneMapping=Uc,d.autoClear=!1;const f=new os({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),m=new ei(new ed,f);let v=!1;const g=t.background;g?g.isColor&&(f.color.copy(g),t.background=null,v=!0):(f.color.copy(F4),v=!0);for(let b=0;b<6;b++){const y=b%3;0===y?(a.up.set(0,c[b],0),a.lookAt(l[b],0,0)):1===y?(a.up.set(0,0,c[b]),a.lookAt(0,l[b],0)):(a.up.set(0,c[b],0),a.lookAt(0,0,l[b]));const x=this._cubeSize;uy(r,y*x,b>2?x:0,x,x),d.setRenderTarget(r),v&&d.render(m,a),d.render(t,a)}m.geometry.dispose(),m.material.dispose(),d.toneMapping=h,d.autoClear=u,t.background=g}_textureToCubeUV(t,e){const i=this._renderer,r=t.mapping===Vc||t.mapping===Gl;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=z4()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=V4());const o=r?this._cubemapMaterial:this._equirectMaterial,s=new ei(this._lodPlanes[0],o);o.uniforms.envMap.value=t;const c=this._cubeSize;uy(e,0,0,3*c,2*c),i.setRenderTarget(e),i.render(s,KE)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(t,r-1,r,o,N4[(r-1)%N4.length])}e.autoClear=i}_blur(t,e,i,r,o){const s=this._pingPongRenderTarget;this._halfBlur(t,s,e,i,r,"latitudinal",o),this._halfBlur(s,t,i,i,r,"longitudinal",o)}_halfBlur(t,e,i,r,o,s,a){const c=this._renderer,l=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const u=new ei(this._lodPlanes[r],l),h=l.uniforms,f=this._sizeLods[i]-1,m=isFinite(o)?Math.PI/(2*f):2*Math.PI/39,v=o/m,g=isFinite(o)?1+Math.floor(3*v):20;g>20&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const b=[];let y=0;for(let B=0;B<20;++B){const $=B/v,N=Math.exp(-$*$/2);b.push(N),0===B?y+=N:B<g&&(y+=2*N)}for(let B=0;B<b.length;B++)b[B]=b[B]/y;h.envMap.value=t.texture,h.samples.value=g,h.weights.value=b,h.latitudinal.value="latitudinal"===s,a&&(h.poleAxis.value=a);const{_lodMax:x}=this;h.dTheta.value=m,h.mipInt.value=x-i;const E=this._sizeLods[r];uy(e,3*E*(r>x-4?r-x+4:0),4*(this._cubeSize-E),3*E,2*E),c.setRenderTarget(e),c.render(u,KE)}}function U4(n,t,e){const i=new Is(n,t,e);return i.texture.mapping=dm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function uy(n,t,e,i,r){n.viewport.set(t,e,i,r),n.scissor.set(t,e,i,r)}function V4(){return new zr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function z4(){return new zr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Tpe(n){let t=new WeakMap,e=null;function o(a){const c=a.target;c.removeEventListener("dispose",o);const l=t.get(c);void 0!==l&&(t.delete(c),l.dispose())}return{get:function i(a){if(a&&a.isTexture){const c=a.mapping,l=303===c||304===c,d=c===Vc||c===Gl;if(l||d){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let u=t.get(a);return null===e&&(e=new B4(n)),u=l?e.fromEquirectangular(a,u):e.fromCubemap(a,u),t.set(a,u),u.texture}if(t.has(a))return t.get(a).texture;{const u=a.image;if(l&&u&&u.height>0||d&&u&&function r(a){let c=0;for(let d=0;d<6;d++)void 0!==a[d]&&c++;return 6===c}(u)){null===e&&(e=new B4(n));const h=l?e.fromEquirectangular(a):e.fromCubemap(a);return t.set(a,h),a.addEventListener("dispose",o),h.texture}return null}}}return a},dispose:function s(){t=new WeakMap,null!==e&&(e.dispose(),e=null)}}}function Dpe(n){const t={};function e(i){if(void 0!==t[i])return t[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return t[i]=r,r}return{has:function(i){return null!==e(i)},init:function(i){i.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(i){const r=e(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Ipe(n,t,e,i){const r={},o=new WeakMap;function s(u){const h=u.target;null!==h.index&&t.remove(h.index);for(const m in h.attributes)t.remove(h.attributes[m]);for(const m in h.morphAttributes){const v=h.morphAttributes[m];for(let g=0,b=v.length;g<b;g++)t.remove(v[g])}h.removeEventListener("dispose",s),delete r[h.id];const f=o.get(h);f&&(t.remove(f),o.delete(h)),i.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,e.memory.geometries--}function l(u){const h=[],f=u.index,m=u.attributes.position;let v=0;if(null!==f){const y=f.array;v=f.version;for(let x=0,E=y.length;x<E;x+=3){const O=y[x+0],R=y[x+1],B=y[x+2];h.push(O,R,R,B,B,O)}}else{if(void 0===m)return;v=m.version;for(let x=0,E=m.array.length/3-1;x<E;x+=3){const O=x+0,R=x+1,B=x+2;h.push(O,R,R,B,B,O)}}const g=new(u4(h)?A4:E4)(h,1);g.version=v;const b=o.get(u);b&&t.remove(b),o.set(u,g)}return{get:function a(u,h){return!0===r[h.id]||(h.addEventListener("dispose",s),r[h.id]=!0,e.memory.geometries++),h},update:function c(u){const h=u.attributes;for(const m in h)t.update(h[m],n.ARRAY_BUFFER);const f=u.morphAttributes;for(const m in f){const v=f[m];for(let g=0,b=v.length;g<b;g++)t.update(v[g],n.ARRAY_BUFFER)}},getWireframeAttribute:function d(u){const h=o.get(u);if(h){const f=u.index;null!==f&&h.version<f.version&&l(u)}else l(u);return o.get(u)}}}function Ppe(n,t,e,i){const r=i.isWebGL2;let o,a,c;this.setMode=function s(h){o=h},this.setIndex=function l(h){a=h.type,c=h.bytesPerElement},this.render=function d(h,f){n.drawElements(o,f,a,h*c),e.update(f,o,1)},this.renderInstances=function u(h,f,m){if(0===m)return;let v,g;if(r)v=n,g="drawElementsInstanced";else if(v=t.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",null===v)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");v[g](o,f,a,h*c,m),e.update(f,o,m)}}function Ope(n){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function r(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function i(o,s,a){switch(e.calls++,s){case n.TRIANGLES:e.triangles+=a*(o/3);break;case n.LINES:e.lines+=a*(o/2);break;case n.LINE_STRIP:e.lines+=a*(o-1);break;case n.LINE_LOOP:e.lines+=a*o;break;case n.POINTS:e.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s)}}}}function Rpe(n,t){return n[0]-t[0]}function kpe(n,t){return Math.abs(t[1])-Math.abs(n[1])}function Lpe(n,t,e){const i={},r=new Float32Array(8),o=new WeakMap,s=new Hn,a=[];for(let l=0;l<8;l++)a[l]=[l,0];return{update:function c(l,d,u){const h=l.morphTargetInfluences;if(!0===t.isWebGL2){const f=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,m=void 0!==f?f.length:0;let v=o.get(d);if(void 0===v||v.count!==m){let ee=function(){_e.dispose(),o.delete(d),d.removeEventListener("dispose",ee)};void 0!==v&&v.texture.dispose();const y=void 0!==d.morphAttributes.position,x=void 0!==d.morphAttributes.normal,E=void 0!==d.morphAttributes.color,O=d.morphAttributes.position||[],R=d.morphAttributes.normal||[],B=d.morphAttributes.color||[];let $=0;!0===y&&($=1),!0===x&&($=2),!0===E&&($=3);let N=d.attributes.position.count*$,H=1;N>t.maxTextureSize&&(H=Math.ceil(N/t.maxTextureSize),N=t.maxTextureSize);const ge=new Float32Array(N*H*4*m),_e=new kE(ge,N,H,m);_e.type=ja,_e.needsUpdate=!0;const Be=4*$;for(let Me=0;Me<m;Me++){const pe=O[Me],ne=R[Me],te=B[Me],Ce=N*H*4*Me;for(let Pe=0;Pe<pe.count;Pe++){const ue=Pe*Be;!0===y&&(s.fromBufferAttribute(pe,Pe),ge[Ce+ue+0]=s.x,ge[Ce+ue+1]=s.y,ge[Ce+ue+2]=s.z,ge[Ce+ue+3]=0),!0===x&&(s.fromBufferAttribute(ne,Pe),ge[Ce+ue+4]=s.x,ge[Ce+ue+5]=s.y,ge[Ce+ue+6]=s.z,ge[Ce+ue+7]=0),!0===E&&(s.fromBufferAttribute(te,Pe),ge[Ce+ue+8]=s.x,ge[Ce+ue+9]=s.y,ge[Ce+ue+10]=s.z,ge[Ce+ue+11]=4===te.itemSize?s.w:1)}}v={count:m,texture:_e,size:new Ee(N,H)},o.set(d,v),d.addEventListener("dispose",ee)}let g=0;for(let y=0;y<h.length;y++)g+=h[y];const b=d.morphTargetsRelative?1:1-g;u.getUniforms().setValue(n,"morphTargetBaseInfluence",b),u.getUniforms().setValue(n,"morphTargetInfluences",h),u.getUniforms().setValue(n,"morphTargetsTexture",v.texture,e),u.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{const f=void 0===h?0:h.length;let m=i[d.id];if(void 0===m||m.length!==f){m=[];for(let x=0;x<f;x++)m[x]=[x,0];i[d.id]=m}for(let x=0;x<f;x++){const E=m[x];E[0]=x,E[1]=h[x]}m.sort(kpe);for(let x=0;x<8;x++)x<f&&m[x][1]?(a[x][0]=m[x][0],a[x][1]=m[x][1]):(a[x][0]=Number.MAX_SAFE_INTEGER,a[x][1]=0);a.sort(Rpe);const v=d.morphAttributes.position,g=d.morphAttributes.normal;let b=0;for(let x=0;x<8;x++){const E=a[x],O=E[0],R=E[1];O!==Number.MAX_SAFE_INTEGER&&R?(v&&d.getAttribute("morphTarget"+x)!==v[O]&&d.setAttribute("morphTarget"+x,v[O]),g&&d.getAttribute("morphNormal"+x)!==g[O]&&d.setAttribute("morphNormal"+x,g[O]),r[x]=R,b+=R):(v&&!0===d.hasAttribute("morphTarget"+x)&&d.deleteAttribute("morphTarget"+x),g&&!0===d.hasAttribute("morphNormal"+x)&&d.deleteAttribute("morphNormal"+x),r[x]=0)}const y=d.morphTargetsRelative?1:1-b;u.getUniforms().setValue(n,"morphTargetBaseInfluence",y),u.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function Fpe(n,t,e,i){let r=new WeakMap;function a(c){const l=c.target;l.removeEventListener("dispose",a),e.remove(l.instanceMatrix),null!==l.instanceColor&&e.remove(l.instanceColor)}return{update:function o(c){const l=i.render.frame,u=t.get(c,c.geometry);if(r.get(u)!==l&&(t.update(u),r.set(u,l)),c.isInstancedMesh&&(!1===c.hasEventListener("dispose",a)&&c.addEventListener("dispose",a),r.get(c)!==l&&(e.update(c.instanceMatrix,n.ARRAY_BUFFER),null!==c.instanceColor&&e.update(c.instanceColor,n.ARRAY_BUFFER),r.set(c,l))),c.isSkinnedMesh){const h=c.skeleton;r.get(h)!==l&&(h.update(),r.set(h,l))}return u},dispose:function s(){r=new WeakMap}}}const H4=new Xa,G4=new kE,j4=new g4,W4=new cy,$4=[],Y4=[],X4=new Float32Array(16),q4=new Float32Array(9),Z4=new Float32Array(4);function Dh(n,t,e){const i=n[0];if(i<=0||i>0)return n;const r=t*e;let o=$4[r];if(void 0===o&&(o=new Float32Array(r),$4[r]=o),0!==t){i.toArray(o,0);for(let s=1,a=0;s!==t;++s)a+=e,n[s].toArray(o,a)}return o}function cr(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function lr(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function hy(n,t){let e=Y4[t];void 0===e&&(e=new Int32Array(t),Y4[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function Npe(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function Bpe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(cr(e,t))return;n.uniform2fv(this.addr,t),lr(e,t)}}function Upe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(void 0!==t.r)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(cr(e,t))return;n.uniform3fv(this.addr,t),lr(e,t)}}function Vpe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(cr(e,t))return;n.uniform4fv(this.addr,t),lr(e,t)}}function zpe(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(cr(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),lr(e,t)}else{if(cr(e,i))return;Z4.set(i),n.uniformMatrix2fv(this.addr,!1,Z4),lr(e,i)}}function Hpe(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(cr(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),lr(e,t)}else{if(cr(e,i))return;q4.set(i),n.uniformMatrix3fv(this.addr,!1,q4),lr(e,i)}}function Gpe(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(cr(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),lr(e,t)}else{if(cr(e,i))return;X4.set(i),n.uniformMatrix4fv(this.addr,!1,X4),lr(e,i)}}function jpe(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function Wpe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(cr(e,t))return;n.uniform2iv(this.addr,t),lr(e,t)}}function $pe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(cr(e,t))return;n.uniform3iv(this.addr,t),lr(e,t)}}function Ype(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(cr(e,t))return;n.uniform4iv(this.addr,t),lr(e,t)}}function Xpe(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function qpe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(cr(e,t))return;n.uniform2uiv(this.addr,t),lr(e,t)}}function Zpe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(cr(e,t))return;n.uniform3uiv(this.addr,t),lr(e,t)}}function Kpe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(cr(e,t))return;n.uniform4uiv(this.addr,t),lr(e,t)}}function Qpe(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture2D(t||H4,r)}function Jpe(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture3D(t||j4,r)}function eme(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTextureCube(t||W4,r)}function tme(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture2DArray(t||G4,r)}function ime(n,t){n.uniform1fv(this.addr,t)}function rme(n,t){const e=Dh(t,this.size,2);n.uniform2fv(this.addr,e)}function ome(n,t){const e=Dh(t,this.size,3);n.uniform3fv(this.addr,e)}function sme(n,t){const e=Dh(t,this.size,4);n.uniform4fv(this.addr,e)}function ame(n,t){const e=Dh(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function cme(n,t){const e=Dh(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function lme(n,t){const e=Dh(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function dme(n,t){n.uniform1iv(this.addr,t)}function ume(n,t){n.uniform2iv(this.addr,t)}function hme(n,t){n.uniform3iv(this.addr,t)}function fme(n,t){n.uniform4iv(this.addr,t)}function pme(n,t){n.uniform1uiv(this.addr,t)}function mme(n,t){n.uniform2uiv(this.addr,t)}function gme(n,t){n.uniform3uiv(this.addr,t)}function _me(n,t){n.uniform4uiv(this.addr,t)}function bme(n,t,e){const i=this.cache,r=t.length,o=hy(e,r);cr(i,o)||(n.uniform1iv(this.addr,o),lr(i,o));for(let s=0;s!==r;++s)e.setTexture2D(t[s]||H4,o[s])}function vme(n,t,e){const i=this.cache,r=t.length,o=hy(e,r);cr(i,o)||(n.uniform1iv(this.addr,o),lr(i,o));for(let s=0;s!==r;++s)e.setTexture3D(t[s]||j4,o[s])}function yme(n,t,e){const i=this.cache,r=t.length,o=hy(e,r);cr(i,o)||(n.uniform1iv(this.addr,o),lr(i,o));for(let s=0;s!==r;++s)e.setTextureCube(t[s]||W4,o[s])}function xme(n,t,e){const i=this.cache,r=t.length,o=hy(e,r);cr(i,o)||(n.uniform1iv(this.addr,o),lr(i,o));for(let s=0;s!==r;++s)e.setTexture2DArray(t[s]||G4,o[s])}class Cme{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function nme(n){switch(n){case 5126:return Npe;case 35664:return Bpe;case 35665:return Upe;case 35666:return Vpe;case 35674:return zpe;case 35675:return Hpe;case 35676:return Gpe;case 5124:case 35670:return jpe;case 35667:case 35671:return Wpe;case 35668:case 35672:return $pe;case 35669:case 35673:return Ype;case 5125:return Xpe;case 36294:return qpe;case 36295:return Zpe;case 36296:return Kpe;case 35678:case 36198:case 36298:case 36306:case 35682:return Qpe;case 35679:case 36299:case 36307:return Jpe;case 35680:case 36300:case 36308:case 36293:return eme;case 36289:case 36303:case 36311:case 36292:return tme}}(e.type)}}class Mme{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function wme(n){switch(n){case 5126:return ime;case 35664:return rme;case 35665:return ome;case 35666:return sme;case 35674:return ame;case 35675:return cme;case 35676:return lme;case 5124:case 35670:return dme;case 35667:case 35671:return ume;case 35668:case 35672:return hme;case 35669:case 35673:return fme;case 5125:return pme;case 36294:return mme;case 36295:return gme;case 36296:return _me;case 35678:case 36198:case 36298:case 36306:case 35682:return bme;case 35679:case 36299:case 36307:return vme;case 35680:case 36300:case 36308:case 36293:return yme;case 36289:case 36303:case 36311:case 36292:return xme}}(e.type)}}class Sme{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const r=this.seq;for(let o=0,s=r.length;o!==s;++o){const a=r[o];a.setValue(t,e[a.id],i)}}}const n1=/(\w+)(\])?(\[|\.)?/g;function K4(n,t){n.seq.push(t),n.map[t.id]=t}function Eme(n,t,e){const i=n.name,r=i.length;for(n1.lastIndex=0;;){const o=n1.exec(i);let a=o[1];const l=o[3];if("]"===o[2]&&(a|=0),void 0===l||"["===l&&n1.lastIndex+2===r){K4(e,void 0===l?new Cme(a,n,t):new Mme(a,n,t));break}{let u=e.map[a];void 0===u&&(u=new Sme(a),K4(e,u)),e=u}}}class fy{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const o=t.getActiveUniform(e,r);Eme(o,t.getUniformLocation(e,o.name),this)}}setValue(t,e,i,r){const o=this.map[e];void 0!==o&&o.setValue(t,i,r)}setOptional(t,e,i){const r=e[i];void 0!==r&&this.setValue(t,i,r)}static upload(t,e,i,r){for(let o=0,s=e.length;o!==s;++o){const a=e[o],c=i[a.id];!1!==c.needsUpdate&&a.setValue(t,c.value,r)}}static seqWithValue(t,e){const i=[];for(let r=0,o=t.length;r!==o;++r){const s=t[r];s.id in e&&i.push(s)}return i}}function Q4(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}const Ame=37297;let Tme=0;function J4(n,t,e){const i=n.getShaderParameter(t,n.COMPILE_STATUS),r=n.getShaderInfoLog(t).trim();if(i&&""===r)return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const s=parseInt(o[1]);return e.toUpperCase()+"\n\n"+r+"\n\n"+function Dme(n,t){const e=n.split("\n"),i=[],r=Math.max(t-6,0),o=Math.min(t+6,e.length);for(let s=r;s<o;s++){const a=s+1;i.push(`${a===t?">":" "} ${a}: ${e[s]}`)}return i.join("\n")}(n.getShaderSource(t),s)}return r}function Pme(n,t){const e=function Ime(n){const t=ni.getPrimaries(ni.workingColorSpace),e=ni.getPrimaries(n);let i;switch(t===e?i="":t===Bv&&e===Nv?i="LinearDisplayP3ToLinearSRGB":t===Nv&&e===Bv&&(i="LinearSRGBToLinearDisplayP3"),n){case $a:case Lv:return[i,"LinearTransferOETF"];case ar:case AE:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}(t);return`vec4 ${n}( vec4 value ) { return ${e[0]}( ${e[1]}( value ) ); }`}function Ome(n,t){let e;switch(t){case cue:e="Linear";break;case lue:e="Reinhard";break;case due:e="OptimizedCineon";break;case uue:e="ACESFilmic";break;case hue:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function xm(n){return""!==n}function eU(n,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function tU(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Fme=/^[ \t]*#include +<([\w\d./]+)>/gm;function r1(n){return n.replace(Fme,Bme)}const Nme=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Bme(n,t){let e=xn[t];if(void 0===e){const i=Nme.get(t);if(void 0===i)throw new Error("Can not resolve #include <"+t+">");e=xn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i)}return r1(e)}const Ume=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function nU(n){return n.replace(Ume,Vme)}function Vme(n,t,e,i){let r="";for(let o=parseInt(t);o<parseInt(e);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function iU(n){let t="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?t+="\n#define HIGH_PRECISION":"mediump"===n.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(t+="\n#define LOW_PRECISION"),t}function $me(n,t,e,i){const r=n.getContext(),o=e.defines;let s=e.vertexShader,a=e.fragmentShader;const c=function zme(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===bB?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===vB?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===za&&(t="SHADOWMAP_TYPE_VSM"),t}(e),l=function Hme(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Vc:case Gl:t="ENVMAP_TYPE_CUBE";break;case dm:t="ENVMAP_TYPE_CUBE_UV"}return t}(e),d=function Gme(n){let t="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===Gl&&(t="ENVMAP_MODE_REFRACTION"),t}(e),u=function jme(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Av:t="ENVMAP_BLENDING_MULTIPLY";break;case sue:t="ENVMAP_BLENDING_MIX";break;case aue:t="ENVMAP_BLENDING_ADD"}return t}(e),h=function Wme(n){const t=n.envMapCubeUVHeight;if(null===t)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:i,maxMip:e}}(e),f=e.isWebGL2?"":function Rme(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(xm).join("\n")}(e),m=function kme(n){const t=[];for(const e in n){const i=n[e];!1!==i&&t.push("#define "+e+" "+i)}return t.join("\n")}(o),v=r.createProgram();let g,b,y=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(g=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,m].filter(xm).join("\n"),g.length>0&&(g+="\n"),b=[f,"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,m].filter(xm).join("\n"),b.length>0&&(b+="\n")):(g=[iU(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,m,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+d:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+c:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(xm).join("\n"),b=[f,iU(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,m,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+l:"",e.envMap?"#define "+d:"",e.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+c:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.useLegacyLights?"#define LEGACY_LIGHTS":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==Uc?"#define TONE_MAPPING":"",e.toneMapping!==Uc?xn.tonemapping_pars_fragment:"",e.toneMapping!==Uc?Ome("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",xn.colorspace_pars_fragment,Pme("linearToOutputTexel",e.outputColorSpace),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(xm).join("\n")),s=r1(s),s=eU(s,e),s=tU(s,e),a=r1(a),a=eU(a,e),a=tU(a,e),s=nU(s),a=nU(a),e.isWebGL2&&!0!==e.isRawShaderMaterial&&(y="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,b=["precision mediump sampler2DArray;","#define varying in",e.glslVersion===a4?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===a4?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b);const E=y+b+a,O=Q4(r,r.VERTEX_SHADER,y+g+s),R=Q4(r,r.FRAGMENT_SHADER,E);function B(ge){if(n.debug.checkShaderErrors){const _e=r.getProgramInfoLog(v).trim(),Be=r.getShaderInfoLog(O).trim(),ee=r.getShaderInfoLog(R).trim();let Me=!0,pe=!0;if(!1===r.getProgramParameter(v,r.LINK_STATUS))if(Me=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,v,O,R);else{const ne=J4(r,O,"vertex"),te=J4(r,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(v,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+_e+"\n"+ne+"\n"+te)}else""!==_e?console.warn("THREE.WebGLProgram: Program Info Log:",_e):(""===Be||""===ee)&&(pe=!1);pe&&(ge.diagnostics={runnable:Me,programLog:_e,vertexShader:{log:Be,prefix:g},fragmentShader:{log:ee,prefix:b}})}r.deleteShader(O),r.deleteShader(R),$=new fy(r,v),N=function Lme(n,t){const e={},i=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const o=n.getActiveAttrib(t,r),s=o.name;let a=1;o.type===n.FLOAT_MAT2&&(a=2),o.type===n.FLOAT_MAT3&&(a=3),o.type===n.FLOAT_MAT4&&(a=4),e[s]={type:o.type,location:n.getAttribLocation(t,s),locationSize:a}}return e}(r,v)}let $,N;r.attachShader(v,O),r.attachShader(v,R),void 0!==e.index0AttributeName?r.bindAttribLocation(v,0,e.index0AttributeName):!0===e.morphTargets&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),this.getUniforms=function(){return void 0===$&&B(this),$},this.getAttributes=function(){return void 0===N&&B(this),N};let H=!1===e.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===H&&(H=r.getProgramParameter(v,Ame)),H},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=Tme++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=O,this.fragmentShader=R,this}let Yme=0;class Xme{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const i=t.fragmentShader,r=this._getShaderStage(t.vertexShader),o=this._getShaderStage(i),s=this._getShaderCacheForMaterial(t);return!1===s.has(r)&&(s.add(r),r.usedTimes++),!1===s.has(o)&&(s.add(o),o.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return void 0===i&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return void 0===i&&(i=new qme(t),e.set(t,i)),i}}class qme{constructor(t){this.id=Yme++,this.code=t,this.usedTimes=0}}function Zme(n,t,e,i,r,o,s){const a=new qv,c=new Xme,l=[],d=r.isWebGL2,u=r.logarithmicDepthBuffer,h=r.vertexTextures;let f=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(N){return 0===N?"uv":`uv${N}`}return{getParameters:function g(N,H,ge,_e,Be){const ee=_e.fog,Me=Be.geometry,ne=(N.isMeshStandardMaterial?e:t).get(N.envMap||(N.isMeshStandardMaterial?_e.environment:null)),te=ne&&ne.mapping===dm?ne.image.height:null,Ce=m[N.type];null!==N.precision&&(f=r.getMaxPrecision(N.precision),f!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",f,"instead."));const Pe=Me.morphAttributes.position||Me.morphAttributes.normal||Me.morphAttributes.color,ue=void 0!==Pe?Pe.length:0;let ce,Q,j,fe,Ue=0;if(void 0!==Me.morphAttributes.position&&(Ue=1),void 0!==Me.morphAttributes.normal&&(Ue=2),void 0!==Me.morphAttributes.color&&(Ue=3),Ce){const er=Co[Ce];ce=er.vertexShader,Q=er.fragmentShader}else ce=N.vertexShader,Q=N.fragmentShader,c.update(N),j=c.getVertexShaderID(N),fe=c.getFragmentShaderID(N);const K=n.getRenderTarget(),Ye=!0===Be.isInstancedMesh,Re=!!N.map,rt=!!ne,q=!!N.aoMap,Oe=!!N.lightMap,de=!!N.bumpMap,Ne=!!N.normalMap,we=!!N.displacementMap,ie=!!N.emissiveMap,Y=!!N.metalnessMap,Qe=!!N.roughnessMap,pt=N.anisotropy>0,Yt=N.clearcoat>0,Gn=N.iridescence>0,Z=N.sheen>0,z=N.transmission>0,Ie=pt&&!!N.anisotropyMap,dt=Yt&&!!N.clearcoatMap,it=Yt&&!!N.clearcoatNormalMap,ut=Yt&&!!N.clearcoatRoughnessMap,Bt=Gn&&!!N.iridescenceMap,gt=Gn&&!!N.iridescenceThicknessMap,St=Z&&!!N.sheenColorMap,se=Z&&!!N.sheenRoughnessMap,_t=!!N.specularMap,nt=!!N.specularColorMap,nn=!!N.specularIntensityMap,Xt=z&&!!N.transmissionMap,Qt=z&&!!N.thicknessMap,Ft=!!N.alphaMap,wt=!!N.extensions,ct=!!Me.attributes.uv1,Ke=!!Me.attributes.uv2,mt=!!Me.attributes.uv3;let Kt=Uc;return N.toneMapped&&(null===K||!0===K.isXRRenderTarget)&&(Kt=n.toneMapping),{isWebGL2:d,shaderID:Ce,shaderType:N.type,shaderName:N.name,vertexShader:ce,fragmentShader:Q,defines:N.defines,customVertexShaderID:j,customFragmentShaderID:fe,isRawShaderMaterial:!0===N.isRawShaderMaterial,glslVersion:N.glslVersion,precision:f,instancing:Ye,instancingColor:Ye&&null!==Be.instanceColor,supportsVertexTextures:h,outputColorSpace:null===K?n.outputColorSpace:!0===K.isXRRenderTarget?K.texture.colorSpace:$a,map:Re,matcap:!!N.matcap,envMap:rt,envMapMode:rt&&ne.mapping,envMapCubeUVHeight:te,aoMap:q,lightMap:Oe,bumpMap:de,normalMap:Ne,displacementMap:h&&we,emissiveMap:ie,normalMapObjectSpace:Ne&&1===N.normalMapType,normalMapTangentSpace:Ne&&0===N.normalMapType,metalnessMap:Y,roughnessMap:Qe,anisotropy:pt,anisotropyMap:Ie,clearcoat:Yt,clearcoatMap:dt,clearcoatNormalMap:it,clearcoatRoughnessMap:ut,iridescence:Gn,iridescenceMap:Bt,iridescenceThicknessMap:gt,sheen:Z,sheenColorMap:St,sheenRoughnessMap:se,specularMap:_t,specularColorMap:nt,specularIntensityMap:nn,transmission:z,transmissionMap:Xt,thicknessMap:Qt,gradientMap:!!N.gradientMap,opaque:!1===N.transparent&&1===N.blending,alphaMap:Ft,alphaTest:N.alphaTest>0,alphaHash:!!N.alphaHash,combine:N.combine,mapUv:Re&&v(N.map.channel),aoMapUv:q&&v(N.aoMap.channel),lightMapUv:Oe&&v(N.lightMap.channel),bumpMapUv:de&&v(N.bumpMap.channel),normalMapUv:Ne&&v(N.normalMap.channel),displacementMapUv:we&&v(N.displacementMap.channel),emissiveMapUv:ie&&v(N.emissiveMap.channel),metalnessMapUv:Y&&v(N.metalnessMap.channel),roughnessMapUv:Qe&&v(N.roughnessMap.channel),anisotropyMapUv:Ie&&v(N.anisotropyMap.channel),clearcoatMapUv:dt&&v(N.clearcoatMap.channel),clearcoatNormalMapUv:it&&v(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ut&&v(N.clearcoatRoughnessMap.channel),iridescenceMapUv:Bt&&v(N.iridescenceMap.channel),iridescenceThicknessMapUv:gt&&v(N.iridescenceThicknessMap.channel),sheenColorMapUv:St&&v(N.sheenColorMap.channel),sheenRoughnessMapUv:se&&v(N.sheenRoughnessMap.channel),specularMapUv:_t&&v(N.specularMap.channel),specularColorMapUv:nt&&v(N.specularColorMap.channel),specularIntensityMapUv:nn&&v(N.specularIntensityMap.channel),transmissionMapUv:Xt&&v(N.transmissionMap.channel),thicknessMapUv:Qt&&v(N.thicknessMap.channel),alphaMapUv:Ft&&v(N.alphaMap.channel),vertexTangents:!!Me.attributes.tangent&&(Ne||pt),vertexColors:N.vertexColors,vertexAlphas:!0===N.vertexColors&&!!Me.attributes.color&&4===Me.attributes.color.itemSize,vertexUv1s:ct,vertexUv2s:Ke,vertexUv3s:mt,pointsUvs:!0===Be.isPoints&&!!Me.attributes.uv&&(Re||Ft),fog:!!ee,useFog:!0===N.fog,fogExp2:ee&&ee.isFogExp2,flatShading:!0===N.flatShading,sizeAttenuation:!0===N.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===Be.isSkinnedMesh,morphTargets:void 0!==Me.morphAttributes.position,morphNormals:void 0!==Me.morphAttributes.normal,morphColors:void 0!==Me.morphAttributes.color,morphTargetsCount:ue,morphTextureStride:Ue,numDirLights:H.directional.length,numPointLights:H.point.length,numSpotLights:H.spot.length,numSpotLightMaps:H.spotLightMap.length,numRectAreaLights:H.rectArea.length,numHemiLights:H.hemi.length,numDirLightShadows:H.directionalShadowMap.length,numPointLightShadows:H.pointShadowMap.length,numSpotLightShadows:H.spotShadowMap.length,numSpotLightShadowsWithMaps:H.numSpotLightShadowsWithMaps,numLightProbes:H.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:N.dithering,shadowMapEnabled:n.shadowMap.enabled&&ge.length>0,shadowMapType:n.shadowMap.type,toneMapping:Kt,useLegacyLights:n._useLegacyLights,decodeVideoTexture:Re&&!0===N.map.isVideoTexture&&ni.getTransfer(N.map.colorSpace)===gi,premultipliedAlpha:N.premultipliedAlpha,doubleSided:2===N.side,flipSided:1===N.side,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionDerivatives:wt&&!0===N.extensions.derivatives,extensionFragDepth:wt&&!0===N.extensions.fragDepth,extensionDrawBuffers:wt&&!0===N.extensions.drawBuffers,extensionShaderTextureLOD:wt&&!0===N.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()}},getProgramCacheKey:function b(N){const H=[];if(N.shaderID?H.push(N.shaderID):(H.push(N.customVertexShaderID),H.push(N.customFragmentShaderID)),void 0!==N.defines)for(const ge in N.defines)H.push(ge),H.push(N.defines[ge]);return!1===N.isRawShaderMaterial&&(function y(N,H){N.push(H.precision),N.push(H.outputColorSpace),N.push(H.envMapMode),N.push(H.envMapCubeUVHeight),N.push(H.mapUv),N.push(H.alphaMapUv),N.push(H.lightMapUv),N.push(H.aoMapUv),N.push(H.bumpMapUv),N.push(H.normalMapUv),N.push(H.displacementMapUv),N.push(H.emissiveMapUv),N.push(H.metalnessMapUv),N.push(H.roughnessMapUv),N.push(H.anisotropyMapUv),N.push(H.clearcoatMapUv),N.push(H.clearcoatNormalMapUv),N.push(H.clearcoatRoughnessMapUv),N.push(H.iridescenceMapUv),N.push(H.iridescenceThicknessMapUv),N.push(H.sheenColorMapUv),N.push(H.sheenRoughnessMapUv),N.push(H.specularMapUv),N.push(H.specularColorMapUv),N.push(H.specularIntensityMapUv),N.push(H.transmissionMapUv),N.push(H.thicknessMapUv),N.push(H.combine),N.push(H.fogExp2),N.push(H.sizeAttenuation),N.push(H.morphTargetsCount),N.push(H.morphAttributeCount),N.push(H.numDirLights),N.push(H.numPointLights),N.push(H.numSpotLights),N.push(H.numSpotLightMaps),N.push(H.numHemiLights),N.push(H.numRectAreaLights),N.push(H.numDirLightShadows),N.push(H.numPointLightShadows),N.push(H.numSpotLightShadows),N.push(H.numSpotLightShadowsWithMaps),N.push(H.numLightProbes),N.push(H.shadowMapType),N.push(H.toneMapping),N.push(H.numClippingPlanes),N.push(H.numClipIntersection),N.push(H.depthPacking)}(H,N),function x(N,H){a.disableAll(),H.isWebGL2&&a.enable(0),H.supportsVertexTextures&&a.enable(1),H.instancing&&a.enable(2),H.instancingColor&&a.enable(3),H.matcap&&a.enable(4),H.envMap&&a.enable(5),H.normalMapObjectSpace&&a.enable(6),H.normalMapTangentSpace&&a.enable(7),H.clearcoat&&a.enable(8),H.iridescence&&a.enable(9),H.alphaTest&&a.enable(10),H.vertexColors&&a.enable(11),H.vertexAlphas&&a.enable(12),H.vertexUv1s&&a.enable(13),H.vertexUv2s&&a.enable(14),H.vertexUv3s&&a.enable(15),H.vertexTangents&&a.enable(16),H.anisotropy&&a.enable(17),H.alphaHash&&a.enable(18),N.push(a.mask),a.disableAll(),H.fog&&a.enable(0),H.useFog&&a.enable(1),H.flatShading&&a.enable(2),H.logarithmicDepthBuffer&&a.enable(3),H.skinning&&a.enable(4),H.morphTargets&&a.enable(5),H.morphNormals&&a.enable(6),H.morphColors&&a.enable(7),H.premultipliedAlpha&&a.enable(8),H.shadowMapEnabled&&a.enable(9),H.useLegacyLights&&a.enable(10),H.doubleSided&&a.enable(11),H.flipSided&&a.enable(12),H.useDepthPacking&&a.enable(13),H.dithering&&a.enable(14),H.transmission&&a.enable(15),H.sheen&&a.enable(16),H.opaque&&a.enable(17),H.pointsUvs&&a.enable(18),H.decodeVideoTexture&&a.enable(19),N.push(a.mask)}(H,N),H.push(n.outputColorSpace)),H.push(N.customProgramCacheKey),H.join()},getUniforms:function E(N){const H=m[N.type];let ge;return ge=H?Mh.clone(Co[H].uniforms):N.uniforms,ge},acquireProgram:function O(N,H){let ge;for(let _e=0,Be=l.length;_e<Be;_e++){const ee=l[_e];if(ee.cacheKey===H){ge=ee,++ge.usedTimes;break}}return void 0===ge&&(ge=new $me(n,H,N,o),l.push(ge)),ge},releaseProgram:function R(N){if(0==--N.usedTimes){const H=l.indexOf(N);l[H]=l[l.length-1],l.pop(),N.destroy()}},releaseShaderCache:function B(N){c.remove(N)},programs:l,dispose:function $(){c.dispose()}}}function Kme(){let n=new WeakMap;return{get:function t(o){let s=n.get(o);return void 0===s&&(s={},n.set(o,s)),s},remove:function e(o){n.delete(o)},update:function i(o,s,a){n.get(o)[s]=a},dispose:function r(){n=new WeakMap}}}function Qme(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function rU(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function oU(){const n=[];let t=0;const e=[],i=[],r=[];function s(u,h,f,m,v,g){let b=n[t];return void 0===b?(b={id:u.id,object:u,geometry:h,material:f,groupOrder:m,renderOrder:u.renderOrder,z:v,group:g},n[t]=b):(b.id=u.id,b.object=u,b.geometry=h,b.material=f,b.groupOrder=m,b.renderOrder=u.renderOrder,b.z=v,b.group=g),t++,b}return{opaque:e,transmissive:i,transparent:r,init:function o(){t=0,e.length=0,i.length=0,r.length=0},push:function a(u,h,f,m,v,g){const b=s(u,h,f,m,v,g);f.transmission>0?i.push(b):!0===f.transparent?r.push(b):e.push(b)},unshift:function c(u,h,f,m,v,g){const b=s(u,h,f,m,v,g);f.transmission>0?i.unshift(b):!0===f.transparent?r.unshift(b):e.unshift(b)},finish:function d(){for(let u=t,h=n.length;u<h;u++){const f=n[u];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function l(u,h){e.length>1&&e.sort(u||Qme),i.length>1&&i.sort(h||rU),r.length>1&&r.sort(h||rU)}}}function Jme(){let n=new WeakMap;return{get:function t(i,r){const o=n.get(i);let s;return void 0===o?(s=new oU,n.set(i,[s])):r>=o.length?(s=new oU,o.push(s)):s=o[r],s},dispose:function e(){n=new WeakMap}}}function ege(){const n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new G,color:new xt};break;case"SpotLight":e={position:new G,direction:new G,color:new xt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new G,color:new xt,distance:0,decay:0};break;case"HemisphereLight":e={direction:new G,skyColor:new xt,groundColor:new xt};break;case"RectAreaLight":e={color:new xt,position:new G,halfWidth:new G,halfHeight:new G}}return n[t.id]=e,e}}}let nge=0;function ige(n,t){return(t.castShadow?2:0)-(n.castShadow?2:0)+(t.map?1:0)-(n.map?1:0)}function rge(n,t){const e=new ege,i=function tge(){const n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];let e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ee,shadowCameraNear:1,shadowCameraFar:1e3}}return n[t.id]=e,e}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)r.probe.push(new G);const o=new G,s=new pn,a=new pn;return{setup:function c(d,u){let h=0,f=0,m=0;for(let _e=0;_e<9;_e++)r.probe[_e].set(0,0,0);let v=0,g=0,b=0,y=0,x=0,E=0,O=0,R=0,B=0,$=0,N=0;d.sort(ige);const H=!0===u?Math.PI:1;for(let _e=0,Be=d.length;_e<Be;_e++){const ee=d[_e],Me=ee.color,pe=ee.intensity,ne=ee.distance,te=ee.shadow&&ee.shadow.map?ee.shadow.map.texture:null;if(ee.isAmbientLight)h+=Me.r*pe*H,f+=Me.g*pe*H,m+=Me.b*pe*H;else if(ee.isLightProbe){for(let Ce=0;Ce<9;Ce++)r.probe[Ce].addScaledVector(ee.sh.coefficients[Ce],pe);N++}else if(ee.isDirectionalLight){const Ce=e.get(ee);if(Ce.color.copy(ee.color).multiplyScalar(ee.intensity*H),ee.castShadow){const Pe=ee.shadow,ue=i.get(ee);ue.shadowBias=Pe.bias,ue.shadowNormalBias=Pe.normalBias,ue.shadowRadius=Pe.radius,ue.shadowMapSize=Pe.mapSize,r.directionalShadow[v]=ue,r.directionalShadowMap[v]=te,r.directionalShadowMatrix[v]=ee.shadow.matrix,E++}r.directional[v]=Ce,v++}else if(ee.isSpotLight){const Ce=e.get(ee);Ce.position.setFromMatrixPosition(ee.matrixWorld),Ce.color.copy(Me).multiplyScalar(pe*H),Ce.distance=ne,Ce.coneCos=Math.cos(ee.angle),Ce.penumbraCos=Math.cos(ee.angle*(1-ee.penumbra)),Ce.decay=ee.decay,r.spot[b]=Ce;const Pe=ee.shadow;if(ee.map&&(r.spotLightMap[B]=ee.map,B++,Pe.updateMatrices(ee),ee.castShadow&&$++),r.spotLightMatrix[b]=Pe.matrix,ee.castShadow){const ue=i.get(ee);ue.shadowBias=Pe.bias,ue.shadowNormalBias=Pe.normalBias,ue.shadowRadius=Pe.radius,ue.shadowMapSize=Pe.mapSize,r.spotShadow[b]=ue,r.spotShadowMap[b]=te,R++}b++}else if(ee.isRectAreaLight){const Ce=e.get(ee);Ce.color.copy(Me).multiplyScalar(pe),Ce.halfWidth.set(.5*ee.width,0,0),Ce.halfHeight.set(0,.5*ee.height,0),r.rectArea[y]=Ce,y++}else if(ee.isPointLight){const Ce=e.get(ee);if(Ce.color.copy(ee.color).multiplyScalar(ee.intensity*H),Ce.distance=ee.distance,Ce.decay=ee.decay,ee.castShadow){const Pe=ee.shadow,ue=i.get(ee);ue.shadowBias=Pe.bias,ue.shadowNormalBias=Pe.normalBias,ue.shadowRadius=Pe.radius,ue.shadowMapSize=Pe.mapSize,ue.shadowCameraNear=Pe.camera.near,ue.shadowCameraFar=Pe.camera.far,r.pointShadow[g]=ue,r.pointShadowMap[g]=te,r.pointShadowMatrix[g]=ee.shadow.matrix,O++}r.point[g]=Ce,g++}else if(ee.isHemisphereLight){const Ce=e.get(ee);Ce.skyColor.copy(ee.color).multiplyScalar(pe*H),Ce.groundColor.copy(ee.groundColor).multiplyScalar(pe*H),r.hemi[x]=Ce,x++}}y>0&&(t.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=yt.LTC_FLOAT_1,r.rectAreaLTC2=yt.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=yt.LTC_HALF_1,r.rectAreaLTC2=yt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=f,r.ambient[2]=m;const ge=r.hash;(ge.directionalLength!==v||ge.pointLength!==g||ge.spotLength!==b||ge.rectAreaLength!==y||ge.hemiLength!==x||ge.numDirectionalShadows!==E||ge.numPointShadows!==O||ge.numSpotShadows!==R||ge.numSpotMaps!==B||ge.numLightProbes!==N)&&(r.directional.length=v,r.spot.length=b,r.rectArea.length=y,r.point.length=g,r.hemi.length=x,r.directionalShadow.length=E,r.directionalShadowMap.length=E,r.pointShadow.length=O,r.pointShadowMap.length=O,r.spotShadow.length=R,r.spotShadowMap.length=R,r.directionalShadowMatrix.length=E,r.pointShadowMatrix.length=O,r.spotLightMatrix.length=R+B-$,r.spotLightMap.length=B,r.numSpotLightShadowsWithMaps=$,r.numLightProbes=N,ge.directionalLength=v,ge.pointLength=g,ge.spotLength=b,ge.rectAreaLength=y,ge.hemiLength=x,ge.numDirectionalShadows=E,ge.numPointShadows=O,ge.numSpotShadows=R,ge.numSpotMaps=B,ge.numLightProbes=N,r.version=nge++)},setupView:function l(d,u){let h=0,f=0,m=0,v=0,g=0;const b=u.matrixWorldInverse;for(let y=0,x=d.length;y<x;y++){const E=d[y];if(E.isDirectionalLight){const O=r.directional[h];O.direction.setFromMatrixPosition(E.matrixWorld),o.setFromMatrixPosition(E.target.matrixWorld),O.direction.sub(o),O.direction.transformDirection(b),h++}else if(E.isSpotLight){const O=r.spot[m];O.position.setFromMatrixPosition(E.matrixWorld),O.position.applyMatrix4(b),O.direction.setFromMatrixPosition(E.matrixWorld),o.setFromMatrixPosition(E.target.matrixWorld),O.direction.sub(o),O.direction.transformDirection(b),m++}else if(E.isRectAreaLight){const O=r.rectArea[v];O.position.setFromMatrixPosition(E.matrixWorld),O.position.applyMatrix4(b),a.identity(),s.copy(E.matrixWorld),s.premultiply(b),a.extractRotation(s),O.halfWidth.set(.5*E.width,0,0),O.halfHeight.set(0,.5*E.height,0),O.halfWidth.applyMatrix4(a),O.halfHeight.applyMatrix4(a),v++}else if(E.isPointLight){const O=r.point[f];O.position.setFromMatrixPosition(E.matrixWorld),O.position.applyMatrix4(b),f++}else if(E.isHemisphereLight){const O=r.hemi[g];O.direction.setFromMatrixPosition(E.matrixWorld),O.direction.transformDirection(b),g++}}},state:r}}function sU(n,t){const e=new rge(n,t),i=[],r=[];return{init:function o(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:e},setupLights:function c(u){e.setup(i,u)},setupLightsView:function l(u){e.setupView(i,u)},pushLight:function s(u){i.push(u)},pushShadow:function a(u){r.push(u)}}}function oge(n,t){let e=new WeakMap;return{get:function i(o,s=0){const a=e.get(o);let c;return void 0===a?(c=new sU(n,t),e.set(o,[c])):s>=a.length?(c=new sU(n,t),a.push(c)):c=a[s],c},dispose:function r(){e=new WeakMap}}}class aU extends ks{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class cU extends ks{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function cge(n,t,e){let i=new ZE;const r=new Ee,o=new Ee,s=new Hn,a=new aU({depthPacking:3201}),c=new cU,l={},d=e.maxTextureSize,u={0:1,1:0,2:2},h=new zr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ee},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const m=new gn;m.setAttribute("position",new mr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new ei(m,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=bB;let b=this.type;function y(O,R){const B=t.update(v);h.defines.VSM_SAMPLES!==O.blurSamples&&(h.defines.VSM_SAMPLES=O.blurSamples,f.defines.VSM_SAMPLES=O.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===O.mapPass&&(O.mapPass=new Is(r.x,r.y)),h.uniforms.shadow_pass.value=O.map.texture,h.uniforms.resolution.value=O.mapSize,h.uniforms.radius.value=O.radius,n.setRenderTarget(O.mapPass),n.clear(),n.renderBufferDirect(R,null,B,h,v,null),f.uniforms.shadow_pass.value=O.mapPass.texture,f.uniforms.resolution.value=O.mapSize,f.uniforms.radius.value=O.radius,n.setRenderTarget(O.map),n.clear(),n.renderBufferDirect(R,null,B,f,v,null)}function x(O,R,B,$){let N=null;const H=!0===B.isPointLight?O.customDistanceMaterial:O.customDepthMaterial;if(void 0!==H)N=H;else if(N=!0===B.isPointLight?c:a,n.localClippingEnabled&&!0===R.clipShadows&&Array.isArray(R.clippingPlanes)&&0!==R.clippingPlanes.length||R.displacementMap&&0!==R.displacementScale||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const ge=N.uuid,_e=R.uuid;let Be=l[ge];void 0===Be&&(Be={},l[ge]=Be);let ee=Be[_e];void 0===ee&&(ee=N.clone(),Be[_e]=ee),N=ee}return N.visible=R.visible,N.wireframe=R.wireframe,N.side=$===za?null!==R.shadowSide?R.shadowSide:R.side:null!==R.shadowSide?R.shadowSide:u[R.side],N.alphaMap=R.alphaMap,N.alphaTest=R.alphaTest,N.map=R.map,N.clipShadows=R.clipShadows,N.clippingPlanes=R.clippingPlanes,N.clipIntersection=R.clipIntersection,N.displacementMap=R.displacementMap,N.displacementScale=R.displacementScale,N.displacementBias=R.displacementBias,N.wireframeLinewidth=R.wireframeLinewidth,N.linewidth=R.linewidth,!0===B.isPointLight&&!0===N.isMeshDistanceMaterial&&(n.properties.get(N).light=B),N}function E(O,R,B,$,N){if(!1===O.visible)return;if(O.layers.test(R.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&N===za)&&(!O.frustumCulled||i.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(B.matrixWorldInverse,O.matrixWorld);const _e=t.update(O),Be=O.material;if(Array.isArray(Be)){const ee=_e.groups;for(let Me=0,pe=ee.length;Me<pe;Me++){const ne=ee[Me],te=Be[ne.materialIndex];if(te&&te.visible){const Ce=x(O,te,$,N);n.renderBufferDirect(B,null,_e,Ce,O,ne)}}}else if(Be.visible){const ee=x(O,Be,$,N);n.renderBufferDirect(B,null,_e,ee,O,null)}}const ge=O.children;for(let _e=0,Be=ge.length;_e<Be;_e++)E(ge[_e],R,B,$,N)}this.render=function(O,R,B){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===O.length)return;const $=n.getRenderTarget(),N=n.getActiveCubeFace(),H=n.getActiveMipmapLevel(),ge=n.state;ge.setBlending(0),ge.buffers.color.setClear(1,1,1,1),ge.buffers.depth.setTest(!0),ge.setScissorTest(!1);const _e=b!==za&&this.type===za,Be=b===za&&this.type!==za;for(let ee=0,Me=O.length;ee<Me;ee++){const pe=O[ee],ne=pe.shadow;if(void 0===ne){console.warn("THREE.WebGLShadowMap:",pe,"has no shadow.");continue}if(!1===ne.autoUpdate&&!1===ne.needsUpdate)continue;r.copy(ne.mapSize);const te=ne.getFrameExtents();if(r.multiply(te),o.copy(ne.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(o.x=Math.floor(d/te.x),r.x=o.x*te.x,ne.mapSize.x=o.x),r.y>d&&(o.y=Math.floor(d/te.y),r.y=o.y*te.y,ne.mapSize.y=o.y)),null===ne.map||!0===_e||!0===Be){const Pe=this.type!==za?{minFilter:Zi,magFilter:Zi}:{};null!==ne.map&&ne.map.dispose(),ne.map=new Is(r.x,r.y,Pe),ne.map.texture.name=pe.name+".shadowMap",ne.camera.updateProjectionMatrix()}n.setRenderTarget(ne.map),n.clear();const Ce=ne.getViewportCount();for(let Pe=0;Pe<Ce;Pe++){const ue=ne.getViewport(Pe);s.set(o.x*ue.x,o.y*ue.y,o.x*ue.z,o.y*ue.w),ge.viewport(s),ne.updateMatrices(pe,Pe),i=ne.getFrustum(),E(R,B,ne.camera,pe,this.type)}!0!==ne.isPointLightShadow&&this.type===za&&y(ne,B),ne.needsUpdate=!1}b=this.type,g.needsUpdate=!1,n.setRenderTarget($,N,H)}}function lge(n,t,e){const i=e.isWebGL2,a=new function r(){let be=!1;const wt=new Hn;let ct=null;const Ke=new Hn(0,0,0,0);return{setMask:function(mt){ct!==mt&&!be&&(n.colorMask(mt,mt,mt,mt),ct=mt)},setLocked:function(mt){be=mt},setClear:function(mt,Kt,On,er,ms){!0===ms&&(mt*=er,Kt*=er,On*=er),wt.set(mt,Kt,On,er),!1===Ke.equals(wt)&&(n.clearColor(mt,Kt,On,er),Ke.copy(wt))},reset:function(){be=!1,ct=null,Ke.set(-1,0,0,0)}}},c=new function o(){let be=!1,wt=null,ct=null,Ke=null;return{setTest:function(mt){mt?Re(n.DEPTH_TEST):bt(n.DEPTH_TEST)},setMask:function(mt){wt!==mt&&!be&&(n.depthMask(mt),wt=mt)},setFunc:function(mt){if(ct!==mt){switch(mt){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}ct=mt}},setLocked:function(mt){be=mt},setClear:function(mt){Ke!==mt&&(n.clearDepth(mt),Ke=mt)},reset:function(){be=!1,wt=null,ct=null,Ke=null}}},l=new function s(){let be=!1,wt=null,ct=null,Ke=null,mt=null,Kt=null,On=null,er=null,ms=null;return{setTest:function(fi){be||(fi?Re(n.STENCIL_TEST):bt(n.STENCIL_TEST))},setMask:function(fi){wt!==fi&&!be&&(n.stencilMask(fi),wt=fi)},setFunc:function(fi,co,pa){(ct!==fi||Ke!==co||mt!==pa)&&(n.stencilFunc(fi,co,pa),ct=fi,Ke=co,mt=pa)},setOp:function(fi,co,pa){(Kt!==fi||On!==co||er!==pa)&&(n.stencilOp(fi,co,pa),Kt=fi,On=co,er=pa)},setLocked:function(fi){be=fi},setClear:function(fi){ms!==fi&&(n.clearStencil(fi),ms=fi)},reset:function(){be=!1,wt=null,ct=null,Ke=null,mt=null,Kt=null,On=null,er=null,ms=null}}},d=new WeakMap,u=new WeakMap;let h={},f={},m=new WeakMap,v=[],g=null,b=!1,y=null,x=null,E=null,O=null,R=null,B=null,$=null,N=new xt(0,0,0),H=0,ge=!1,_e=null,Be=null,ee=null,Me=null,pe=null;const ne=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let te=!1,Ce=0;const Pe=n.getParameter(n.VERSION);-1!==Pe.indexOf("WebGL")?(Ce=parseFloat(/^WebGL (\d)/.exec(Pe)[1]),te=Ce>=1):-1!==Pe.indexOf("OpenGL ES")&&(Ce=parseFloat(/^OpenGL ES (\d)/.exec(Pe)[1]),te=Ce>=2);let ue=null,Ue={};const ce=n.getParameter(n.SCISSOR_BOX),Q=n.getParameter(n.VIEWPORT),j=(new Hn).fromArray(ce),fe=(new Hn).fromArray(Q);function K(be,wt,ct,Ke){const mt=new Uint8Array(4),Kt=n.createTexture();n.bindTexture(be,Kt),n.texParameteri(be,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(be,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let On=0;On<ct;On++)!i||be!==n.TEXTURE_3D&&be!==n.TEXTURE_2D_ARRAY?n.texImage2D(wt+On,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,mt):n.texImage3D(wt,0,n.RGBA,1,1,Ke,0,n.RGBA,n.UNSIGNED_BYTE,mt);return Kt}const Ye={};function Re(be){!0!==h[be]&&(n.enable(be),h[be]=!0)}function bt(be){!1!==h[be]&&(n.disable(be),h[be]=!1)}Ye[n.TEXTURE_2D]=K(n.TEXTURE_2D,n.TEXTURE_2D,1),Ye[n.TEXTURE_CUBE_MAP]=K(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Ye[n.TEXTURE_2D_ARRAY]=K(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ye[n.TEXTURE_3D]=K(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),c.setClear(1),l.setClear(0),Re(n.DEPTH_TEST),c.setFunc(3),Y(!1),Qe(1),Re(n.CULL_FACE),we(0);const de={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};if(i)de[103]=n.MIN,de[104]=n.MAX;else{const be=t.get("EXT_blend_minmax");null!==be&&(de[103]=be.MIN_EXT,de[104]=be.MAX_EXT)}const Ne={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA,211:n.CONSTANT_COLOR,212:n.ONE_MINUS_CONSTANT_COLOR,213:n.CONSTANT_ALPHA,214:n.ONE_MINUS_CONSTANT_ALPHA};function we(be,wt,ct,Ke,mt,Kt,On,er,ms,fi){if(0!==be){if(!1===b&&(Re(n.BLEND),b=!0),5===be)mt=mt||wt,Kt=Kt||ct,On=On||Ke,(wt!==x||mt!==R)&&(n.blendEquationSeparate(de[wt],de[mt]),x=wt,R=mt),(ct!==E||Ke!==O||Kt!==B||On!==$)&&(n.blendFuncSeparate(Ne[ct],Ne[Ke],Ne[Kt],Ne[On]),E=ct,O=Ke,B=Kt,$=On),(!1===er.equals(N)||ms!==H)&&(n.blendColor(er.r,er.g,er.b,ms),N.copy(er),H=ms),y=be,ge=!1;else if(be!==y||fi!==ge){if((100!==x||100!==R)&&(n.blendEquation(n.FUNC_ADD),x=100,R=100),fi)switch(be){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",be)}else switch(be){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",be)}E=null,O=null,B=null,$=null,N.set(0,0,0),H=0,y=be,ge=fi}}else!0===b&&(bt(n.BLEND),b=!1)}function Y(be){_e!==be&&(n.frontFace(be?n.CW:n.CCW),_e=be)}function Qe(be){0!==be?(Re(n.CULL_FACE),be!==Be&&n.cullFace(1===be?n.BACK:2===be?n.FRONT:n.FRONT_AND_BACK)):bt(n.CULL_FACE),Be=be}function Yt(be,wt,ct){be?(Re(n.POLYGON_OFFSET_FILL),(Me!==wt||pe!==ct)&&(n.polygonOffset(wt,ct),Me=wt,pe=ct)):bt(n.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:c,stencil:l},enable:Re,disable:bt,bindFramebuffer:function rt(be,wt){return f[be]!==wt&&(n.bindFramebuffer(be,wt),f[be]=wt,i&&(be===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=wt),be===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=wt)),!0)},drawBuffers:function q(be,wt){let ct=v,Ke=!1;if(be)if(ct=m.get(wt),void 0===ct&&(ct=[],m.set(wt,ct)),be.isWebGLMultipleRenderTargets){const mt=be.texture;if(ct.length!==mt.length||ct[0]!==n.COLOR_ATTACHMENT0){for(let Kt=0,On=mt.length;Kt<On;Kt++)ct[Kt]=n.COLOR_ATTACHMENT0+Kt;ct.length=mt.length,Ke=!0}}else ct[0]!==n.COLOR_ATTACHMENT0&&(ct[0]=n.COLOR_ATTACHMENT0,Ke=!0);else ct[0]!==n.BACK&&(ct[0]=n.BACK,Ke=!0);Ke&&(e.isWebGL2?n.drawBuffers(ct):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(ct))},useProgram:function Oe(be){return g!==be&&(n.useProgram(be),g=be,!0)},setBlending:we,setMaterial:function ie(be,wt){2===be.side?bt(n.CULL_FACE):Re(n.CULL_FACE);let ct=1===be.side;wt&&(ct=!ct),Y(ct),1===be.blending&&!1===be.transparent?we(0):we(be.blending,be.blendEquation,be.blendSrc,be.blendDst,be.blendEquationAlpha,be.blendSrcAlpha,be.blendDstAlpha,be.blendColor,be.blendAlpha,be.premultipliedAlpha),c.setFunc(be.depthFunc),c.setTest(be.depthTest),c.setMask(be.depthWrite),a.setMask(be.colorWrite);const Ke=be.stencilWrite;l.setTest(Ke),Ke&&(l.setMask(be.stencilWriteMask),l.setFunc(be.stencilFunc,be.stencilRef,be.stencilFuncMask),l.setOp(be.stencilFail,be.stencilZFail,be.stencilZPass)),Yt(be.polygonOffset,be.polygonOffsetFactor,be.polygonOffsetUnits),!0===be.alphaToCoverage?Re(n.SAMPLE_ALPHA_TO_COVERAGE):bt(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Y,setCullFace:Qe,setLineWidth:function pt(be){be!==ee&&(te&&n.lineWidth(be),ee=be)},setPolygonOffset:Yt,setScissorTest:function Gn(be){be?Re(n.SCISSOR_TEST):bt(n.SCISSOR_TEST)},activeTexture:function Z(be){void 0===be&&(be=n.TEXTURE0+ne-1),ue!==be&&(n.activeTexture(be),ue=be)},bindTexture:function z(be,wt,ct){void 0===ct&&(ct=null===ue?n.TEXTURE0+ne-1:ue);let Ke=Ue[ct];void 0===Ke&&(Ke={type:void 0,texture:void 0},Ue[ct]=Ke),(Ke.type!==be||Ke.texture!==wt)&&(ue!==ct&&(n.activeTexture(ct),ue=ct),n.bindTexture(be,wt||Ye[be]),Ke.type=be,Ke.texture=wt)},unbindTexture:function Ie(){const be=Ue[ue];void 0!==be&&void 0!==be.type&&(n.bindTexture(be.type,null),be.type=void 0,be.texture=void 0)},compressedTexImage2D:function dt(){try{n.compressedTexImage2D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}},compressedTexImage3D:function it(){try{n.compressedTexImage3D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}},texImage2D:function nt(){try{n.texImage2D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}},texImage3D:function nn(){try{n.texImage3D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}},updateUBOMapping:function jt(be,wt){let ct=u.get(wt);void 0===ct&&(ct=new WeakMap,u.set(wt,ct));let Ke=ct.get(be);void 0===Ke&&(Ke=n.getUniformBlockIndex(wt,be.name),ct.set(be,Ke))},uniformBlockBinding:function Ft(be,wt){const Ke=u.get(wt).get(be);d.get(wt)!==Ke&&(n.uniformBlockBinding(wt,Ke,be.__bindingPointIndex),d.set(wt,Ke))},texStorage2D:function se(){try{n.texStorage2D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}},texStorage3D:function _t(){try{n.texStorage3D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}},texSubImage2D:function ut(){try{n.texSubImage2D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}},texSubImage3D:function Bt(){try{n.texSubImage3D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}},compressedTexSubImage2D:function gt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}},compressedTexSubImage3D:function St(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(be){console.error("THREE.WebGLState:",be)}},scissor:function Xt(be){!1===j.equals(be)&&(n.scissor(be.x,be.y,be.z,be.w),j.copy(be))},viewport:function Qt(be){!1===fe.equals(be)&&(n.viewport(be.x,be.y,be.z,be.w),fe.copy(be))},reset:function Pn(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),!0===i&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},ue=null,Ue={},f={},m=new WeakMap,v=[],g=null,b=!1,y=null,x=null,E=null,O=null,R=null,B=null,$=null,N=new xt(0,0,0),H=0,ge=!1,_e=null,Be=null,ee=null,Me=null,pe=null,j.set(0,0,n.canvas.width,n.canvas.height),fe.set(0,0,n.canvas.width,n.canvas.height),a.reset(),c.reset(),l.reset()}}}function dge(n,t,e,i,r,o,s){const a=r.isWebGL2,c=r.maxTextures,l=r.maxCubemapSize,d=r.maxTextureSize,u=r.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap;let v;const g=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function y(Z,z){return b?new OffscreenCanvas(Z,z):fm("canvas")}function x(Z,z,Ie,dt){let it=1;if((Z.width>dt||Z.height>dt)&&(it=dt/Math.max(Z.width,Z.height)),it<1||!0===z){if(typeof HTMLImageElement<"u"&&Z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Z instanceof ImageBitmap){const ut=z?zv:Math.floor,Bt=ut(it*Z.width),gt=ut(it*Z.height);void 0===v&&(v=y(Bt,gt));const St=Ie?y(Bt,gt):v;return St.width=Bt,St.height=gt,St.getContext("2d").drawImage(Z,0,0,Bt,gt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Z.width+"x"+Z.height+") to ("+Bt+"x"+gt+")."),St}return"data"in Z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Z.width+"x"+Z.height+")."),Z}return Z}function E(Z){return IE(Z.width)&&IE(Z.height)}function R(Z,z){return Z.generateMipmaps&&z&&Z.minFilter!==Zi&&Z.minFilter!==Ki}function B(Z){n.generateMipmap(Z)}function $(Z,z,Ie,dt,it=!1){if(!1===a)return z;if(null!==Z){if(void 0!==n[Z])return n[Z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Z+"'")}let ut=z;if(z===n.RED&&(Ie===n.FLOAT&&(ut=n.R32F),Ie===n.HALF_FLOAT&&(ut=n.R16F),Ie===n.UNSIGNED_BYTE&&(ut=n.R8)),z===n.RED_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(ut=n.R8UI),Ie===n.UNSIGNED_SHORT&&(ut=n.R16UI),Ie===n.UNSIGNED_INT&&(ut=n.R32UI),Ie===n.BYTE&&(ut=n.R8I),Ie===n.SHORT&&(ut=n.R16I),Ie===n.INT&&(ut=n.R32I)),z===n.RG&&(Ie===n.FLOAT&&(ut=n.RG32F),Ie===n.HALF_FLOAT&&(ut=n.RG16F),Ie===n.UNSIGNED_BYTE&&(ut=n.RG8)),z===n.RGBA){const Bt=it?Fv:ni.getTransfer(dt);Ie===n.FLOAT&&(ut=n.RGBA32F),Ie===n.HALF_FLOAT&&(ut=n.RGBA16F),Ie===n.UNSIGNED_BYTE&&(ut=Bt===gi?n.SRGB8_ALPHA8:n.RGBA8),Ie===n.UNSIGNED_SHORT_4_4_4_4&&(ut=n.RGBA4),Ie===n.UNSIGNED_SHORT_5_5_5_1&&(ut=n.RGB5_A1)}return(ut===n.R16F||ut===n.R32F||ut===n.RG16F||ut===n.RG32F||ut===n.RGBA16F||ut===n.RGBA32F)&&t.get("EXT_color_buffer_float"),ut}function N(Z,z,Ie){return!0===R(Z,Ie)||Z.isFramebufferTexture&&Z.minFilter!==Zi&&Z.minFilter!==Ki?Math.log2(Math.max(z.width,z.height))+1:void 0!==Z.mipmaps&&Z.mipmaps.length>0?Z.mipmaps.length:Z.isCompressedTexture&&Array.isArray(Z.image)?z.mipmaps.length:1}function H(Z){return Z===Zi||1004===Z||1005===Z?n.NEAREST:n.LINEAR}function ge(Z){const z=Z.target;z.removeEventListener("dispose",ge),function Be(Z){const z=i.get(Z);if(void 0===z.__webglInit)return;const Ie=Z.source,dt=g.get(Ie);if(dt){const it=dt[z.__cacheKey];it.usedTimes--,0===it.usedTimes&&ee(Z),0===Object.keys(dt).length&&g.delete(Ie)}i.remove(Z)}(z),z.isVideoTexture&&m.delete(z)}function _e(Z){const z=Z.target;z.removeEventListener("dispose",_e),function Me(Z){const z=Z.texture,Ie=i.get(Z),dt=i.get(z);if(void 0!==dt.__webglTexture&&(n.deleteTexture(dt.__webglTexture),s.memory.textures--),Z.depthTexture&&Z.depthTexture.dispose(),Z.isWebGLCubeRenderTarget)for(let it=0;it<6;it++){if(Array.isArray(Ie.__webglFramebuffer[it]))for(let ut=0;ut<Ie.__webglFramebuffer[it].length;ut++)n.deleteFramebuffer(Ie.__webglFramebuffer[it][ut]);else n.deleteFramebuffer(Ie.__webglFramebuffer[it]);Ie.__webglDepthbuffer&&n.deleteRenderbuffer(Ie.__webglDepthbuffer[it])}else{if(Array.isArray(Ie.__webglFramebuffer))for(let it=0;it<Ie.__webglFramebuffer.length;it++)n.deleteFramebuffer(Ie.__webglFramebuffer[it]);else n.deleteFramebuffer(Ie.__webglFramebuffer);if(Ie.__webglDepthbuffer&&n.deleteRenderbuffer(Ie.__webglDepthbuffer),Ie.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Ie.__webglMultisampledFramebuffer),Ie.__webglColorRenderbuffer)for(let it=0;it<Ie.__webglColorRenderbuffer.length;it++)Ie.__webglColorRenderbuffer[it]&&n.deleteRenderbuffer(Ie.__webglColorRenderbuffer[it]);Ie.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Ie.__webglDepthRenderbuffer)}if(Z.isWebGLMultipleRenderTargets)for(let it=0,ut=z.length;it<ut;it++){const Bt=i.get(z[it]);Bt.__webglTexture&&(n.deleteTexture(Bt.__webglTexture),s.memory.textures--),i.remove(z[it])}i.remove(z),i.remove(Z)}(z)}function ee(Z){const z=i.get(Z);n.deleteTexture(z.__webglTexture),delete g.get(Z.source)[z.__cacheKey],s.memory.textures--}let pe=0;function Pe(Z,z){const Ie=i.get(Z);if(Z.isVideoTexture&&function Yt(Z){const z=s.render.frame;m.get(Z)!==z&&(m.set(Z,z),Z.update())}(Z),!1===Z.isRenderTargetTexture&&Z.version>0&&Ie.__version!==Z.version){const dt=Z.image;if(null===dt)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==dt.complete)return void Re(Ie,Z,z);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}e.bindTexture(n.TEXTURE_2D,Ie.__webglTexture,n.TEXTURE0+z)}const Q={1e3:n.REPEAT,[no]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},j={[Zi]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[Ki]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[jl]:n.LINEAR_MIPMAP_LINEAR},fe={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function K(Z,z,Ie){if(Ie?(n.texParameteri(Z,n.TEXTURE_WRAP_S,Q[z.wrapS]),n.texParameteri(Z,n.TEXTURE_WRAP_T,Q[z.wrapT]),(Z===n.TEXTURE_3D||Z===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Z,n.TEXTURE_WRAP_R,Q[z.wrapR]),n.texParameteri(Z,n.TEXTURE_MAG_FILTER,j[z.magFilter]),n.texParameteri(Z,n.TEXTURE_MIN_FILTER,j[z.minFilter])):(n.texParameteri(Z,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(Z,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(Z===n.TEXTURE_3D||Z===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Z,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(z.wrapS!==no||z.wrapT!==no)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(Z,n.TEXTURE_MAG_FILTER,H(z.magFilter)),n.texParameteri(Z,n.TEXTURE_MIN_FILTER,H(z.minFilter)),z.minFilter!==Zi&&z.minFilter!==Ki&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),z.compareFunction&&(n.texParameteri(Z,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(Z,n.TEXTURE_COMPARE_FUNC,fe[z.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){const dt=t.get("EXT_texture_filter_anisotropic");if(z.magFilter===Zi||1005!==z.minFilter&&z.minFilter!==jl||z.type===ja&&!1===t.has("OES_texture_float_linear")||!1===a&&z.type===Wa&&!1===t.has("OES_texture_half_float_linear"))return;(z.anisotropy>1||i.get(z).__currentAnisotropy)&&(n.texParameterf(Z,dt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(z.anisotropy,r.getMaxAnisotropy())),i.get(z).__currentAnisotropy=z.anisotropy)}}function Ye(Z,z){let Ie=!1;void 0===Z.__webglInit&&(Z.__webglInit=!0,z.addEventListener("dispose",ge));const dt=z.source;let it=g.get(dt);void 0===it&&(it={},g.set(dt,it));const ut=function Ce(Z){const z=[];return z.push(Z.wrapS),z.push(Z.wrapT),z.push(Z.wrapR||0),z.push(Z.magFilter),z.push(Z.minFilter),z.push(Z.anisotropy),z.push(Z.internalFormat),z.push(Z.format),z.push(Z.type),z.push(Z.generateMipmaps),z.push(Z.premultiplyAlpha),z.push(Z.flipY),z.push(Z.unpackAlignment),z.push(Z.colorSpace),z.join()}(z);if(ut!==Z.__cacheKey){void 0===it[ut]&&(it[ut]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Ie=!0),it[ut].usedTimes++;const Bt=it[Z.__cacheKey];void 0!==Bt&&(it[Z.__cacheKey].usedTimes--,0===Bt.usedTimes&&ee(z)),Z.__cacheKey=ut,Z.__webglTexture=it[ut].texture}return Ie}function Re(Z,z,Ie){let dt=n.TEXTURE_2D;(z.isDataArrayTexture||z.isCompressedArrayTexture)&&(dt=n.TEXTURE_2D_ARRAY),z.isData3DTexture&&(dt=n.TEXTURE_3D);const it=Ye(Z,z),ut=z.source;e.bindTexture(dt,Z.__webglTexture,n.TEXTURE0+Ie);const Bt=i.get(ut);if(ut.version!==Bt.__version||!0===it){e.activeTexture(n.TEXTURE0+Ie);const gt=ni.getPrimaries(ni.workingColorSpace),St=""===z.colorSpace?null:ni.getPrimaries(z.colorSpace),se=""===z.colorSpace||gt===St?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,se);const _t=function O(Z){return!a&&(Z.wrapS!==no||Z.wrapT!==no||Z.minFilter!==Zi&&Z.minFilter!==Ki)}(z)&&!1===E(z.image);let nt=x(z.image,_t,!1,d);nt=Gn(z,nt);const nn=E(nt)||a,Xt=o.convert(z.format,z.colorSpace);let Ft,Qt=o.convert(z.type),jt=$(z.internalFormat,Xt,Qt,z.colorSpace,z.isVideoTexture);K(dt,z,nn);const Pn=z.mipmaps,be=a&&!0!==z.isVideoTexture,wt=void 0===Bt.__version||!0===it,ct=N(z,nt,nn);if(z.isDepthTexture)jt=n.DEPTH_COMPONENT,a?jt=z.type===ja?n.DEPTH_COMPONENT32F:z.type===Hc?n.DEPTH_COMPONENT24:z.type===Wl?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT16:z.type===ja&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),z.format===$l&&jt===n.DEPTH_COMPONENT&&1012!==z.type&&z.type!==Hc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),z.type=Hc,Qt=o.convert(z.type)),z.format===nh&&jt===n.DEPTH_COMPONENT&&(jt=n.DEPTH_STENCIL,z.type!==Wl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),z.type=Wl,Qt=o.convert(z.type))),wt&&(be?e.texStorage2D(n.TEXTURE_2D,1,jt,nt.width,nt.height):e.texImage2D(n.TEXTURE_2D,0,jt,nt.width,nt.height,0,Xt,Qt,null));else if(z.isDataTexture)if(Pn.length>0&&nn){be&&wt&&e.texStorage2D(n.TEXTURE_2D,ct,jt,Pn[0].width,Pn[0].height);for(let Ke=0,mt=Pn.length;Ke<mt;Ke++)Ft=Pn[Ke],be?e.texSubImage2D(n.TEXTURE_2D,Ke,0,0,Ft.width,Ft.height,Xt,Qt,Ft.data):e.texImage2D(n.TEXTURE_2D,Ke,jt,Ft.width,Ft.height,0,Xt,Qt,Ft.data);z.generateMipmaps=!1}else be?(wt&&e.texStorage2D(n.TEXTURE_2D,ct,jt,nt.width,nt.height),e.texSubImage2D(n.TEXTURE_2D,0,0,0,nt.width,nt.height,Xt,Qt,nt.data)):e.texImage2D(n.TEXTURE_2D,0,jt,nt.width,nt.height,0,Xt,Qt,nt.data);else if(z.isCompressedTexture)if(z.isCompressedArrayTexture){be&&wt&&e.texStorage3D(n.TEXTURE_2D_ARRAY,ct,jt,Pn[0].width,Pn[0].height,nt.depth);for(let Ke=0,mt=Pn.length;Ke<mt;Ke++)Ft=Pn[Ke],z.format!==ns?null!==Xt?be?e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ke,0,0,0,Ft.width,Ft.height,nt.depth,Xt,Ft.data,0,0):e.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ke,jt,Ft.width,Ft.height,nt.depth,0,Ft.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):be?e.texSubImage3D(n.TEXTURE_2D_ARRAY,Ke,0,0,0,Ft.width,Ft.height,nt.depth,Xt,Qt,Ft.data):e.texImage3D(n.TEXTURE_2D_ARRAY,Ke,jt,Ft.width,Ft.height,nt.depth,0,Xt,Qt,Ft.data)}else{be&&wt&&e.texStorage2D(n.TEXTURE_2D,ct,jt,Pn[0].width,Pn[0].height);for(let Ke=0,mt=Pn.length;Ke<mt;Ke++)Ft=Pn[Ke],z.format!==ns?null!==Xt?be?e.compressedTexSubImage2D(n.TEXTURE_2D,Ke,0,0,Ft.width,Ft.height,Xt,Ft.data):e.compressedTexImage2D(n.TEXTURE_2D,Ke,jt,Ft.width,Ft.height,0,Ft.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):be?e.texSubImage2D(n.TEXTURE_2D,Ke,0,0,Ft.width,Ft.height,Xt,Qt,Ft.data):e.texImage2D(n.TEXTURE_2D,Ke,jt,Ft.width,Ft.height,0,Xt,Qt,Ft.data)}else if(z.isDataArrayTexture)be?(wt&&e.texStorage3D(n.TEXTURE_2D_ARRAY,ct,jt,nt.width,nt.height,nt.depth),e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,nt.width,nt.height,nt.depth,Xt,Qt,nt.data)):e.texImage3D(n.TEXTURE_2D_ARRAY,0,jt,nt.width,nt.height,nt.depth,0,Xt,Qt,nt.data);else if(z.isData3DTexture)be?(wt&&e.texStorage3D(n.TEXTURE_3D,ct,jt,nt.width,nt.height,nt.depth),e.texSubImage3D(n.TEXTURE_3D,0,0,0,0,nt.width,nt.height,nt.depth,Xt,Qt,nt.data)):e.texImage3D(n.TEXTURE_3D,0,jt,nt.width,nt.height,nt.depth,0,Xt,Qt,nt.data);else if(z.isFramebufferTexture){if(wt)if(be)e.texStorage2D(n.TEXTURE_2D,ct,jt,nt.width,nt.height);else{let Ke=nt.width,mt=nt.height;for(let Kt=0;Kt<ct;Kt++)e.texImage2D(n.TEXTURE_2D,Kt,jt,Ke,mt,0,Xt,Qt,null),Ke>>=1,mt>>=1}}else if(Pn.length>0&&nn){be&&wt&&e.texStorage2D(n.TEXTURE_2D,ct,jt,Pn[0].width,Pn[0].height);for(let Ke=0,mt=Pn.length;Ke<mt;Ke++)Ft=Pn[Ke],be?e.texSubImage2D(n.TEXTURE_2D,Ke,0,0,Xt,Qt,Ft):e.texImage2D(n.TEXTURE_2D,Ke,jt,Xt,Qt,Ft);z.generateMipmaps=!1}else be?(wt&&e.texStorage2D(n.TEXTURE_2D,ct,jt,nt.width,nt.height),e.texSubImage2D(n.TEXTURE_2D,0,0,0,Xt,Qt,nt)):e.texImage2D(n.TEXTURE_2D,0,jt,Xt,Qt,nt);R(z,nn)&&B(dt),Bt.__version=ut.version,z.onUpdate&&z.onUpdate(z)}Z.__version=z.version}function rt(Z,z,Ie,dt,it,ut){const Bt=o.convert(Ie.format,Ie.colorSpace),gt=o.convert(Ie.type),St=$(Ie.internalFormat,Bt,gt,Ie.colorSpace);if(!i.get(z).__hasExternalTextures){const _t=Math.max(1,z.width>>ut),nt=Math.max(1,z.height>>ut);it===n.TEXTURE_3D||it===n.TEXTURE_2D_ARRAY?e.texImage3D(it,ut,St,_t,nt,z.depth,0,Bt,gt,null):e.texImage2D(it,ut,St,_t,nt,0,Bt,gt,null)}e.bindFramebuffer(n.FRAMEBUFFER,Z),pt(z)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,dt,it,i.get(Ie).__webglTexture,0,Qe(z)):(it===n.TEXTURE_2D||it>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&it<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,dt,it,i.get(Ie).__webglTexture,ut),e.bindFramebuffer(n.FRAMEBUFFER,null)}function q(Z,z,Ie){if(n.bindRenderbuffer(n.RENDERBUFFER,Z),z.depthBuffer&&!z.stencilBuffer){let dt=!0===a?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(Ie||pt(z)){const it=z.depthTexture;it&&it.isDepthTexture&&(it.type===ja?dt=n.DEPTH_COMPONENT32F:it.type===Hc&&(dt=n.DEPTH_COMPONENT24));const ut=Qe(z);pt(z)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ut,dt,z.width,z.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,ut,dt,z.width,z.height)}else n.renderbufferStorage(n.RENDERBUFFER,dt,z.width,z.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,Z)}else if(z.depthBuffer&&z.stencilBuffer){const dt=Qe(z);Ie&&!1===pt(z)?n.renderbufferStorageMultisample(n.RENDERBUFFER,dt,n.DEPTH24_STENCIL8,z.width,z.height):pt(z)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,dt,n.DEPTH24_STENCIL8,z.width,z.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,z.width,z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,Z)}else{const dt=!0===z.isWebGLMultipleRenderTargets?z.texture:[z.texture];for(let it=0;it<dt.length;it++){const ut=dt[it],Bt=o.convert(ut.format,ut.colorSpace),gt=o.convert(ut.type),St=$(ut.internalFormat,Bt,gt,ut.colorSpace),se=Qe(z);Ie&&!1===pt(z)?n.renderbufferStorageMultisample(n.RENDERBUFFER,se,St,z.width,z.height):pt(z)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,se,St,z.width,z.height):n.renderbufferStorage(n.RENDERBUFFER,St,z.width,z.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function de(Z){const z=i.get(Z),Ie=!0===Z.isWebGLCubeRenderTarget;if(Z.depthTexture&&!z.__autoAllocateDepthBuffer){if(Ie)throw new Error("target.depthTexture not supported in Cube render targets");!function Oe(Z,z){if(z&&z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(n.FRAMEBUFFER,Z),!z.depthTexture||!z.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(z.depthTexture).__webglTexture||z.depthTexture.image.width!==z.width||z.depthTexture.image.height!==z.height)&&(z.depthTexture.image.width=z.width,z.depthTexture.image.height=z.height,z.depthTexture.needsUpdate=!0),Pe(z.depthTexture,0);const dt=i.get(z.depthTexture).__webglTexture,it=Qe(z);if(z.depthTexture.format===$l)pt(z)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,dt,0,it):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,dt,0);else{if(z.depthTexture.format!==nh)throw new Error("Unknown depthTexture format");pt(z)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,dt,0,it):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,dt,0)}}(z.__webglFramebuffer,Z)}else if(Ie){z.__webglDepthbuffer=[];for(let dt=0;dt<6;dt++)e.bindFramebuffer(n.FRAMEBUFFER,z.__webglFramebuffer[dt]),z.__webglDepthbuffer[dt]=n.createRenderbuffer(),q(z.__webglDepthbuffer[dt],Z,!1)}else e.bindFramebuffer(n.FRAMEBUFFER,z.__webglFramebuffer),z.__webglDepthbuffer=n.createRenderbuffer(),q(z.__webglDepthbuffer,Z,!1);e.bindFramebuffer(n.FRAMEBUFFER,null)}function Qe(Z){return Math.min(u,Z.samples)}function pt(Z){const z=i.get(Z);return a&&Z.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==z.__useRenderToTexture}function Gn(Z,z){const Ie=Z.colorSpace,dt=Z.format,it=Z.type;return!0===Z.isCompressedTexture||!0===Z.isVideoTexture||1035===Z.format||Ie!==$a&&""!==Ie&&(ni.getTransfer(Ie)===gi?!1===a?!0===t.has("EXT_sRGB")&&dt===ns?(Z.format=1035,Z.minFilter=Ki,Z.generateMipmaps=!1):z=m4.sRGBToLinear(z):(dt!==ns||it!==zc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ie)),z}this.allocateTextureUnit=function te(){const Z=pe;return Z>=c&&console.warn("THREE.WebGLTextures: Trying to use "+Z+" texture units while this GPU supports only "+c),pe+=1,Z},this.resetTextureUnits=function ne(){pe=0},this.setTexture2D=Pe,this.setTexture2DArray=function ue(Z,z){const Ie=i.get(Z);Z.version>0&&Ie.__version!==Z.version?Re(Ie,Z,z):e.bindTexture(n.TEXTURE_2D_ARRAY,Ie.__webglTexture,n.TEXTURE0+z)},this.setTexture3D=function Ue(Z,z){const Ie=i.get(Z);Z.version>0&&Ie.__version!==Z.version?Re(Ie,Z,z):e.bindTexture(n.TEXTURE_3D,Ie.__webglTexture,n.TEXTURE0+z)},this.setTextureCube=function ce(Z,z){const Ie=i.get(Z);Z.version>0&&Ie.__version!==Z.version?function bt(Z,z,Ie){if(6!==z.image.length)return;const dt=Ye(Z,z),it=z.source;e.bindTexture(n.TEXTURE_CUBE_MAP,Z.__webglTexture,n.TEXTURE0+Ie);const ut=i.get(it);if(it.version!==ut.__version||!0===dt){e.activeTexture(n.TEXTURE0+Ie);const Bt=ni.getPrimaries(ni.workingColorSpace),gt=""===z.colorSpace?null:ni.getPrimaries(z.colorSpace),St=""===z.colorSpace||Bt===gt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,z.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,z.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,z.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,St);const se=z.isCompressedTexture||z.image[0].isCompressedTexture,_t=z.image[0]&&z.image[0].isDataTexture,nt=[];for(let Ke=0;Ke<6;Ke++)nt[Ke]=se||_t?_t?z.image[Ke].image:z.image[Ke]:x(z.image[Ke],!1,!0,l),nt[Ke]=Gn(z,nt[Ke]);const nn=nt[0],Xt=E(nn)||a,Qt=o.convert(z.format,z.colorSpace),jt=o.convert(z.type),Ft=$(z.internalFormat,Qt,jt,z.colorSpace),Pn=a&&!0!==z.isVideoTexture,be=void 0===ut.__version||!0===dt;let ct,wt=N(z,nn,Xt);if(K(n.TEXTURE_CUBE_MAP,z,Xt),se){Pn&&be&&e.texStorage2D(n.TEXTURE_CUBE_MAP,wt,Ft,nn.width,nn.height);for(let Ke=0;Ke<6;Ke++){ct=nt[Ke].mipmaps;for(let mt=0;mt<ct.length;mt++){const Kt=ct[mt];z.format!==ns?null!==Qt?Pn?e.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt,0,0,Kt.width,Kt.height,Qt,Kt.data):e.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt,Ft,Kt.width,Kt.height,0,Kt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Pn?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt,0,0,Kt.width,Kt.height,Qt,jt,Kt.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt,Ft,Kt.width,Kt.height,0,Qt,jt,Kt.data)}}}else{ct=z.mipmaps,Pn&&be&&(ct.length>0&&wt++,e.texStorage2D(n.TEXTURE_CUBE_MAP,wt,Ft,nt[0].width,nt[0].height));for(let Ke=0;Ke<6;Ke++)if(_t){Pn?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0,0,0,nt[Ke].width,nt[Ke].height,Qt,jt,nt[Ke].data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0,Ft,nt[Ke].width,nt[Ke].height,0,Qt,jt,nt[Ke].data);for(let mt=0;mt<ct.length;mt++){const On=ct[mt].image[Ke].image;Pn?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt+1,0,0,On.width,On.height,Qt,jt,On.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt+1,Ft,On.width,On.height,0,Qt,jt,On.data)}}else{Pn?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0,0,0,Qt,jt,nt[Ke]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0,Ft,Qt,jt,nt[Ke]);for(let mt=0;mt<ct.length;mt++){const Kt=ct[mt];Pn?e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt+1,0,0,Qt,jt,Kt.image[Ke]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt+1,Ft,Qt,jt,Kt.image[Ke])}}}R(z,Xt)&&B(n.TEXTURE_CUBE_MAP),ut.__version=it.version,z.onUpdate&&z.onUpdate(z)}Z.__version=z.version}(Ie,Z,z):e.bindTexture(n.TEXTURE_CUBE_MAP,Ie.__webglTexture,n.TEXTURE0+z)},this.rebindTextures=function Ne(Z,z,Ie){const dt=i.get(Z);void 0!==z&&rt(dt.__webglFramebuffer,Z,Z.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==Ie&&de(Z)},this.setupRenderTarget=function we(Z){const z=Z.texture,Ie=i.get(Z),dt=i.get(z);Z.addEventListener("dispose",_e),!0!==Z.isWebGLMultipleRenderTargets&&(void 0===dt.__webglTexture&&(dt.__webglTexture=n.createTexture()),dt.__version=z.version,s.memory.textures++);const it=!0===Z.isWebGLCubeRenderTarget,ut=!0===Z.isWebGLMultipleRenderTargets,Bt=E(Z)||a;if(it){Ie.__webglFramebuffer=[];for(let gt=0;gt<6;gt++)if(a&&z.mipmaps&&z.mipmaps.length>0){Ie.__webglFramebuffer[gt]=[];for(let St=0;St<z.mipmaps.length;St++)Ie.__webglFramebuffer[gt][St]=n.createFramebuffer()}else Ie.__webglFramebuffer[gt]=n.createFramebuffer()}else{if(a&&z.mipmaps&&z.mipmaps.length>0){Ie.__webglFramebuffer=[];for(let gt=0;gt<z.mipmaps.length;gt++)Ie.__webglFramebuffer[gt]=n.createFramebuffer()}else Ie.__webglFramebuffer=n.createFramebuffer();if(ut)if(r.drawBuffers){const gt=Z.texture;for(let St=0,se=gt.length;St<se;St++){const _t=i.get(gt[St]);void 0===_t.__webglTexture&&(_t.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&Z.samples>0&&!1===pt(Z)){const gt=ut?z:[z];Ie.__webglMultisampledFramebuffer=n.createFramebuffer(),Ie.__webglColorRenderbuffer=[],e.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer);for(let St=0;St<gt.length;St++){const se=gt[St];Ie.__webglColorRenderbuffer[St]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ie.__webglColorRenderbuffer[St]);const _t=o.convert(se.format,se.colorSpace),nt=o.convert(se.type),nn=$(se.internalFormat,_t,nt,se.colorSpace,!0===Z.isXRRenderTarget),Xt=Qe(Z);n.renderbufferStorageMultisample(n.RENDERBUFFER,Xt,nn,Z.width,Z.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[St])}n.bindRenderbuffer(n.RENDERBUFFER,null),Z.depthBuffer&&(Ie.__webglDepthRenderbuffer=n.createRenderbuffer(),q(Ie.__webglDepthRenderbuffer,Z,!0)),e.bindFramebuffer(n.FRAMEBUFFER,null)}}if(it){e.bindTexture(n.TEXTURE_CUBE_MAP,dt.__webglTexture),K(n.TEXTURE_CUBE_MAP,z,Bt);for(let gt=0;gt<6;gt++)if(a&&z.mipmaps&&z.mipmaps.length>0)for(let St=0;St<z.mipmaps.length;St++)rt(Ie.__webglFramebuffer[gt][St],Z,z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,St);else rt(Ie.__webglFramebuffer[gt],Z,z,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0);R(z,Bt)&&B(n.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(ut){const gt=Z.texture;for(let St=0,se=gt.length;St<se;St++){const _t=gt[St],nt=i.get(_t);e.bindTexture(n.TEXTURE_2D,nt.__webglTexture),K(n.TEXTURE_2D,_t,Bt),rt(Ie.__webglFramebuffer,Z,_t,n.COLOR_ATTACHMENT0+St,n.TEXTURE_2D,0),R(_t,Bt)&&B(n.TEXTURE_2D)}e.unbindTexture()}else{let gt=n.TEXTURE_2D;if((Z.isWebGL3DRenderTarget||Z.isWebGLArrayRenderTarget)&&(a?gt=Z.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(gt,dt.__webglTexture),K(gt,z,Bt),a&&z.mipmaps&&z.mipmaps.length>0)for(let St=0;St<z.mipmaps.length;St++)rt(Ie.__webglFramebuffer[St],Z,z,n.COLOR_ATTACHMENT0,gt,St);else rt(Ie.__webglFramebuffer,Z,z,n.COLOR_ATTACHMENT0,gt,0);R(z,Bt)&&B(gt),e.unbindTexture()}Z.depthBuffer&&de(Z)},this.updateRenderTargetMipmap=function ie(Z){const z=E(Z)||a,Ie=!0===Z.isWebGLMultipleRenderTargets?Z.texture:[Z.texture];for(let dt=0,it=Ie.length;dt<it;dt++){const ut=Ie[dt];if(R(ut,z)){const Bt=Z.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,gt=i.get(ut).__webglTexture;e.bindTexture(Bt,gt),B(Bt),e.unbindTexture()}}},this.updateMultisampleRenderTarget=function Y(Z){if(a&&Z.samples>0&&!1===pt(Z)){const z=Z.isWebGLMultipleRenderTargets?Z.texture:[Z.texture],Ie=Z.width,dt=Z.height;let it=n.COLOR_BUFFER_BIT;const ut=[],Bt=Z.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,gt=i.get(Z),St=!0===Z.isWebGLMultipleRenderTargets;if(St)for(let se=0;se<z.length;se++)e.bindFramebuffer(n.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+se,n.RENDERBUFFER,null),e.bindFramebuffer(n.FRAMEBUFFER,gt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+se,n.TEXTURE_2D,null,0);e.bindFramebuffer(n.READ_FRAMEBUFFER,gt.__webglMultisampledFramebuffer),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,gt.__webglFramebuffer);for(let se=0;se<z.length;se++){ut.push(n.COLOR_ATTACHMENT0+se),Z.depthBuffer&&ut.push(Bt);const _t=void 0!==gt.__ignoreDepthValues&&gt.__ignoreDepthValues;if(!1===_t&&(Z.depthBuffer&&(it|=n.DEPTH_BUFFER_BIT),Z.stencilBuffer&&(it|=n.STENCIL_BUFFER_BIT)),St&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,gt.__webglColorRenderbuffer[se]),!0===_t&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Bt]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Bt])),St){const nt=i.get(z[se]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,nt,0)}n.blitFramebuffer(0,0,Ie,dt,0,0,Ie,dt,it,n.NEAREST),f&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ut)}if(e.bindFramebuffer(n.READ_FRAMEBUFFER,null),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),St)for(let se=0;se<z.length;se++){e.bindFramebuffer(n.FRAMEBUFFER,gt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+se,n.RENDERBUFFER,gt.__webglColorRenderbuffer[se]);const _t=i.get(z[se]).__webglTexture;e.bindFramebuffer(n.FRAMEBUFFER,gt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+se,n.TEXTURE_2D,_t,0)}e.bindFramebuffer(n.DRAW_FRAMEBUFFER,gt.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=de,this.setupFrameBufferTexture=rt,this.useMultisampledRTT=pt}function uge(n,t,e){const i=e.isWebGL2;return{convert:function r(o,s=""){let a;const c=ni.getTransfer(s);if(o===zc)return n.UNSIGNED_BYTE;if(1017===o)return n.UNSIGNED_SHORT_4_4_4_4;if(1018===o)return n.UNSIGNED_SHORT_5_5_5_1;if(1010===o)return n.BYTE;if(1011===o)return n.SHORT;if(1012===o)return n.UNSIGNED_SHORT;if(1013===o)return n.INT;if(o===Hc)return n.UNSIGNED_INT;if(o===ja)return n.FLOAT;if(o===Wa)return i?n.HALF_FLOAT:(a=t.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===o)return n.ALPHA;if(o===ns)return n.RGBA;if(1024===o)return n.LUMINANCE;if(1025===o)return n.LUMINANCE_ALPHA;if(o===$l)return n.DEPTH_COMPONENT;if(o===nh)return n.DEPTH_STENCIL;if(1035===o)return a=t.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1028===o)return n.RED;if(1029===o)return n.RED_INTEGER;if(1030===o)return n.RG;if(1031===o)return n.RG_INTEGER;if(1033===o)return n.RGBA_INTEGER;if(33776===o||33777===o||33778===o||33779===o)if(c===gi){if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===o)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=t.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===o)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===o)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===o)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===o)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===o||35841===o||35842===o||35843===o){if(a=t.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===o)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===o)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===o)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===o)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===o)return a=t.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===o||37496===o){if(a=t.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===o)return c===gi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===o||37809===o||37810===o||37811===o||37812===o||37813===o||37814===o||37815===o||37816===o||37817===o||37818===o||37819===o||37820===o||37821===o){if(a=t.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===o)return c===gi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===o||36494===o||36495===o){if(a=t.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===o)return c===gi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===o)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===o)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===o||36284===o||36285===o||36286===o){if(a=t.get("EXT_texture_compression_rgtc"),null===a)return null;if(36492===o)return a.COMPRESSED_RED_RGTC1_EXT;if(36284===o)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===o)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===o)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return o===Wl?i?n.UNSIGNED_INT_24_8:(a=t.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[o]?n[o]:null}}}class hge extends Hr{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}class rd extends pr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const fge={type:"move"};class o1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new rd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new rd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new rd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,i){let r=null,o=null,s=null;const a=this._targetRay,c=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(l&&t.hand){s=!0;for(const v of t.hand.values()){const g=e.getJointPose(v,i),b=this._getHandJoint(l,v);null!==g&&(b.matrix.fromArray(g.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=g.radius),b.visible=null!==g}const h=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),f=.02,m=.005;l.inputState.pinching&&h>f+m?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&h<=f-m&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==c&&t.gripSpace&&(o=e.getPose(t.gripSpace,i),null!==o&&(c.matrix.fromArray(o.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,o.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(o.linearVelocity)):c.hasLinearVelocity=!1,o.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(o.angularVelocity)):c.hasAngularVelocity=!1));null!==a&&(r=e.getPose(t.targetRaySpace,i),null===r&&null!==o&&(r=o),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(fge)))}return null!==a&&(a.visible=null!==r),null!==c&&(c.visible=null!==o),null!==l&&(l.visible=null!==s),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const i=new rd;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class pge extends Xa{constructor(t,e,i,r,o,s,a,c,l,d){if((d=void 0!==d?d:$l)!==$l&&d!==nh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&d===$l&&(i=Hc),void 0===i&&d===nh&&(i=Wl),super(null,r,o,s,a,c,d,i,l),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==a?a:Zi,this.minFilter=void 0!==c?c:Zi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}class mge extends ql{constructor(t,e){super();const i=this;let r=null,o=1,s=null,a="local-floor",c=1,l=null,d=null,u=null,h=null,f=null,m=null;const v=e.getContextAttributes();let g=null,b=null;const y=[],x=[],E=new Hr;E.layers.enable(1),E.viewport=new Hn;const O=new Hr;O.layers.enable(2),O.viewport=new Hn;const R=[E,O],B=new hge;B.layers.enable(1),B.layers.enable(2);let $=null,N=null;function H(ue){const Ue=x.indexOf(ue.inputSource);if(-1===Ue)return;const ce=y[Ue];void 0!==ce&&(ce.update(ue.inputSource,ue.frame,l||s),ce.dispatchEvent({type:ue.type,data:ue.inputSource}))}function ge(){r.removeEventListener("select",H),r.removeEventListener("selectstart",H),r.removeEventListener("selectend",H),r.removeEventListener("squeeze",H),r.removeEventListener("squeezestart",H),r.removeEventListener("squeezeend",H),r.removeEventListener("end",ge),r.removeEventListener("inputsourceschange",_e);for(let ue=0;ue<y.length;ue++){const Ue=x[ue];null!==Ue&&(x[ue]=null,y[ue].disconnect(Ue))}$=null,N=null,t.setRenderTarget(g),f=null,h=null,u=null,r=null,b=null,Pe.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function _e(ue){for(let Ue=0;Ue<ue.removed.length;Ue++){const ce=ue.removed[Ue],Q=x.indexOf(ce);Q>=0&&(x[Q]=null,y[Q].disconnect(ce))}for(let Ue=0;Ue<ue.added.length;Ue++){const ce=ue.added[Ue];let Q=x.indexOf(ce);if(-1===Q){for(let fe=0;fe<y.length;fe++){if(fe>=x.length){x.push(ce),Q=fe;break}if(null===x[fe]){x[fe]=ce,Q=fe;break}}if(-1===Q)break}const j=y[Q];j&&j.connect(ce)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ue){let Ue=y[ue];return void 0===Ue&&(Ue=new o1,y[ue]=Ue),Ue.getTargetRaySpace()},this.getControllerGrip=function(ue){let Ue=y[ue];return void 0===Ue&&(Ue=new o1,y[ue]=Ue),Ue.getGripSpace()},this.getHand=function(ue){let Ue=y[ue];return void 0===Ue&&(Ue=new o1,y[ue]=Ue),Ue.getHandSpace()},this.setFramebufferScaleFactor=function(ue){o=ue,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ue){a=ue,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||s},this.setReferenceSpace=function(ue){l=ue},this.getBaseLayer=function(){return null!==h?h:f},this.getBinding=function(){return u},this.getFrame=function(){return m},this.getSession=function(){return r},this.setSession=function(){var ue=Qn(function*(Ue){if(r=Ue,null!==r){if(g=t.getRenderTarget(),r.addEventListener("select",H),r.addEventListener("selectstart",H),r.addEventListener("selectend",H),r.addEventListener("squeeze",H),r.addEventListener("squeezestart",H),r.addEventListener("squeezeend",H),r.addEventListener("end",ge),r.addEventListener("inputsourceschange",_e),!0!==v.xrCompatible&&(yield e.makeXRCompatible()),void 0===r.renderState.layers||!1===t.capabilities.isWebGL2)f=new XRWebGLLayer(r,e,{antialias:void 0!==r.renderState.layers||v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:o}),r.updateRenderState({baseLayer:f}),b=new Is(f.framebufferWidth,f.framebufferHeight,{format:ns,type:zc,colorSpace:t.outputColorSpace,stencilBuffer:v.stencil});else{let ce=null,Q=null,j=null;v.depth&&(j=v.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,ce=v.stencil?nh:$l,Q=v.stencil?Wl:Hc);const fe={colorFormat:e.RGBA8,depthFormat:j,scaleFactor:o};u=new XRWebGLBinding(r,e),h=u.createProjectionLayer(fe),r.updateRenderState({layers:[h]}),b=new Is(h.textureWidth,h.textureHeight,{format:ns,type:zc,depthTexture:new pge(h.textureWidth,h.textureHeight,Q,void 0,void 0,void 0,void 0,void 0,void 0,ce),stencilBuffer:v.stencil,colorSpace:t.outputColorSpace,samples:v.antialias?4:0}),t.properties.get(b).__ignoreDepthValues=h.ignoreDepthValues}b.isXRRenderTarget=!0,this.setFoveation(c),l=null,s=yield r.requestReferenceSpace(a),Pe.setContext(r),Pe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(Ue){return ue.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const Be=new G,ee=new G;function pe(ue,Ue){null===Ue?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(Ue.matrixWorld,ue.matrix),ue.matrixWorldInverse.copy(ue.matrixWorld).invert()}this.updateCamera=function(ue){if(null===r)return;B.near=O.near=E.near=ue.near,B.far=O.far=E.far=ue.far,($!==B.near||N!==B.far)&&(r.updateRenderState({depthNear:B.near,depthFar:B.far}),$=B.near,N=B.far);const Ue=ue.parent,ce=B.cameras;pe(B,Ue);for(let Q=0;Q<ce.length;Q++)pe(ce[Q],Ue);2===ce.length?function Me(ue,Ue,ce){Be.setFromMatrixPosition(Ue.matrixWorld),ee.setFromMatrixPosition(ce.matrixWorld);const Q=Be.distanceTo(ee),j=Ue.projectionMatrix.elements,fe=ce.projectionMatrix.elements,K=j[14]/(j[10]-1),Ye=j[14]/(j[10]+1),Re=(j[9]+1)/j[5],bt=(j[9]-1)/j[5],rt=(j[8]-1)/j[0],q=(fe[8]+1)/fe[0],Oe=K*rt,de=K*q,Ne=Q/(-rt+q),we=Ne*-rt;Ue.matrixWorld.decompose(ue.position,ue.quaternion,ue.scale),ue.translateX(we),ue.translateZ(Ne),ue.matrixWorld.compose(ue.position,ue.quaternion,ue.scale),ue.matrixWorldInverse.copy(ue.matrixWorld).invert();const ie=K+Ne,Y=Ye+Ne;ue.projectionMatrix.makePerspective(Oe-we,de+(Q-we),Re*Ye/Y*ie,bt*Ye/Y*ie,ie,Y),ue.projectionMatrixInverse.copy(ue.projectionMatrix).invert()}(B,E,O):B.projectionMatrix.copy(E.projectionMatrix),function ne(ue,Ue,ce){null===ce?ue.matrix.copy(Ue.matrixWorld):(ue.matrix.copy(ce.matrixWorld),ue.matrix.invert(),ue.matrix.multiply(Ue.matrixWorld)),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.updateMatrixWorld(!0),ue.projectionMatrix.copy(Ue.projectionMatrix),ue.projectionMatrixInverse.copy(Ue.projectionMatrixInverse),ue.isPerspectiveCamera&&(ue.fov=2*sh*Math.atan(1/ue.projectionMatrix.elements[5]),ue.zoom=1)}(ue,B,Ue)},this.getCamera=function(){return B},this.getFoveation=function(){if(null!==h||null!==f)return c},this.setFoveation=function(ue){c=ue,null!==h&&(h.fixedFoveation=ue),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=ue)};let te=null;const Pe=new k4;Pe.setAnimationLoop(function Ce(ue,Ue){if(d=Ue.getViewerPose(l||s),m=Ue,null!==d){const ce=d.views;null!==f&&(t.setRenderTargetFramebuffer(b,f.framebuffer),t.setRenderTarget(b));let Q=!1;ce.length!==B.cameras.length&&(B.cameras.length=0,Q=!0);for(let j=0;j<ce.length;j++){const fe=ce[j];let K=null;if(null!==f)K=f.getViewport(fe);else{const Re=u.getViewSubImage(h,fe);K=Re.viewport,0===j&&(t.setRenderTargetTextures(b,Re.colorTexture,h.ignoreDepthValues?void 0:Re.depthStencilTexture),t.setRenderTarget(b))}let Ye=R[j];void 0===Ye&&(Ye=new Hr,Ye.layers.enable(j),Ye.viewport=new Hn,R[j]=Ye),Ye.matrix.fromArray(fe.transform.matrix),Ye.matrix.decompose(Ye.position,Ye.quaternion,Ye.scale),Ye.projectionMatrix.fromArray(fe.projectionMatrix),Ye.projectionMatrixInverse.copy(Ye.projectionMatrix).invert(),Ye.viewport.set(K.x,K.y,K.width,K.height),0===j&&(B.matrix.copy(Ye.matrix),B.matrix.decompose(B.position,B.quaternion,B.scale)),!0===Q&&B.cameras.push(Ye)}}for(let ce=0;ce<y.length;ce++){const Q=x[ce],j=y[ce];null!==Q&&void 0!==j&&j.update(Q,Ue,l||s)}te&&te(ue,Ue),Ue.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Ue}),m=null}),this.setAnimationLoop=function(ue){te=ue},this.dispose=function(){}}}function gge(n,t){function e(g,b){!0===g.matrixAutoUpdate&&g.updateMatrix(),b.value.copy(g.matrix)}function o(g,b){g.opacity.value=b.opacity,b.color&&g.diffuse.value.copy(b.color),b.emissive&&g.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(g.map.value=b.map,e(b.map,g.mapTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,e(b.alphaMap,g.alphaMapTransform)),b.bumpMap&&(g.bumpMap.value=b.bumpMap,e(b.bumpMap,g.bumpMapTransform),g.bumpScale.value=b.bumpScale,1===b.side&&(g.bumpScale.value*=-1)),b.normalMap&&(g.normalMap.value=b.normalMap,e(b.normalMap,g.normalMapTransform),g.normalScale.value.copy(b.normalScale),1===b.side&&g.normalScale.value.negate()),b.displacementMap&&(g.displacementMap.value=b.displacementMap,e(b.displacementMap,g.displacementMapTransform),g.displacementScale.value=b.displacementScale,g.displacementBias.value=b.displacementBias),b.emissiveMap&&(g.emissiveMap.value=b.emissiveMap,e(b.emissiveMap,g.emissiveMapTransform)),b.specularMap&&(g.specularMap.value=b.specularMap,e(b.specularMap,g.specularMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest);const y=t.get(b).envMap;if(y&&(g.envMap.value=y,g.flipEnvMap.value=y.isCubeTexture&&!1===y.isRenderTargetTexture?-1:1,g.reflectivity.value=b.reflectivity,g.ior.value=b.ior,g.refractionRatio.value=b.refractionRatio),b.lightMap){g.lightMap.value=b.lightMap;const x=!0===n._useLegacyLights?Math.PI:1;g.lightMapIntensity.value=b.lightMapIntensity*x,e(b.lightMap,g.lightMapTransform)}b.aoMap&&(g.aoMap.value=b.aoMap,g.aoMapIntensity.value=b.aoMapIntensity,e(b.aoMap,g.aoMapTransform))}return{refreshFogUniforms:function i(g,b){b.color.getRGB(g.fogColor.value,R4(n)),b.isFog?(g.fogNear.value=b.near,g.fogFar.value=b.far):b.isFogExp2&&(g.fogDensity.value=b.density)},refreshMaterialUniforms:function r(g,b,y,x,E){b.isMeshBasicMaterial||b.isMeshLambertMaterial?o(g,b):b.isMeshToonMaterial?(o(g,b),function u(g,b){b.gradientMap&&(g.gradientMap.value=b.gradientMap)}(g,b)):b.isMeshPhongMaterial?(o(g,b),function d(g,b){g.specular.value.copy(b.specular),g.shininess.value=Math.max(b.shininess,1e-4)}(g,b)):b.isMeshStandardMaterial?(o(g,b),function h(g,b){g.metalness.value=b.metalness,b.metalnessMap&&(g.metalnessMap.value=b.metalnessMap,e(b.metalnessMap,g.metalnessMapTransform)),g.roughness.value=b.roughness,b.roughnessMap&&(g.roughnessMap.value=b.roughnessMap,e(b.roughnessMap,g.roughnessMapTransform)),t.get(b).envMap&&(g.envMapIntensity.value=b.envMapIntensity)}(g,b),b.isMeshPhysicalMaterial&&function f(g,b,y){g.ior.value=b.ior,b.sheen>0&&(g.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),g.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(g.sheenColorMap.value=b.sheenColorMap,e(b.sheenColorMap,g.sheenColorMapTransform)),b.sheenRoughnessMap&&(g.sheenRoughnessMap.value=b.sheenRoughnessMap,e(b.sheenRoughnessMap,g.sheenRoughnessMapTransform))),b.clearcoat>0&&(g.clearcoat.value=b.clearcoat,g.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(g.clearcoatMap.value=b.clearcoatMap,e(b.clearcoatMap,g.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,e(b.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(g.clearcoatNormalMap.value=b.clearcoatNormalMap,e(b.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),1===b.side&&g.clearcoatNormalScale.value.negate())),b.iridescence>0&&(g.iridescence.value=b.iridescence,g.iridescenceIOR.value=b.iridescenceIOR,g.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(g.iridescenceMap.value=b.iridescenceMap,e(b.iridescenceMap,g.iridescenceMapTransform)),b.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=b.iridescenceThicknessMap,e(b.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),b.transmission>0&&(g.transmission.value=b.transmission,g.transmissionSamplerMap.value=y.texture,g.transmissionSamplerSize.value.set(y.width,y.height),b.transmissionMap&&(g.transmissionMap.value=b.transmissionMap,e(b.transmissionMap,g.transmissionMapTransform)),g.thickness.value=b.thickness,b.thicknessMap&&(g.thicknessMap.value=b.thicknessMap,e(b.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=b.attenuationDistance,g.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(g.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(g.anisotropyMap.value=b.anisotropyMap,e(b.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=b.specularIntensity,g.specularColor.value.copy(b.specularColor),b.specularColorMap&&(g.specularColorMap.value=b.specularColorMap,e(b.specularColorMap,g.specularColorMapTransform)),b.specularIntensityMap&&(g.specularIntensityMap.value=b.specularIntensityMap,e(b.specularIntensityMap,g.specularIntensityMapTransform))}(g,b,E)):b.isMeshMatcapMaterial?(o(g,b),function m(g,b){b.matcap&&(g.matcap.value=b.matcap)}(g,b)):b.isMeshDepthMaterial?o(g,b):b.isMeshDistanceMaterial?(o(g,b),function v(g,b){const y=t.get(b).light;g.referencePosition.value.setFromMatrixPosition(y.matrixWorld),g.nearDistance.value=y.shadow.camera.near,g.farDistance.value=y.shadow.camera.far}(g,b)):b.isMeshNormalMaterial?o(g,b):b.isLineBasicMaterial?(function s(g,b){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,b.map&&(g.map.value=b.map,e(b.map,g.mapTransform))}(g,b),b.isLineDashedMaterial&&function a(g,b){g.dashSize.value=b.dashSize,g.totalSize.value=b.dashSize+b.gapSize,g.scale.value=b.scale}(g,b)):b.isPointsMaterial?function c(g,b,y,x){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.size.value=b.size*y,g.scale.value=.5*x,b.map&&(g.map.value=b.map,e(b.map,g.uvTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,e(b.alphaMap,g.alphaMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest)}(g,b,y,x):b.isSpriteMaterial?function l(g,b){g.diffuse.value.copy(b.color),g.opacity.value=b.opacity,g.rotation.value=b.rotation,b.map&&(g.map.value=b.map,e(b.map,g.mapTransform)),b.alphaMap&&(g.alphaMap.value=b.alphaMap,e(b.alphaMap,g.alphaMapTransform)),b.alphaTest>0&&(g.alphaTest.value=b.alphaTest)}(g,b):b.isShadowMaterial?(g.color.value.copy(b.color),g.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}}}function _ge(n,t,e,i){let r={},o={},s=[];const a=e.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function f(y,x,E){const O=y.value;if(void 0===E[x]){if("number"==typeof O)E[x]=O;else{const R=Array.isArray(O)?O:[O],B=[];for(let $=0;$<R.length;$++)B.push(R[$].clone());E[x]=B}return!0}if("number"==typeof O){if(E[x]!==O)return E[x]=O,!0}else{const R=Array.isArray(E[x])?E[x]:[E[x]],B=Array.isArray(O)?O:[O];for(let $=0;$<R.length;$++){const N=R[$];if(!1===N.equals(B[$]))return N.copy(B[$]),!0}}return!1}function v(y){const x={boundary:0,storage:0};return"number"==typeof y?(x.boundary=4,x.storage=4):y.isVector2?(x.boundary=8,x.storage=8):y.isVector3||y.isColor?(x.boundary=16,x.storage=12):y.isVector4?(x.boundary=16,x.storage=16):y.isMatrix3?(x.boundary=48,x.storage=48):y.isMatrix4?(x.boundary=64,x.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),x}function g(y){const x=y.target;x.removeEventListener("dispose",g);const E=s.indexOf(x.__bindingPointIndex);s.splice(E,1),n.deleteBuffer(r[x.id]),delete r[x.id],delete o[x.id]}return{bind:function c(y,x){i.uniformBlockBinding(y,x.program)},update:function l(y,x){let E=r[y.id];void 0===E&&(function m(y){const x=y.uniforms;let E=0;let R=0;for(let B=0,$=x.length;B<$;B++){const N=x[B],H={boundary:0,storage:0},ge=Array.isArray(N.value)?N.value:[N.value];for(let _e=0,Be=ge.length;_e<Be;_e++){const Me=v(ge[_e]);H.boundary+=Me.boundary,H.storage+=Me.storage}N.__data=new Float32Array(H.storage/Float32Array.BYTES_PER_ELEMENT),N.__offset=E,B>0&&(R=E%16,0!==R&&16-R-H.boundary<0&&(E+=16-R,N.__offset=E)),E+=H.storage}R=E%16,R>0&&(E+=16-R),y.__size=E,y.__cache={}}(y),E=function d(y){const x=function u(){for(let y=0;y<a;y++)if(-1===s.indexOf(y))return s.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();y.__bindingPointIndex=x;const E=n.createBuffer(),O=y.__size,R=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,E),n.bufferData(n.UNIFORM_BUFFER,O,R),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,x,E),E}(y),r[y.id]=E,y.addEventListener("dispose",g)),i.updateUBOMapping(y,x.program);const R=t.render.frame;o[y.id]!==R&&(function h(y){const E=y.uniforms,O=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[y.id]);for(let R=0,B=E.length;R<B;R++){const $=E[R];if(!0===f($,R,O)){const N=$.__offset,H=Array.isArray($.value)?$.value:[$.value];let ge=0;for(let _e=0;_e<H.length;_e++){const Be=H[_e],ee=v(Be);"number"==typeof Be?($.__data[0]=Be,n.bufferSubData(n.UNIFORM_BUFFER,N+ge,$.__data)):Be.isMatrix3?($.__data[0]=Be.elements[0],$.__data[1]=Be.elements[1],$.__data[2]=Be.elements[2],$.__data[3]=Be.elements[0],$.__data[4]=Be.elements[3],$.__data[5]=Be.elements[4],$.__data[6]=Be.elements[5],$.__data[7]=Be.elements[0],$.__data[8]=Be.elements[6],$.__data[9]=Be.elements[7],$.__data[10]=Be.elements[8],$.__data[11]=Be.elements[0]):(Be.toArray($.__data,ge),ge+=ee.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,N,$.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(y),o[y.id]=R)},dispose:function b(){for(const y in r)n.deleteBuffer(r[y]);s=[],r={},o={}}}}class lU{constructor(t={}){const{canvas:e=Kue(),context:i=null,depth:r=!0,stencil:o=!0,alpha:s=!1,antialias:a=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:l=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:u=!1}=t;let h;this.isWebGLRenderer=!0,h=null!==i?i.getContextAttributes().alpha:s;const f=new Uint32Array(4),m=new Int32Array(4);let v=null,g=null;const b=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ar,this._useLegacyLights=!1,this.toneMapping=Uc,this.toneMappingExposure=1;const x=this;let E=!1,O=0,R=0,B=null,$=-1,N=null;const H=new Hn,ge=new Hn;let _e=null;const Be=new xt(0);let ee=0,Me=e.width,pe=e.height,ne=1,te=null,Ce=null;const Pe=new Hn(0,0,Me,pe),ue=new Hn(0,0,Me,pe);let Ue=!1;const ce=new ZE;let Q=!1,j=!1,fe=null;const K=new pn,Ye=new Ee,Re=new G,bt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function rt(){return null===B?ne:1}let de,Ne,we,ie,Y,Qe,pt,Yt,Gn,Z,z,Ie,dt,it,ut,Bt,gt,St,se,_t,nt,nn,Xt,Qt,q=i;function Oe(W,Ae){for(let Ve=0;Ve<W.length;Ve++){const $e=e.getContext(W[Ve],Ae);if(null!==$e)return $e}return null}try{const W={alpha:!0,depth:r,stencil:o,antialias:a,premultipliedAlpha:c,preserveDrawingBuffer:l,powerPreference:d,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r158"),e.addEventListener("webglcontextlost",Pn,!1),e.addEventListener("webglcontextrestored",be,!1),e.addEventListener("webglcontextcreationerror",wt,!1),null===q){const Ae=["webgl2","webgl","experimental-webgl"];if(!0===x.isWebGL1Renderer&&Ae.shift(),q=Oe(Ae,W),null===q)throw Oe(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&q instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===q.getShaderPrecisionFormat&&(q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(W){throw console.error("THREE.WebGLRenderer: "+W.message),W}function jt(){de=new Dpe(q),Ne=new Cpe(q,de,t),de.init(Ne),nn=new uge(q,de,Ne),we=new lge(q,de,Ne),ie=new Ope(q),Y=new Kme,Qe=new dge(q,de,we,Y,Ne,nn,ie),pt=new Spe(x),Yt=new Tpe(x),Gn=new whe(q,Ne),Xt=new xpe(q,de,Gn,Ne),Z=new Ipe(q,Gn,ie,Xt),z=new Fpe(q,Z,Gn,ie),se=new Lpe(q,Ne,Qe),Bt=new Mpe(Y),Ie=new Zme(x,pt,Yt,de,Ne,Xt,Bt),dt=new gge(x,Y),it=new Jme,ut=new oge(de,Ne),St=new ype(x,pt,Yt,we,z,h,c),gt=new cge(x,z,Ne),Qt=new _ge(q,ie,Ne,we),_t=new wpe(q,de,ie,Ne),nt=new Ppe(q,de,ie,Ne),ie.programs=Ie.programs,x.capabilities=Ne,x.extensions=de,x.properties=Y,x.renderLists=it,x.shadowMap=gt,x.state=we,x.info=ie}jt();const Ft=new mge(x,q);function Pn(W){W.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function be(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const W=ie.autoReset,Ae=gt.enabled,Ve=gt.autoUpdate,je=gt.needsUpdate,$e=gt.type;jt(),ie.autoReset=W,gt.enabled=Ae,gt.autoUpdate=Ve,gt.needsUpdate=je,gt.type=$e}function wt(W){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",W.statusMessage)}function ct(W){const Ae=W.target;Ae.removeEventListener("dispose",ct),function Ke(W){(function mt(W){const Ae=Y.get(W).programs;void 0!==Ae&&(Ae.forEach(function(Ve){Ie.releaseProgram(Ve)}),W.isShaderMaterial&&Ie.releaseShaderCache(W))})(W),Y.remove(W)}(Ae)}function Kt(W,Ae,Ve){!0===W.transparent&&2===W.side&&!1===W.forceSinglePass?(W.side=1,W.needsUpdate=!0,F0(W,Ae,Ve),W.side=0,W.needsUpdate=!0,F0(W,Ae,Ve),W.side=2):F0(W,Ae,Ve)}this.xr=Ft,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const W=de.get("WEBGL_lose_context");W&&W.loseContext()},this.forceContextRestore=function(){const W=de.get("WEBGL_lose_context");W&&W.restoreContext()},this.getPixelRatio=function(){return ne},this.setPixelRatio=function(W){void 0!==W&&(ne=W,this.setSize(Me,pe,!1))},this.getSize=function(W){return W.set(Me,pe)},this.setSize=function(W,Ae,Ve=!0){Ft.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(Me=W,pe=Ae,e.width=Math.floor(W*ne),e.height=Math.floor(Ae*ne),!0===Ve&&(e.style.width=W+"px",e.style.height=Ae+"px"),this.setViewport(0,0,W,Ae))},this.getDrawingBufferSize=function(W){return W.set(Me*ne,pe*ne).floor()},this.setDrawingBufferSize=function(W,Ae,Ve){Me=W,pe=Ae,ne=Ve,e.width=Math.floor(W*Ve),e.height=Math.floor(Ae*Ve),this.setViewport(0,0,W,Ae)},this.getCurrentViewport=function(W){return W.copy(H)},this.getViewport=function(W){return W.copy(Pe)},this.setViewport=function(W,Ae,Ve,je){W.isVector4?Pe.set(W.x,W.y,W.z,W.w):Pe.set(W,Ae,Ve,je),we.viewport(H.copy(Pe).multiplyScalar(ne).floor())},this.getScissor=function(W){return W.copy(ue)},this.setScissor=function(W,Ae,Ve,je){W.isVector4?ue.set(W.x,W.y,W.z,W.w):ue.set(W,Ae,Ve,je),we.scissor(ge.copy(ue).multiplyScalar(ne).floor())},this.getScissorTest=function(){return Ue},this.setScissorTest=function(W){we.setScissorTest(Ue=W)},this.setOpaqueSort=function(W){te=W},this.setTransparentSort=function(W){Ce=W},this.getClearColor=function(W){return W.copy(St.getClearColor())},this.setClearColor=function(){St.setClearColor.apply(St,arguments)},this.getClearAlpha=function(){return St.getClearAlpha()},this.setClearAlpha=function(){St.setClearAlpha.apply(St,arguments)},this.clear=function(W=!0,Ae=!0,Ve=!0){let je=0;if(W){let $e=!1;if(null!==B){const kt=B.texture.format;$e=1033===kt||1031===kt||1029===kt}if($e){const kt=B.texture.type,qt=kt===zc||kt===Hc||1012===kt||kt===Wl||1017===kt||1018===kt,rn=St.getClearColor(),dn=St.getClearAlpha(),Mn=rn.r,_n=rn.g,vn=rn.b;qt?(f[0]=Mn,f[1]=_n,f[2]=vn,f[3]=dn,q.clearBufferuiv(q.COLOR,0,f)):(m[0]=Mn,m[1]=_n,m[2]=vn,m[3]=dn,q.clearBufferiv(q.COLOR,0,m))}else je|=q.COLOR_BUFFER_BIT}Ae&&(je|=q.DEPTH_BUFFER_BIT),Ve&&(je|=q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),q.clear(je)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Pn,!1),e.removeEventListener("webglcontextrestored",be,!1),e.removeEventListener("webglcontextcreationerror",wt,!1),it.dispose(),ut.dispose(),Y.dispose(),pt.dispose(),Yt.dispose(),z.dispose(),Xt.dispose(),Qt.dispose(),Ie.dispose(),Ft.dispose(),Ft.removeEventListener("sessionstart",ms),Ft.removeEventListener("sessionend",fi),fe&&(fe.dispose(),fe=null),co.stop()},this.renderBufferDirect=function(W,Ae,Ve,je,$e,kt){null===Ae&&(Ae=bt);const qt=$e.isMesh&&$e.matrixWorld.determinant()<0,rn=function cCe(W,Ae,Ve,je,$e){!0!==Ae.isScene&&(Ae=bt),Qe.resetTextureUnits();const kt=Ae.fog,rn=null===B?x.outputColorSpace:!0===B.isXRRenderTarget?B.texture.colorSpace:$a,dn=(je.isMeshStandardMaterial?Yt:pt).get(je.envMap||(je.isMeshStandardMaterial?Ae.environment:null)),Mn=!0===je.vertexColors&&!!Ve.attributes.color&&4===Ve.attributes.color.itemSize,_n=!!Ve.attributes.tangent&&(!!je.normalMap||je.anisotropy>0),vn=!!Ve.morphAttributes.position,Vi=!!Ve.morphAttributes.normal,Vo=!!Ve.morphAttributes.color;let _r=Uc;je.toneMapped&&(null===B||!0===B.isXRRenderTarget)&&(_r=x.toneMapping);const oc=Ve.morphAttributes.position||Ve.morphAttributes.normal||Ve.morphAttributes.color,ki=void 0!==oc?oc.length:0,Rn=Y.get(je),lT=g.state.lights;!0!==Q||!0!==j&&W===N||Bt.setState(je,W,W===N&&je.id===$);let tr=!1;je.version===Rn.__version?(Rn.needsLights&&Rn.lightsStateVersion!==lT.state.version||Rn.outputColorSpace!==rn||$e.isInstancedMesh&&!1===Rn.instancing||!$e.isInstancedMesh&&!0===Rn.instancing||$e.isSkinnedMesh&&!1===Rn.skinning||!$e.isSkinnedMesh&&!0===Rn.skinning||$e.isInstancedMesh&&!0===Rn.instancingColor&&null===$e.instanceColor||$e.isInstancedMesh&&!1===Rn.instancingColor&&null!==$e.instanceColor||Rn.envMap!==dn||!0===je.fog&&Rn.fog!==kt||void 0!==Rn.numClippingPlanes&&(Rn.numClippingPlanes!==Bt.numPlanes||Rn.numIntersection!==Bt.numIntersection)||Rn.vertexAlphas!==Mn||Rn.vertexTangents!==_n||Rn.morphTargets!==vn||Rn.morphNormals!==Vi||Rn.morphColors!==Vo||Rn.toneMapping!==_r||!0===Ne.isWebGL2&&Rn.morphTargetsCount!==ki)&&(tr=!0):(tr=!0,Rn.__version=je.version);let Ed=Rn.currentProgram;!0===tr&&(Ed=F0(je,Ae,$e));let F8=!1,og=!1,dT=!1;const lo=Ed.getUniforms(),Ad=Rn.uniforms;if(we.useProgram(Ed.program)&&(F8=!0,og=!0,dT=!0),je.id!==$&&($=je.id,og=!0),F8||N!==W){lo.setValue(q,"projectionMatrix",W.projectionMatrix),lo.setValue(q,"viewMatrix",W.matrixWorldInverse);const zo=lo.map.cameraPosition;void 0!==zo&&zo.setValue(q,Re.setFromMatrixPosition(W.matrixWorld)),Ne.logarithmicDepthBuffer&&lo.setValue(q,"logDepthBufFC",2/(Math.log(W.far+1)/Math.LN2)),(je.isMeshPhongMaterial||je.isMeshToonMaterial||je.isMeshLambertMaterial||je.isMeshBasicMaterial||je.isMeshStandardMaterial||je.isShaderMaterial)&&lo.setValue(q,"isOrthographic",!0===W.isOrthographicCamera),N!==W&&(N=W,og=!0,dT=!0)}if($e.isSkinnedMesh){lo.setOptional(q,$e,"bindMatrix"),lo.setOptional(q,$e,"bindMatrixInverse");const zo=$e.skeleton;zo&&(Ne.floatVertexTextures?(null===zo.boneTexture&&zo.computeBoneTexture(),lo.setValue(q,"boneTexture",zo.boneTexture,Qe),lo.setValue(q,"boneTextureSize",zo.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const uT=Ve.morphAttributes;if((void 0!==uT.position||void 0!==uT.normal||void 0!==uT.color&&!0===Ne.isWebGL2)&&se.update($e,Ve,Ed),(og||Rn.receiveShadow!==$e.receiveShadow)&&(Rn.receiveShadow=$e.receiveShadow,lo.setValue(q,"receiveShadow",$e.receiveShadow)),je.isMeshGouraudMaterial&&null!==je.envMap&&(Ad.envMap.value=dn,Ad.flipEnvMap.value=dn.isCubeTexture&&!1===dn.isRenderTargetTexture?-1:1),og&&(lo.setValue(q,"toneMappingExposure",x.toneMappingExposure),Rn.needsLights&&function lCe(W,Ae){W.ambientLightColor.needsUpdate=Ae,W.lightProbe.needsUpdate=Ae,W.directionalLights.needsUpdate=Ae,W.directionalLightShadows.needsUpdate=Ae,W.pointLights.needsUpdate=Ae,W.pointLightShadows.needsUpdate=Ae,W.spotLights.needsUpdate=Ae,W.spotLightShadows.needsUpdate=Ae,W.rectAreaLights.needsUpdate=Ae,W.hemisphereLights.needsUpdate=Ae}(Ad,dT),kt&&!0===je.fog&&dt.refreshFogUniforms(Ad,kt),dt.refreshMaterialUniforms(Ad,je,ne,pe,fe),fy.upload(q,k8(Rn),Ad,Qe)),je.isShaderMaterial&&!0===je.uniformsNeedUpdate&&(fy.upload(q,k8(Rn),Ad,Qe),je.uniformsNeedUpdate=!1),je.isSpriteMaterial&&lo.setValue(q,"center",$e.center),lo.setValue(q,"modelViewMatrix",$e.modelViewMatrix),lo.setValue(q,"normalMatrix",$e.normalMatrix),lo.setValue(q,"modelMatrix",$e.matrixWorld),je.isShaderMaterial||je.isRawShaderMaterial){const zo=je.uniformsGroups;for(let hT=0,uCe=zo.length;hT<uCe;hT++)if(Ne.isWebGL2){const N8=zo[hT];Qt.update(N8,Ed),Qt.bind(N8,Ed)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ed}(W,Ae,Ve,je,$e);we.setMaterial(je,qt);let dn=Ve.index,Mn=1;if(!0===je.wireframe){if(dn=Z.getWireframeAttribute(Ve),void 0===dn)return;Mn=2}const _n=Ve.drawRange,vn=Ve.attributes.position;let Vi=_n.start*Mn,Vo=(_n.start+_n.count)*Mn;null!==kt&&(Vi=Math.max(Vi,kt.start*Mn),Vo=Math.min(Vo,(kt.start+kt.count)*Mn)),null!==dn?(Vi=Math.max(Vi,0),Vo=Math.min(Vo,dn.count)):null!=vn&&(Vi=Math.max(Vi,0),Vo=Math.min(Vo,vn.count));const _r=Vo-Vi;if(_r<0||_r===1/0)return;Xt.setup($e,je,rn,Ve,dn);let oc,ki=_t;if(null!==dn&&(oc=Gn.get(dn),ki=nt,ki.setIndex(oc)),$e.isMesh)!0===je.wireframe?(we.setLineWidth(je.wireframeLinewidth*rt()),ki.setMode(q.LINES)):ki.setMode(q.TRIANGLES);else if($e.isLine){let Rn=je.linewidth;void 0===Rn&&(Rn=1),we.setLineWidth(Rn*rt()),ki.setMode($e.isLineSegments?q.LINES:$e.isLineLoop?q.LINE_LOOP:q.LINE_STRIP)}else $e.isPoints?ki.setMode(q.POINTS):$e.isSprite&&ki.setMode(q.TRIANGLES);if($e.isInstancedMesh)ki.renderInstances(Vi,_r,$e.count);else if(Ve.isInstancedBufferGeometry){const lT=Math.min(Ve.instanceCount,void 0!==Ve._maxInstanceCount?Ve._maxInstanceCount:1/0);ki.renderInstances(Vi,_r,lT)}else ki.render(Vi,_r)},this.compile=function(W,Ae,Ve=null){null===Ve&&(Ve=W),g=ut.get(Ve),g.init(),y.push(g),Ve.traverseVisible(function($e){$e.isLight&&$e.layers.test(Ae.layers)&&(g.pushLight($e),$e.castShadow&&g.pushShadow($e))}),W!==Ve&&W.traverseVisible(function($e){$e.isLight&&$e.layers.test(Ae.layers)&&(g.pushLight($e),$e.castShadow&&g.pushShadow($e))}),g.setupLights(x._useLegacyLights);const je=new Set;return W.traverse(function($e){const kt=$e.material;if(kt)if(Array.isArray(kt))for(let qt=0;qt<kt.length;qt++){const rn=kt[qt];Kt(rn,Ve,$e),je.add(rn)}else Kt(kt,Ve,$e),je.add(kt)}),y.pop(),g=null,je},this.compileAsync=function(W,Ae,Ve=null){const je=this.compile(W,Ae,Ve);return new Promise($e=>{function kt(){je.forEach(function(qt){Y.get(qt).currentProgram.isReady()&&je.delete(qt)}),0!==je.size?setTimeout(kt,10):$e(W)}null!==de.get("KHR_parallel_shader_compile")?kt():setTimeout(kt,10)})};let On=null;function ms(){co.stop()}function fi(){co.start()}const co=new k4;function pa(W,Ae,Ve,je){if(!1===W.visible)return;if(W.layers.test(Ae.layers))if(W.isGroup)Ve=W.renderOrder;else if(W.isLOD)!0===W.autoUpdate&&W.update(Ae);else if(W.isLight)g.pushLight(W),W.castShadow&&g.pushShadow(W);else if(W.isSprite){if(!W.frustumCulled||ce.intersectsSprite(W)){je&&Re.setFromMatrixPosition(W.matrixWorld).applyMatrix4(K);const qt=z.update(W),rn=W.material;rn.visible&&v.push(W,qt,rn,Ve,Re.z,null)}}else if((W.isMesh||W.isLine||W.isPoints)&&(!W.frustumCulled||ce.intersectsObject(W))){const qt=z.update(W),rn=W.material;if(je&&(void 0!==W.boundingSphere?(null===W.boundingSphere&&W.computeBoundingSphere(),Re.copy(W.boundingSphere.center)):(null===qt.boundingSphere&&qt.computeBoundingSphere(),Re.copy(qt.boundingSphere.center)),Re.applyMatrix4(W.matrixWorld).applyMatrix4(K)),Array.isArray(rn)){const dn=qt.groups;for(let Mn=0,_n=dn.length;Mn<_n;Mn++){const vn=dn[Mn],Vi=rn[vn.materialIndex];Vi&&Vi.visible&&v.push(W,qt,Vi,Ve,Re.z,vn)}}else rn.visible&&v.push(W,qt,rn,Ve,Re.z,null)}const kt=W.children;for(let qt=0,rn=kt.length;qt<rn;qt++)pa(kt[qt],Ae,Ve,je)}function O8(W,Ae,Ve,je){const $e=W.opaque,kt=W.transmissive,qt=W.transparent;g.setupLightsView(Ve),!0===Q&&Bt.setGlobalState(x.clippingPlanes,Ve),kt.length>0&&function aCe(W,Ae,Ve,je){if(null!==(!0===Ve.isScene?Ve.overrideMaterial:null))return;const kt=Ne.isWebGL2;null===fe&&(fe=new Is(1,1,{generateMipmaps:!0,type:de.has("EXT_color_buffer_half_float")?Wa:zc,minFilter:jl,samples:kt?4:0})),x.getDrawingBufferSize(Ye),kt?fe.setSize(Ye.x,Ye.y):fe.setSize(zv(Ye.x),zv(Ye.y));const qt=x.getRenderTarget();x.setRenderTarget(fe),x.getClearColor(Be),ee=x.getClearAlpha(),ee<1&&x.setClearColor(16777215,.5),x.clear();const rn=x.toneMapping;x.toneMapping=Uc,L0(W,Ve,je),Qe.updateMultisampleRenderTarget(fe),Qe.updateRenderTargetMipmap(fe);let dn=!1;for(let Mn=0,_n=Ae.length;Mn<_n;Mn++){const vn=Ae[Mn],Vi=vn.object,Vo=vn.geometry,_r=vn.material,oc=vn.group;if(2===_r.side&&Vi.layers.test(je.layers)){const ki=_r.side;_r.side=1,_r.needsUpdate=!0,R8(Vi,Ve,je,Vo,_r,oc),_r.side=ki,_r.needsUpdate=!0,dn=!0}}!0===dn&&(Qe.updateMultisampleRenderTarget(fe),Qe.updateRenderTargetMipmap(fe)),x.setRenderTarget(qt),x.setClearColor(Be,ee),x.toneMapping=rn}($e,kt,Ae,Ve),je&&we.viewport(H.copy(je)),$e.length>0&&L0($e,Ae,Ve),kt.length>0&&L0(kt,Ae,Ve),qt.length>0&&L0(qt,Ae,Ve),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function L0(W,Ae,Ve){const je=!0===Ae.isScene?Ae.overrideMaterial:null;for(let $e=0,kt=W.length;$e<kt;$e++){const qt=W[$e],rn=qt.object,dn=qt.geometry,Mn=null===je?qt.material:je,_n=qt.group;rn.layers.test(Ve.layers)&&R8(rn,Ae,Ve,dn,Mn,_n)}}function R8(W,Ae,Ve,je,$e,kt){W.onBeforeRender(x,Ae,Ve,je,$e,kt),W.modelViewMatrix.multiplyMatrices(Ve.matrixWorldInverse,W.matrixWorld),W.normalMatrix.getNormalMatrix(W.modelViewMatrix),$e.onBeforeRender(x,Ae,Ve,je,W,kt),!0===$e.transparent&&2===$e.side&&!1===$e.forceSinglePass?($e.side=1,$e.needsUpdate=!0,x.renderBufferDirect(Ve,Ae,je,$e,W,kt),$e.side=0,$e.needsUpdate=!0,x.renderBufferDirect(Ve,Ae,je,$e,W,kt),$e.side=2):x.renderBufferDirect(Ve,Ae,je,$e,W,kt),W.onAfterRender(x,Ae,Ve,je,$e,kt)}function F0(W,Ae,Ve){!0!==Ae.isScene&&(Ae=bt);const je=Y.get(W),$e=g.state.lights,qt=$e.state.version,rn=Ie.getParameters(W,$e.state,g.state.shadowsArray,Ae,Ve),dn=Ie.getProgramCacheKey(rn);let Mn=je.programs;je.environment=W.isMeshStandardMaterial?Ae.environment:null,je.fog=Ae.fog,je.envMap=(W.isMeshStandardMaterial?Yt:pt).get(W.envMap||je.environment),void 0===Mn&&(W.addEventListener("dispose",ct),Mn=new Map,je.programs=Mn);let _n=Mn.get(dn);if(void 0!==_n){if(je.currentProgram===_n&&je.lightsStateVersion===qt)return L8(W,rn),_n}else rn.uniforms=Ie.getUniforms(W),W.onBuild(Ve,rn,x),W.onBeforeCompile(rn,x),_n=Ie.acquireProgram(rn,dn),Mn.set(dn,_n),je.uniforms=rn.uniforms;const vn=je.uniforms;return(!W.isShaderMaterial&&!W.isRawShaderMaterial||!0===W.clipping)&&(vn.clippingPlanes=Bt.uniform),L8(W,rn),je.needsLights=function dCe(W){return W.isMeshLambertMaterial||W.isMeshToonMaterial||W.isMeshPhongMaterial||W.isMeshStandardMaterial||W.isShadowMaterial||W.isShaderMaterial&&!0===W.lights}(W),je.lightsStateVersion=qt,je.needsLights&&(vn.ambientLightColor.value=$e.state.ambient,vn.lightProbe.value=$e.state.probe,vn.directionalLights.value=$e.state.directional,vn.directionalLightShadows.value=$e.state.directionalShadow,vn.spotLights.value=$e.state.spot,vn.spotLightShadows.value=$e.state.spotShadow,vn.rectAreaLights.value=$e.state.rectArea,vn.ltc_1.value=$e.state.rectAreaLTC1,vn.ltc_2.value=$e.state.rectAreaLTC2,vn.pointLights.value=$e.state.point,vn.pointLightShadows.value=$e.state.pointShadow,vn.hemisphereLights.value=$e.state.hemi,vn.directionalShadowMap.value=$e.state.directionalShadowMap,vn.directionalShadowMatrix.value=$e.state.directionalShadowMatrix,vn.spotShadowMap.value=$e.state.spotShadowMap,vn.spotLightMatrix.value=$e.state.spotLightMatrix,vn.spotLightMap.value=$e.state.spotLightMap,vn.pointShadowMap.value=$e.state.pointShadowMap,vn.pointShadowMatrix.value=$e.state.pointShadowMatrix),je.currentProgram=_n,je.uniformsList=null,_n}function k8(W){if(null===W.uniformsList){const Ae=W.currentProgram.getUniforms();W.uniformsList=fy.seqWithValue(Ae.seq,W.uniforms)}return W.uniformsList}function L8(W,Ae){const Ve=Y.get(W);Ve.outputColorSpace=Ae.outputColorSpace,Ve.instancing=Ae.instancing,Ve.instancingColor=Ae.instancingColor,Ve.skinning=Ae.skinning,Ve.morphTargets=Ae.morphTargets,Ve.morphNormals=Ae.morphNormals,Ve.morphColors=Ae.morphColors,Ve.morphTargetsCount=Ae.morphTargetsCount,Ve.numClippingPlanes=Ae.numClippingPlanes,Ve.numIntersection=Ae.numClipIntersection,Ve.vertexAlphas=Ae.vertexAlphas,Ve.vertexTangents=Ae.vertexTangents,Ve.toneMapping=Ae.toneMapping}co.setAnimationLoop(function er(W){On&&On(W)}),typeof self<"u"&&co.setContext(self),this.setAnimationLoop=function(W){On=W,Ft.setAnimationLoop(W),null===W?co.stop():co.start()},Ft.addEventListener("sessionstart",ms),Ft.addEventListener("sessionend",fi),this.render=function(W,Ae){if(void 0===Ae||!0===Ae.isCamera){if(!0!==E){if(!0===W.matrixWorldAutoUpdate&&W.updateMatrixWorld(),null===Ae.parent&&!0===Ae.matrixWorldAutoUpdate&&Ae.updateMatrixWorld(),!0===Ft.enabled&&!0===Ft.isPresenting&&(!0===Ft.cameraAutoUpdate&&Ft.updateCamera(Ae),Ae=Ft.getCamera()),!0===W.isScene&&W.onBeforeRender(x,W,Ae,B),g=ut.get(W,y.length),g.init(),y.push(g),K.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),ce.setFromProjectionMatrix(K),j=this.localClippingEnabled,Q=Bt.init(this.clippingPlanes,j),v=it.get(W,b.length),v.init(),b.push(v),pa(W,Ae,0,x.sortObjects),v.finish(),!0===x.sortObjects&&v.sort(te,Ce),this.info.render.frame++,!0===Q&&Bt.beginShadows(),gt.render(g.state.shadowsArray,W,Ae),!0===Q&&Bt.endShadows(),!0===this.info.autoReset&&this.info.reset(),St.render(v,W),g.setupLights(x._useLegacyLights),Ae.isArrayCamera){const je=Ae.cameras;for(let $e=0,kt=je.length;$e<kt;$e++){const qt=je[$e];O8(v,W,qt,qt.viewport)}}else O8(v,W,Ae);null!==B&&(Qe.updateMultisampleRenderTarget(B),Qe.updateRenderTargetMipmap(B)),!0===W.isScene&&W.onAfterRender(x,W,Ae),Xt.resetDefaultState(),$=-1,N=null,y.pop(),g=y.length>0?y[y.length-1]:null,b.pop(),v=b.length>0?b[b.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return O},this.getActiveMipmapLevel=function(){return R},this.getRenderTarget=function(){return B},this.setRenderTargetTextures=function(W,Ae,Ve){Y.get(W.texture).__webglTexture=Ae,Y.get(W.depthTexture).__webglTexture=Ve;const je=Y.get(W);je.__hasExternalTextures=!0,je.__hasExternalTextures&&(je.__autoAllocateDepthBuffer=void 0===Ve,je.__autoAllocateDepthBuffer||!0===de.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),je.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(W,Ae){const Ve=Y.get(W);Ve.__webglFramebuffer=Ae,Ve.__useDefaultFramebuffer=void 0===Ae},this.setRenderTarget=function(W,Ae=0,Ve=0){B=W,O=Ae,R=Ve;let je=!0,$e=null,kt=!1,qt=!1;if(W){const dn=Y.get(W);void 0!==dn.__useDefaultFramebuffer?(we.bindFramebuffer(q.FRAMEBUFFER,null),je=!1):void 0===dn.__webglFramebuffer?Qe.setupRenderTarget(W):dn.__hasExternalTextures&&Qe.rebindTextures(W,Y.get(W.texture).__webglTexture,Y.get(W.depthTexture).__webglTexture);const Mn=W.texture;(Mn.isData3DTexture||Mn.isDataArrayTexture||Mn.isCompressedArrayTexture)&&(qt=!0);const _n=Y.get(W).__webglFramebuffer;W.isWebGLCubeRenderTarget?($e=Array.isArray(_n[Ae])?_n[Ae][Ve]:_n[Ae],kt=!0):$e=Ne.isWebGL2&&W.samples>0&&!1===Qe.useMultisampledRTT(W)?Y.get(W).__webglMultisampledFramebuffer:Array.isArray(_n)?_n[Ve]:_n,H.copy(W.viewport),ge.copy(W.scissor),_e=W.scissorTest}else H.copy(Pe).multiplyScalar(ne).floor(),ge.copy(ue).multiplyScalar(ne).floor(),_e=Ue;if(we.bindFramebuffer(q.FRAMEBUFFER,$e)&&Ne.drawBuffers&&je&&we.drawBuffers(W,$e),we.viewport(H),we.scissor(ge),we.setScissorTest(_e),kt){const dn=Y.get(W.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,dn.__webglTexture,Ve)}else if(qt){const dn=Y.get(W.texture);q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,dn.__webglTexture,Ve||0,Ae||0)}$=-1},this.readRenderTargetPixels=function(W,Ae,Ve,je,$e,kt,qt){if(!W||!W.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let rn=Y.get(W).__webglFramebuffer;if(W.isWebGLCubeRenderTarget&&void 0!==qt&&(rn=rn[qt]),rn){we.bindFramebuffer(q.FRAMEBUFFER,rn);try{const dn=W.texture,Mn=dn.format,_n=dn.type;if(Mn!==ns&&nn.convert(Mn)!==q.getParameter(q.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const vn=_n===Wa&&(de.has("EXT_color_buffer_half_float")||Ne.isWebGL2&&de.has("EXT_color_buffer_float"));if(!(_n===zc||nn.convert(_n)===q.getParameter(q.IMPLEMENTATION_COLOR_READ_TYPE)||_n===ja&&(Ne.isWebGL2||de.has("OES_texture_float")||de.has("WEBGL_color_buffer_float"))||vn))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Ae>=0&&Ae<=W.width-je&&Ve>=0&&Ve<=W.height-$e&&q.readPixels(Ae,Ve,je,$e,nn.convert(Mn),nn.convert(_n),kt)}finally{const dn=null!==B?Y.get(B).__webglFramebuffer:null;we.bindFramebuffer(q.FRAMEBUFFER,dn)}}},this.copyFramebufferToTexture=function(W,Ae,Ve=0){const je=Math.pow(2,-Ve),$e=Math.floor(Ae.image.width*je),kt=Math.floor(Ae.image.height*je);Qe.setTexture2D(Ae,0),q.copyTexSubImage2D(q.TEXTURE_2D,Ve,0,0,W.x,W.y,$e,kt),we.unbindTexture()},this.copyTextureToTexture=function(W,Ae,Ve,je=0){const $e=Ae.image.width,kt=Ae.image.height,qt=nn.convert(Ve.format),rn=nn.convert(Ve.type);Qe.setTexture2D(Ve,0),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,Ve.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ve.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,Ve.unpackAlignment),Ae.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,je,W.x,W.y,$e,kt,qt,rn,Ae.image.data):Ae.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,je,W.x,W.y,Ae.mipmaps[0].width,Ae.mipmaps[0].height,qt,Ae.mipmaps[0].data):q.texSubImage2D(q.TEXTURE_2D,je,W.x,W.y,qt,rn,Ae.image),0===je&&Ve.generateMipmaps&&q.generateMipmap(q.TEXTURE_2D),we.unbindTexture()},this.copyTextureToTexture3D=function(W,Ae,Ve,je,$e=0){if(x.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const kt=W.max.x-W.min.x+1,qt=W.max.y-W.min.y+1,rn=W.max.z-W.min.z+1,dn=nn.convert(je.format),Mn=nn.convert(je.type);let _n;if(je.isData3DTexture)Qe.setTexture3D(je,0),_n=q.TEXTURE_3D;else{if(!je.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Qe.setTexture2DArray(je,0),_n=q.TEXTURE_2D_ARRAY}q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,je.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,je.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,je.unpackAlignment);const vn=q.getParameter(q.UNPACK_ROW_LENGTH),Vi=q.getParameter(q.UNPACK_IMAGE_HEIGHT),Vo=q.getParameter(q.UNPACK_SKIP_PIXELS),_r=q.getParameter(q.UNPACK_SKIP_ROWS),oc=q.getParameter(q.UNPACK_SKIP_IMAGES),ki=Ve.isCompressedTexture?Ve.mipmaps[0]:Ve.image;q.pixelStorei(q.UNPACK_ROW_LENGTH,ki.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,ki.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,W.min.x),q.pixelStorei(q.UNPACK_SKIP_ROWS,W.min.y),q.pixelStorei(q.UNPACK_SKIP_IMAGES,W.min.z),Ve.isDataTexture||Ve.isData3DTexture?q.texSubImage3D(_n,$e,Ae.x,Ae.y,Ae.z,kt,qt,rn,dn,Mn,ki.data):Ve.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),q.compressedTexSubImage3D(_n,$e,Ae.x,Ae.y,Ae.z,kt,qt,rn,dn,ki.data)):q.texSubImage3D(_n,$e,Ae.x,Ae.y,Ae.z,kt,qt,rn,dn,Mn,ki),q.pixelStorei(q.UNPACK_ROW_LENGTH,vn),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Vi),q.pixelStorei(q.UNPACK_SKIP_PIXELS,Vo),q.pixelStorei(q.UNPACK_SKIP_ROWS,_r),q.pixelStorei(q.UNPACK_SKIP_IMAGES,oc),0===$e&&je.generateMipmaps&&q.generateMipmap(_n),we.unbindTexture()},this.initTexture=function(W){W.isCubeTexture?Qe.setTextureCube(W,0):W.isData3DTexture?Qe.setTexture3D(W,0):W.isDataArrayTexture||W.isCompressedArrayTexture?Qe.setTexture2DArray(W,0):Qe.setTexture2D(W,0),we.unbindTexture()},this.resetState=function(){O=0,R=0,B=null,we.reset(),Xt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ya}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=t===AE?"display-p3":"srgb",e.unpackColorSpace=ni.workingColorSpace===Lv?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(t){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!t}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===ar?Yl:3e3}set outputEncoding(t){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=t===Yl?ar:$a}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(t){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=t}}(class bge extends lU{}).prototype.isWebGL1Renderer=!0;class dU extends pr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e}}class c1{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Fo()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let r=0,o=this.stride;r<o;r++)this.array[t+r]=e.array[i+r];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Fo()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Fo()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const oo=new G;class as{constructor(t,e,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)oo.fromBufferAttribute(this,e),oo.applyMatrix4(t),this.setXYZ(e,oo.x,oo.y,oo.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)oo.fromBufferAttribute(this,e),oo.applyNormalMatrix(t),this.setXYZ(e,oo.x,oo.y,oo.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)oo.fromBufferAttribute(this,e),oo.transformDirection(t),this.setXYZ(e,oo.x,oo.y,oo.z);return this}setX(t,e){return this.normalized&&(e=bn(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=bn(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=bn(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=bn(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=yo(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=yo(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=yo(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=yo(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=bn(e,this.array),i=bn(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=bn(e,this.array),i=bn(i,this.array),r=bn(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this}setXYZW(t,e,i,r,o){return t=t*this.data.stride+this.offset,this.normalized&&(e=bn(e,this.array),i=bn(i,this.array),r=bn(r,this.array),o=bn(o,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=r,this.data.array[t+3]=o,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)e.push(this.data.array[r+o])}return new mr(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new as(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)e.push(this.data.array[r+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Gr extends ks{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new xt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const SU=new G,EU=new G,AU=new pn,f1=new ph,yy=new rs;class Dm extends pr{constructor(t=new gn,e=new Gr){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,i=[0];for(let r=1,o=e.count;r<o;r++)SU.fromBufferAttribute(e,r-1),EU.fromBufferAttribute(e,r),i[r]=i[r-1],i[r]+=SU.distanceTo(EU);t.setAttribute("lineDistance",new Tt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,o=t.params.Line.threshold,s=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),yy.copy(i.boundingSphere),yy.applyMatrix4(r),yy.radius+=o,!1===t.ray.intersectsSphere(yy))return;AU.copy(r).invert(),f1.copy(t.ray).applyMatrix4(AU);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,l=new G,d=new G,u=new G,h=new G,f=this.isLineSegments?2:1,m=i.index,g=i.attributes.position;if(null!==m)for(let x=Math.max(0,s.start),E=Math.min(m.count,s.start+s.count)-1;x<E;x+=f){const O=m.getX(x),R=m.getX(x+1);if(l.fromBufferAttribute(g,O),d.fromBufferAttribute(g,R),f1.distanceSqToSegment(l,d,h,u)>c)continue;h.applyMatrix4(this.matrixWorld);const $=t.ray.origin.distanceTo(h);$<t.near||$>t.far||e.push({distance:$,point:u.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}else for(let x=Math.max(0,s.start),E=Math.min(g.count,s.start+s.count)-1;x<E;x+=f){if(l.fromBufferAttribute(g,x),d.fromBufferAttribute(g,x+1),f1.distanceSqToSegment(l,d,h,u)>c)continue;h.applyMatrix4(this.matrixWorld);const R=t.ray.origin.distanceTo(h);R<t.near||R>t.far||e.push({distance:R,point:u.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}const TU=new G,DU=new G;class xy extends Dm{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,i=[];for(let r=0,o=e.count;r<o;r+=2)TU.fromBufferAttribute(e,r),DU.fromBufferAttribute(e,r+1),i[r]=0===r?0:i[r-1],i[r+1]=i[r]+TU.distanceTo(DU);t.setAttribute("lineDistance",new Tt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Lh extends ks{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new xt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const IU=new pn,p1=new ph,wy=new rs,Cy=new G;class My extends pr{constructor(t=new gn,e=new Lh){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,r=this.matrixWorld,o=t.params.Points.threshold,s=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),wy.copy(i.boundingSphere),wy.applyMatrix4(r),wy.radius+=o,!1===t.ray.intersectsSphere(wy))return;IU.copy(r).invert(),p1.copy(t.ray).applyMatrix4(IU);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,l=i.index,u=i.attributes.position;if(null!==l)for(let m=Math.max(0,s.start),v=Math.min(l.count,s.start+s.count);m<v;m++){const g=l.getX(m);Cy.fromBufferAttribute(u,g),PU(Cy,g,c,r,t,e,this)}else for(let m=Math.max(0,s.start),v=Math.min(u.count,s.start+s.count);m<v;m++)Cy.fromBufferAttribute(u,m),PU(Cy,m,c,r,t,e,this)}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function PU(n,t,e,i,r,o,s){const a=p1.distanceSqToPoint(n);if(a<e){const c=new G;p1.closestPointToPoint(n,c),c.applyMatrix4(i);const l=r.ray.origin.distanceTo(c);if(l<r.near||l>r.far)return;o.push({distance:l,distanceToRay:Math.sqrt(a),point:c,index:t,face:null,object:s})}}class Age extends Xa{constructor(t,e,i,r,o,s,a,c,l){super(t,e,i,r,o,s,a,c,l),this.isVideoTexture=!0,this.minFilter=void 0!==s?s:Ki,this.magFilter=void 0!==o?o:Ki,this.generateMipmaps=!1;const d=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function u(){d.needsUpdate=!0,t.requestVideoFrameCallback(u)})}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t==0&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class sa{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,r=this.getPoint(0),o=0;e.push(0);for(let s=1;s<=t;s++)i=this.getPoint(s/t),o+=i.distanceTo(r),e.push(o),r=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const i=this.getLengths();let r=0;const o=i.length;let s;s=e||t*i[o-1];let l,a=0,c=o-1;for(;a<=c;)if(r=Math.floor(a+(c-a)/2),l=i[r]-s,l<0)a=r+1;else{if(!(l>0)){c=r;break}c=r-1}if(r=c,i[r]===s)return r/(o-1);const d=i[r];return(r+(s-d)/(i[r+1]-d))/(o-1)}getTangent(t,e){let r=t-1e-4,o=t+1e-4;r<0&&(r=0),o>1&&(o=1);const s=this.getPoint(r),a=this.getPoint(o),c=e||(s.isVector2?new Ee:new G);return c.copy(a).sub(s).normalize(),c}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e){const i=new G,r=[],o=[],s=[],a=new G,c=new pn;for(let f=0;f<=t;f++)r[f]=this.getTangentAt(f/t,new G);o[0]=new G,s[0]=new G;let l=Number.MAX_VALUE;const d=Math.abs(r[0].x),u=Math.abs(r[0].y),h=Math.abs(r[0].z);d<=l&&(l=d,i.set(1,0,0)),u<=l&&(l=u,i.set(0,1,0)),h<=l&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),o[0].crossVectors(r[0],a),s[0].crossVectors(r[0],o[0]);for(let f=1;f<=t;f++){if(o[f]=o[f-1].clone(),s[f]=s[f-1].clone(),a.crossVectors(r[f-1],r[f]),a.length()>Number.EPSILON){a.normalize();const m=Math.acos(Pi(r[f-1].dot(r[f]),-1,1));o[f].applyMatrix4(c.makeRotationAxis(a,m))}s[f].crossVectors(r[f],o[f])}if(!0===e){let f=Math.acos(Pi(o[0].dot(o[t]),-1,1));f/=t,r[0].dot(a.crossVectors(o[0],o[t]))>0&&(f=-f);for(let m=1;m<=t;m++)o[m].applyMatrix4(c.makeRotationAxis(r[m],f*m)),s[m].crossVectors(r[m],o[m])}return{tangents:r,normals:o,binormals:s}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class m1 extends sa{constructor(t=0,e=0,i=1,r=1,o=0,s=2*Math.PI,a=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=c}getPoint(t,e){const i=e||new Ee,r=2*Math.PI;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(o=s?0:r),!0===this.aClockwise&&!s&&(o===r?o=-r:o-=r);const a=this.aStartAngle+t*o;let c=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const d=Math.cos(this.aRotation),u=Math.sin(this.aRotation),h=c-this.aX,f=l-this.aY;c=h*d-f*u+this.aX,l=h*u+f*d+this.aY}return i.set(c,l)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}function g1(){let n=0,t=0,e=0,i=0;function r(o,s,a,c){n=o,t=a,e=-3*o+3*s-2*a-c,i=2*o-2*s+a+c}return{initCatmullRom:function(o,s,a,c,l){r(s,a,l*(a-o),l*(c-s))},initNonuniformCatmullRom:function(o,s,a,c,l,d,u){let h=(s-o)/l-(a-o)/(l+d)+(a-s)/d,f=(a-s)/d-(c-s)/(d+u)+(c-a)/u;h*=d,f*=d,r(s,a,h,f)},calc:function(o){const s=o*o;return n+t*o+e*s+i*(s*o)}}}const Sy=new G,_1=new g1,b1=new g1,v1=new g1;function OU(n,t,e,i,r){const o=.5*(i-t),s=.5*(r-e),a=n*n;return(2*e-2*i+o+s)*(n*a)+(-3*e+3*i-2*o-s)*a+o*n+e}function Im(n,t,e,i){return function Pge(n,t){const e=1-n;return e*e*t}(n,t)+function Oge(n,t){return 2*(1-n)*n*t}(n,e)+function Rge(n,t){return n*n*t}(n,i)}function Pm(n,t,e,i,r){return function kge(n,t){const e=1-n;return e*e*e*t}(n,t)+function Lge(n,t){const e=1-n;return 3*e*e*n*t}(n,e)+function Fge(n,t){return 3*(1-n)*n*n*t}(n,i)+function Nge(n,t){return n*n*n*t}(n,r)}class RU extends sa{constructor(t=new Ee,e=new Ee,i=new Ee,r=new Ee){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new Ee){const i=e,r=this.v0,o=this.v1,s=this.v2,a=this.v3;return i.set(Pm(t,r.x,o.x,s.x,a.x),Pm(t,r.y,o.y,s.y,a.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class kU extends sa{constructor(t=new Ee,e=new Ee){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Ee){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Ee){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class LU extends sa{constructor(t=new Ee,e=new Ee,i=new Ee){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new Ee){const i=e,r=this.v0,o=this.v1,s=this.v2;return i.set(Im(t,r.x,o.x,s.x),Im(t,r.y,o.y,s.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class NU extends sa{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new Ee){const i=e,r=this.points,o=(r.length-1)*t,s=Math.floor(o),a=o-s,c=r[0===s?s:s-1],l=r[s],d=r[s>r.length-2?r.length-1:s+1],u=r[s>r.length-3?r.length-1:s+2];return i.set(OU(a,c.x,l.x,d.x,u.x),OU(a,c.y,l.y,d.y,u.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++)this.points.push(t.points[e].clone());return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++)t.points.push(this.points[e].toArray());return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push((new Ee).fromArray(r))}return this}}var Ey=Object.freeze({__proto__:null,ArcCurve:class Dge extends m1{constructor(t,e,i,r,o,s){super(t,e,i,i,r,o,s),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:class Ige extends sa{constructor(t=[],e=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=r}getPoint(t,e=new G){const i=e,r=this.points,o=r.length,s=(o-(this.closed?0:1))*t;let l,d,a=Math.floor(s),c=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:0===c&&a===o-1&&(a=o-2,c=1),this.closed||a>0?l=r[(a-1)%o]:(Sy.subVectors(r[0],r[1]).add(r[0]),l=Sy);const u=r[a%o],h=r[(a+1)%o];if(this.closed||a+2<o?d=r[(a+2)%o]:(Sy.subVectors(r[o-1],r[o-2]).add(r[o-1]),d=Sy),"centripetal"===this.curveType||"chordal"===this.curveType){const f="chordal"===this.curveType?.5:.25;let m=Math.pow(l.distanceToSquared(u),f),v=Math.pow(u.distanceToSquared(h),f),g=Math.pow(h.distanceToSquared(d),f);v<1e-4&&(v=1),m<1e-4&&(m=v),g<1e-4&&(g=v),_1.initNonuniformCatmullRom(l.x,u.x,h.x,d.x,m,v,g),b1.initNonuniformCatmullRom(l.y,u.y,h.y,d.y,m,v,g),v1.initNonuniformCatmullRom(l.z,u.z,h.z,d.z,m,v,g)}else"catmullrom"===this.curveType&&(_1.initCatmullRom(l.x,u.x,h.x,d.x,this.tension),b1.initCatmullRom(l.y,u.y,h.y,d.y,this.tension),v1.initCatmullRom(l.z,u.z,h.z,d.z,this.tension));return i.set(_1.calc(c),b1.calc(c),v1.calc(c)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const r=t.points[e];this.points.push((new G).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}},CubicBezierCurve:RU,CubicBezierCurve3:class Bge extends sa{constructor(t=new G,e=new G,i=new G,r=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=r}getPoint(t,e=new G){const i=e,r=this.v0,o=this.v1,s=this.v2,a=this.v3;return i.set(Pm(t,r.x,o.x,s.x,a.x),Pm(t,r.y,o.y,s.y,a.y),Pm(t,r.z,o.z,s.z,a.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}},EllipseCurve:m1,LineCurve:kU,LineCurve3:class Uge extends sa{constructor(t=new G,e=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new G){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new G){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},QuadraticBezierCurve:LU,QuadraticBezierCurve3:class FU extends sa{constructor(t=new G,e=new G,i=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new G){const i=e,r=this.v0,o=this.v1,s=this.v2;return i.set(Im(t,r.x,o.x,s.x),Im(t,r.y,o.y,s.y),Im(t,r.z,o.z,s.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},SplineCurve:NU});class Vge extends sa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);return t.equals(e)||this.curves.push(new Ey[!0===t.isVector2?"LineCurve":"LineCurve3"](e,t)),this}getPoint(t,e){const i=t*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=i){const s=r[o]-i,a=this.curves[o],c=a.getLength();return a.getPointAt(0===c?0:1-s/c,e)}o++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,r=this.curves.length;i<r;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let r=0,o=this.curves;r<o.length;r++){const s=o[r],c=s.getPoints(s.isEllipseCurve?2*t:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?t*s.points.length:t);for(let l=0;l<c.length;l++){const d=c[l];i&&i.equals(d)||(e.push(d),i=d)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++)t.curves.push(this.curves[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const r=t.curves[e];this.curves.push((new Ey[r.type]).fromJSON(r))}return this}}class od extends Vge{constructor(t){super(),this.type="Path",this.currentPoint=new Ee,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new kU(this.currentPoint.clone(),new Ee(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,r){const o=new LU(this.currentPoint.clone(),new Ee(t,e),new Ee(i,r));return this.curves.push(o),this.currentPoint.set(i,r),this}bezierCurveTo(t,e,i,r,o,s){const a=new RU(this.currentPoint.clone(),new Ee(t,e),new Ee(i,r),new Ee(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new NU(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,r,o,s){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,i,r,o,s),this}absarc(t,e,i,r,o,s){return this.absellipse(t,e,i,i,r,o,s),this}ellipse(t,e,i,r,o,s,a,c){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,i,r,o,s,a,c),this}absellipse(t,e,i,r,o,s,a,c){const l=new m1(t,e,i,r,o,s,a,c);if(this.curves.length>0){const u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);const d=l.getPoint(1);return this.currentPoint.copy(d),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class Ty extends gn{constructor(t=1,e=32,i=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:r},e=Math.max(3,e);const o=[],s=[],a=[],c=[],l=new G,d=new Ee;s.push(0,0,0),a.push(0,0,1),c.push(.5,.5);for(let u=0,h=3;u<=e;u++,h+=3){const f=i+u/e*r;l.x=t*Math.cos(f),l.y=t*Math.sin(f),s.push(l.x,l.y,l.z),a.push(0,0,1),d.x=(s[h]/t+1)/2,d.y=(s[h+1]/t+1)/2,c.push(d.x,d.y)}for(let u=1;u<=e;u++)o.push(u,u+1,0);this.setIndex(o),this.setAttribute("position",new Tt(s,3)),this.setAttribute("normal",new Tt(a,3)),this.setAttribute("uv",new Tt(c,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Ty(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class Fh extends gn{constructor(t=1,e=1,i=1,r=32,o=1,s=!1,a=0,c=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:c};const l=this;r=Math.floor(r),o=Math.floor(o);const d=[],u=[],h=[],f=[];let m=0;const v=[],g=i/2;let b=0;function x(E){const O=m,R=new Ee,B=new G;let $=0;const N=!0===E?t:e,H=!0===E?1:-1;for(let _e=1;_e<=r;_e++)u.push(0,g*H,0),h.push(0,H,0),f.push(.5,.5),m++;const ge=m;for(let _e=0;_e<=r;_e++){const ee=_e/r*c+a,Me=Math.cos(ee),pe=Math.sin(ee);B.x=N*pe,B.y=g*H,B.z=N*Me,u.push(B.x,B.y,B.z),h.push(0,H,0),R.x=.5*Me+.5,R.y=.5*pe*H+.5,f.push(R.x,R.y),m++}for(let _e=0;_e<r;_e++){const Be=O+_e,ee=ge+_e;!0===E?d.push(ee,ee+1,Be):d.push(ee+1,ee,Be),$+=3}l.addGroup(b,$,!0===E?1:2),b+=$}(function y(){const E=new G,O=new G;let R=0;const B=(e-t)/i;for(let $=0;$<=o;$++){const N=[],H=$/o,ge=H*(e-t)+t;for(let _e=0;_e<=r;_e++){const Be=_e/r,ee=Be*c+a,Me=Math.sin(ee),pe=Math.cos(ee);O.x=ge*Me,O.y=-H*i+g,O.z=ge*pe,u.push(O.x,O.y,O.z),E.set(Me,B,pe).normalize(),h.push(E.x,E.y,E.z),f.push(Be,1-H),N.push(m++)}v.push(N)}for(let $=0;$<r;$++)for(let N=0;N<o;N++){const ge=v[N+1][$],_e=v[N+1][$+1],Be=v[N][$+1];d.push(v[N][$],ge,Be),d.push(ge,_e,Be),R+=6}l.addGroup(b,R,0),b+=R})(),!1===s&&(t>0&&x(!0),e>0&&x(!1)),this.setIndex(d),this.setAttribute("position",new Tt(u,3)),this.setAttribute("normal",new Tt(h,3)),this.setAttribute("uv",new Tt(f,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Fh(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class tc extends od{constructor(t){super(t),this.uuid=Fo(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,r=this.holes.length;i<r;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++)this.holes.push(t.holes[e].clone());return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++)t.holes.push(this.holes[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const r=t.holes[e];this.holes.push((new od).fromJSON(r))}return this}}function BU(n,t,e,i,r){let o,s;if(r===function r_e(n,t,e,i){let r=0;for(let o=t,s=e-i;o<e;o+=i)r+=(n[s]-n[o])*(n[o+1]+n[s+1]),s=o;return r}(n,t,e,i)>0)for(o=t;o<e;o+=i)s=zU(o,n[o],n[o+1],s);else for(o=e-i;o>=t;o-=i)s=zU(o,n[o],n[o+1],s);return s&&Oy(s,s.next)&&(km(s),s=s.next),s}function ad(n,t){if(!n)return n;t||(t=n);let i,e=n;do{if(i=!1,e.steiner||!Oy(e,e.next)&&0!==Si(e.prev,e,e.next))e=e.next;else{if(km(e),e=t=e.prev,e===e.next)break;i=!0}}while(i||e!==t);return t}function Om(n,t,e,i,r,o,s){if(!n)return;!s&&o&&function Qge(n,t,e,i){let r=n;do{0===r.z&&(r.z=M1(r.x,r.y,t,e,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,function Jge(n){let t,e,i,r,o,s,a,c,l=1;do{for(e=n,n=null,o=null,s=0;e;){for(s++,i=e,a=0,t=0;t<l&&(a++,i=i.nextZ,i);t++);for(c=l;a>0||c>0&&i;)0!==a&&(0===c||!i||e.z<=i.z)?(r=e,e=e.nextZ,a--):(r=i,i=i.nextZ,c--),o?o.nextZ=r:n=r,r.prevZ=o,o=r;e=i}o.nextZ=null,l*=2}while(s>1)}(r)}(n,i,r,o);let c,l,a=n;for(;n.prev!==n.next;)if(c=n.prev,l=n.next,o?jge(n,i,r,o):Gge(n))t.push(c.i/e|0),t.push(n.i/e|0),t.push(l.i/e|0),km(n),n=l.next,a=l.next;else if((n=l)===a){s?1===s?Om(n=Wge(ad(n),t,e),t,e,i,r,o,2):2===s&&$ge(n,t,e,i,r,o):Om(ad(n),t,e,i,r,o,1);break}}function Gge(n){const t=n.prev,e=n,i=n.next;if(Si(t,e,i)>=0)return!1;const r=t.x,o=e.x,s=i.x,a=t.y,c=e.y,l=i.y,d=r<o?r<s?r:s:o<s?o:s,u=a<c?a<l?a:l:c<l?c:l,h=r>o?r>s?r:s:o>s?o:s,f=a>c?a>l?a:l:c>l?c:l;let m=i.next;for(;m!==t;){if(m.x>=d&&m.x<=h&&m.y>=u&&m.y<=f&&Nh(r,a,o,c,s,l,m.x,m.y)&&Si(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function jge(n,t,e,i){const r=n.prev,o=n,s=n.next;if(Si(r,o,s)>=0)return!1;const a=r.x,c=o.x,l=s.x,d=r.y,u=o.y,h=s.y,f=a<c?a<l?a:l:c<l?c:l,m=d<u?d<h?d:h:u<h?u:h,v=a>c?a>l?a:l:c>l?c:l,g=d>u?d>h?d:h:u>h?u:h,b=M1(f,m,t,e,i),y=M1(v,g,t,e,i);let x=n.prevZ,E=n.nextZ;for(;x&&x.z>=b&&E&&E.z<=y;){if(x.x>=f&&x.x<=v&&x.y>=m&&x.y<=g&&x!==r&&x!==s&&Nh(a,d,c,u,l,h,x.x,x.y)&&Si(x.prev,x,x.next)>=0||(x=x.prevZ,E.x>=f&&E.x<=v&&E.y>=m&&E.y<=g&&E!==r&&E!==s&&Nh(a,d,c,u,l,h,E.x,E.y)&&Si(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;x&&x.z>=b;){if(x.x>=f&&x.x<=v&&x.y>=m&&x.y<=g&&x!==r&&x!==s&&Nh(a,d,c,u,l,h,x.x,x.y)&&Si(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;E&&E.z<=y;){if(E.x>=f&&E.x<=v&&E.y>=m&&E.y<=g&&E!==r&&E!==s&&Nh(a,d,c,u,l,h,E.x,E.y)&&Si(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function Wge(n,t,e){let i=n;do{const r=i.prev,o=i.next.next;!Oy(r,o)&&UU(r,i,i.next,o)&&Rm(r,o)&&Rm(o,r)&&(t.push(r.i/e|0),t.push(i.i/e|0),t.push(o.i/e|0),km(i),km(i.next),i=n=o),i=i.next}while(i!==n);return ad(i)}function $ge(n,t,e,i,r,o){let s=n;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&t_e(s,a)){let c=VU(s,a);return s=ad(s,s.next),c=ad(c,c.next),Om(s,t,e,i,r,o,0),void Om(c,t,e,i,r,o,0)}a=a.next}s=s.next}while(s!==n)}function Xge(n,t){return n.x-t.x}function qge(n,t){const e=function Zge(n,t){let r,e=t,i=-1/0;const o=n.x,s=n.y;do{if(s<=e.y&&s>=e.next.y&&e.next.y!==e.y){const h=e.x+(s-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(h<=o&&h>i&&(i=h,r=e.x<e.next.x?e:e.next,h===o))return r}e=e.next}while(e!==t);if(!r)return null;const a=r,c=r.x,l=r.y;let u,d=1/0;e=r;do{o>=e.x&&e.x>=c&&o!==e.x&&Nh(s<l?o:i,s,c,l,s<l?i:o,s,e.x,e.y)&&(u=Math.abs(s-e.y)/(o-e.x),Rm(e,n)&&(u<d||u===d&&(e.x>r.x||e.x===r.x&&Kge(r,e)))&&(r=e,d=u)),e=e.next}while(e!==a);return r}(n,t);if(!e)return t;const i=VU(e,n);return ad(i,i.next),ad(e,e.next)}function Kge(n,t){return Si(n.prev,n,t.prev)<0&&Si(t.next,n,n.next)<0}function M1(n,t,e,i,r){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-e)*r|0)|n<<8))|n<<4))|n<<2))|n<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function e_e(n){let t=n,e=n;do{(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next}while(t!==n);return e}function Nh(n,t,e,i,r,o,s,a){return(r-s)*(t-a)>=(n-s)*(o-a)&&(n-s)*(i-a)>=(e-s)*(t-a)&&(e-s)*(o-a)>=(r-s)*(i-a)}function t_e(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!function n_e(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&UU(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}(n,t)&&(Rm(n,t)&&Rm(t,n)&&function i_e(n,t){let e=n,i=!1;const r=(n.x+t.x)/2,o=(n.y+t.y)/2;do{e.y>o!=e.next.y>o&&e.next.y!==e.y&&r<(e.next.x-e.x)*(o-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next}while(e!==n);return i}(n,t)&&(Si(n.prev,n,t.prev)||Si(n,t.prev,t))||Oy(n,t)&&Si(n.prev,n,n.next)>0&&Si(t.prev,t,t.next)>0)}function Si(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function Oy(n,t){return n.x===t.x&&n.y===t.y}function UU(n,t,e,i){const r=ky(Si(n,t,e)),o=ky(Si(n,t,i)),s=ky(Si(e,i,n)),a=ky(Si(e,i,t));return!!(r!==o&&s!==a||0===r&&Ry(n,e,t)||0===o&&Ry(n,i,t)||0===s&&Ry(e,n,i)||0===a&&Ry(e,t,i))}function Ry(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function ky(n){return n>0?1:n<0?-1:0}function Rm(n,t){return Si(n.prev,n,n.next)<0?Si(n,t,n.next)>=0&&Si(n,n.prev,t)>=0:Si(n,t,n.prev)<0||Si(n,n.next,t)<0}function VU(n,t){const e=new S1(n.i,n.x,n.y),i=new S1(t.i,t.x,t.y),r=n.next,o=t.prev;return n.next=t,t.prev=n,e.next=r,r.prev=e,i.next=e,e.prev=i,o.next=i,i.prev=o,i}function zU(n,t,e,i){const r=new S1(n,t,e);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function km(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function S1(n,t,e){this.i=n,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class aa{static area(t){const e=t.length;let i=0;for(let r=e-1,o=0;o<e;r=o++)i+=t[r].x*t[o].y-t[o].x*t[r].y;return.5*i}static isClockWise(t){return aa.area(t)<0}static triangulateShape(t,e){const i=[],r=[],o=[];HU(t),GU(i,t);let s=t.length;e.forEach(HU);for(let c=0;c<e.length;c++)r.push(s),s+=e[c].length,GU(i,e[c]);const a=function(n,t,e=2){const i=t&&t.length,r=i?t[0]*e:n.length;let o=BU(n,0,r,e,!0);const s=[];if(!o||o.next===o.prev)return s;let a,c,l,d,u,h,f;if(i&&(o=function Yge(n,t,e,i){const r=[];let o,s,a,c,l;for(o=0,s=t.length;o<s;o++)a=t[o]*i,c=o<s-1?t[o+1]*i:n.length,l=BU(n,a,c,i,!1),l===l.next&&(l.steiner=!0),r.push(e_e(l));for(r.sort(Xge),o=0;o<r.length;o++)e=qge(r[o],e);return e}(n,t,o,e)),n.length>80*e){a=l=n[0],c=d=n[1];for(let m=e;m<r;m+=e)u=n[m],h=n[m+1],u<a&&(a=u),h<c&&(c=h),u>l&&(l=u),h>d&&(d=h);f=Math.max(l-a,d-c),f=0!==f?32767/f:0}return Om(o,s,e,a,c,f,0),s}(i,r);for(let c=0;c<a.length;c+=3)o.push(a.slice(c,c+3));return o}}function HU(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function GU(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class Ly extends gn{constructor(t=new tc([new Ee(.5,.5),new Ee(-.5,.5),new Ee(-.5,-.5),new Ee(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,r=[],o=[];for(let a=0,c=t.length;a<c;a++)s(t[a]);function s(a){const c=[],l=void 0!==e.curveSegments?e.curveSegments:12,d=void 0!==e.steps?e.steps:1,u=void 0!==e.depth?e.depth:1;let h=void 0===e.bevelEnabled||e.bevelEnabled,f=void 0!==e.bevelThickness?e.bevelThickness:.2,m=void 0!==e.bevelSize?e.bevelSize:f-.1,v=void 0!==e.bevelOffset?e.bevelOffset:0,g=void 0!==e.bevelSegments?e.bevelSegments:3;const b=e.extrudePath,y=void 0!==e.UVGenerator?e.UVGenerator:o_e;let x,O,R,B,$,E=!1;b&&(x=b.getSpacedPoints(d),E=!0,h=!1,O=b.computeFrenetFrames(d,!1),R=new G,B=new G,$=new G),h||(g=0,f=0,m=0,v=0);const N=a.extractPoints(l);let H=N.shape;const ge=N.holes;if(!aa.isClockWise(H)){H=H.reverse();for(let q=0,Oe=ge.length;q<Oe;q++){const de=ge[q];aa.isClockWise(de)&&(ge[q]=de.reverse())}}const Be=aa.triangulateShape(H,ge),ee=H;for(let q=0,Oe=ge.length;q<Oe;q++)H=H.concat(ge[q]);function Me(q,Oe,de){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),q.clone().addScaledVector(Oe,de)}const pe=H.length,ne=Be.length;function te(q,Oe,de){let Ne,we,ie;const Y=q.x-Oe.x,Qe=q.y-Oe.y,pt=de.x-q.x,Yt=de.y-q.y,Gn=Y*Y+Qe*Qe;if(Math.abs(Y*Yt-Qe*pt)>Number.EPSILON){const z=Math.sqrt(Gn),Ie=Math.sqrt(pt*pt+Yt*Yt),dt=Oe.x-Qe/z,it=Oe.y+Y/z,gt=((de.x-Yt/Ie-dt)*Yt-(de.y+pt/Ie-it)*pt)/(Y*Yt-Qe*pt);Ne=dt+Y*gt-q.x,we=it+Qe*gt-q.y;const St=Ne*Ne+we*we;if(St<=2)return new Ee(Ne,we);ie=Math.sqrt(St/2)}else{let z=!1;Y>Number.EPSILON?pt>Number.EPSILON&&(z=!0):Y<-Number.EPSILON?pt<-Number.EPSILON&&(z=!0):Math.sign(Qe)===Math.sign(Yt)&&(z=!0),z?(Ne=-Qe,we=Y,ie=Math.sqrt(Gn)):(Ne=Y,we=Qe,ie=Math.sqrt(Gn/2))}return new Ee(Ne/ie,we/ie)}const Ce=[];for(let q=0,Oe=ee.length,de=Oe-1,Ne=q+1;q<Oe;q++,de++,Ne++)de===Oe&&(de=0),Ne===Oe&&(Ne=0),Ce[q]=te(ee[q],ee[de],ee[Ne]);const Pe=[];let ue,Ue=Ce.concat();for(let q=0,Oe=ge.length;q<Oe;q++){const de=ge[q];ue=[];for(let Ne=0,we=de.length,ie=we-1,Y=Ne+1;Ne<we;Ne++,ie++,Y++)ie===we&&(ie=0),Y===we&&(Y=0),ue[Ne]=te(de[Ne],de[ie],de[Y]);Pe.push(ue),Ue=Ue.concat(ue)}for(let q=0;q<g;q++){const Oe=q/g,de=f*Math.cos(Oe*Math.PI/2),Ne=m*Math.sin(Oe*Math.PI/2)+v;for(let we=0,ie=ee.length;we<ie;we++){const Y=Me(ee[we],Ce[we],Ne);K(Y.x,Y.y,-de)}for(let we=0,ie=ge.length;we<ie;we++){const Y=ge[we];ue=Pe[we];for(let Qe=0,pt=Y.length;Qe<pt;Qe++){const Yt=Me(Y[Qe],ue[Qe],Ne);K(Yt.x,Yt.y,-de)}}}const ce=m+v;for(let q=0;q<pe;q++){const Oe=h?Me(H[q],Ue[q],ce):H[q];E?(B.copy(O.normals[0]).multiplyScalar(Oe.x),R.copy(O.binormals[0]).multiplyScalar(Oe.y),$.copy(x[0]).add(B).add(R),K($.x,$.y,$.z)):K(Oe.x,Oe.y,0)}for(let q=1;q<=d;q++)for(let Oe=0;Oe<pe;Oe++){const de=h?Me(H[Oe],Ue[Oe],ce):H[Oe];E?(B.copy(O.normals[q]).multiplyScalar(de.x),R.copy(O.binormals[q]).multiplyScalar(de.y),$.copy(x[q]).add(B).add(R),K($.x,$.y,$.z)):K(de.x,de.y,u/d*q)}for(let q=g-1;q>=0;q--){const Oe=q/g,de=f*Math.cos(Oe*Math.PI/2),Ne=m*Math.sin(Oe*Math.PI/2)+v;for(let we=0,ie=ee.length;we<ie;we++){const Y=Me(ee[we],Ce[we],Ne);K(Y.x,Y.y,u+de)}for(let we=0,ie=ge.length;we<ie;we++){const Y=ge[we];ue=Pe[we];for(let Qe=0,pt=Y.length;Qe<pt;Qe++){const Yt=Me(Y[Qe],ue[Qe],Ne);E?K(Yt.x,Yt.y+x[d-1].y,x[d-1].x+de):K(Yt.x,Yt.y,u+de)}}}function fe(q,Oe){let de=q.length;for(;--de>=0;){const Ne=de;let we=de-1;we<0&&(we=q.length-1);for(let ie=0,Y=d+2*g;ie<Y;ie++){const Qe=pe*ie,pt=pe*(ie+1);Re(Oe+Ne+Qe,Oe+we+Qe,Oe+we+pt,Oe+Ne+pt)}}}function K(q,Oe,de){c.push(q),c.push(Oe),c.push(de)}function Ye(q,Oe,de){bt(q),bt(Oe),bt(de);const Ne=r.length/3,we=y.generateTopUV(i,r,Ne-3,Ne-2,Ne-1);rt(we[0]),rt(we[1]),rt(we[2])}function Re(q,Oe,de,Ne){bt(q),bt(Oe),bt(Ne),bt(Oe),bt(de),bt(Ne);const we=r.length/3,ie=y.generateSideWallUV(i,r,we-6,we-3,we-2,we-1);rt(ie[0]),rt(ie[1]),rt(ie[3]),rt(ie[1]),rt(ie[2]),rt(ie[3])}function bt(q){r.push(c[3*q+0]),r.push(c[3*q+1]),r.push(c[3*q+2])}function rt(q){o.push(q.x),o.push(q.y)}(function Q(){const q=r.length/3;if(h){let Oe=0,de=pe*Oe;for(let Ne=0;Ne<ne;Ne++){const we=Be[Ne];Ye(we[2]+de,we[1]+de,we[0]+de)}Oe=d+2*g,de=pe*Oe;for(let Ne=0;Ne<ne;Ne++){const we=Be[Ne];Ye(we[0]+de,we[1]+de,we[2]+de)}}else{for(let Oe=0;Oe<ne;Oe++){const de=Be[Oe];Ye(de[2],de[1],de[0])}for(let Oe=0;Oe<ne;Oe++){const de=Be[Oe];Ye(de[0]+pe*d,de[1]+pe*d,de[2]+pe*d)}}i.addGroup(q,r.length/3-q,0)})(),function j(){const q=r.length/3;let Oe=0;fe(ee,Oe),Oe+=ee.length;for(let de=0,Ne=ge.length;de<Ne;de++){const we=ge[de];fe(we,Oe),Oe+=we.length}i.addGroup(q,r.length/3-q,1)}()}this.setAttribute("position",new Tt(r,3)),this.setAttribute("uv",new Tt(o,2)),this.computeVertexNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return function s_e(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++)e.shapes.push(n[i].uuid);else e.shapes.push(n.uuid);return e.options=Object.assign({},t),void 0!==t.extrudePath&&(e.options.extrudePath=t.extrudePath.toJSON()),e}(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const i=[];for(let o=0,s=t.shapes.length;o<s;o++)i.push(e[t.shapes[o]]);const r=t.options.extrudePath;return void 0!==r&&(t.options.extrudePath=(new Ey[r.type]).fromJSON(r)),new Ly(i,t.options)}}const o_e={generateTopUV:function(n,t,e,i,r){const a=t[3*i],c=t[3*i+1],l=t[3*r],d=t[3*r+1];return[new Ee(t[3*e],t[3*e+1]),new Ee(a,c),new Ee(l,d)]},generateSideWallUV:function(n,t,e,i,r,o){const s=t[3*e],a=t[3*e+1],c=t[3*e+2],l=t[3*i],d=t[3*i+1],u=t[3*i+2],h=t[3*r],f=t[3*r+1],m=t[3*r+2],v=t[3*o],g=t[3*o+1],b=t[3*o+2];return Math.abs(a-d)<Math.abs(s-l)?[new Ee(s,1-c),new Ee(l,1-u),new Ee(h,1-m),new Ee(v,1-b)]:[new Ee(a,1-c),new Ee(d,1-u),new Ee(f,1-m),new Ee(g,1-b)]}};class cd extends gn{constructor(t=new tc([new Ee(0,.5),new Ee(-.5,-.5),new Ee(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],r=[],o=[],s=[];let a=0,c=0;if(!1===Array.isArray(t))l(t);else for(let d=0;d<t.length;d++)l(t[d]),this.addGroup(a,c,d),a+=c,c=0;function l(d){const u=r.length/3,h=d.extractPoints(e);let f=h.shape;const m=h.holes;!1===aa.isClockWise(f)&&(f=f.reverse());for(let g=0,b=m.length;g<b;g++){const y=m[g];!0===aa.isClockWise(y)&&(m[g]=y.reverse())}const v=aa.triangulateShape(f,m);for(let g=0,b=m.length;g<b;g++)f=f.concat(m[g]);for(let g=0,b=f.length;g<b;g++){const y=f[g];r.push(y.x,y.y,0),o.push(0,0,1),s.push(y.x,y.y)}for(let g=0,b=v.length;g<b;g++){const y=v[g];i.push(y[0]+u,y[1]+u,y[2]+u),c+=3}}this.setIndex(i),this.setAttribute("position",new Tt(r,3)),this.setAttribute("normal",new Tt(o,3)),this.setAttribute("uv",new Tt(s,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return function a_e(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++)t.shapes.push(n[e].uuid);else t.shapes.push(n.uuid);return t}(this.parameters.shapes,t)}static fromJSON(t,e){const i=[];for(let r=0,o=t.shapes.length;r<o;r++)i.push(e[t.shapes[r]]);return new cd(i,t.curveSegments)}}class jU extends gn{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},null!==t){const e=[],i=new Set,r=new G,o=new G;if(null!==t.index){const s=t.attributes.position,a=t.index;let c=t.groups;0===c.length&&(c=[{start:0,count:a.count,materialIndex:0}]);for(let l=0,d=c.length;l<d;++l){const u=c[l],h=u.start;for(let m=h,v=h+u.count;m<v;m+=3)for(let g=0;g<3;g++){const b=a.getX(m+g),y=a.getX(m+(g+1)%3);r.fromBufferAttribute(s,b),o.fromBufferAttribute(s,y),!0===WU(r,o,i)&&(e.push(r.x,r.y,r.z),e.push(o.x,o.y,o.z))}}}else{const s=t.attributes.position;for(let a=0,c=s.count/3;a<c;a++)for(let l=0;l<3;l++){const u=3*a+(l+1)%3;r.fromBufferAttribute(s,3*a+l),o.fromBufferAttribute(s,u),!0===WU(r,o,i)&&(e.push(r.x,r.y,r.z),e.push(o.x,o.y,o.z))}}this.setAttribute("position",new Tt(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function WU(n,t,e){const i=`${n.x},${n.y},${n.z}-${t.x},${t.y},${t.z}`,r=`${t.x},${t.y},${t.z}-${n.x},${n.y},${n.z}`;return!0!==e.has(i)&&!0!==e.has(r)&&(e.add(i),e.add(r),!0)}class By extends ks{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new xt(16777215),this.specular=new xt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Av,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class YU extends ks{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Av,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}function ld(n,t,e){return!n||!e&&n.constructor===t?n:"number"==typeof t.BYTES_PER_ELEMENT?new t(n):Array.prototype.slice.call(n)}class Uy{constructor(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,r=e[i],o=e[i-1];e:{t:{let s;n:{i:if(!(t<r)){for(let a=i+2;;){if(void 0===r){if(t<o)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(o=r,r=e[++i],t<r)break t}s=e.length;break n}if(t>=o)break e;{const a=e[1];t<a&&(i=2,o=a);for(let c=i-2;;){if(void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(i===c)break;if(r=o,o=e[--i-1],t>=o)break t}s=i,i=0}}for(;i<s;){const a=i+s>>>1;t<e[a]?s=a:i=a+1}if(r=e[i],o=e[i-1],void 0===o)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,o,r)}return this.interpolate_(i,o,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,o=t*r;for(let s=0;s!==r;++s)e[s]=i[o+s];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class b_e extends Uy{constructor(t,e,i,r){super(t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,e,i){const r=this.parameterPositions;let o=t-2,s=t+1,a=r[o],c=r[s];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:o=t,a=2*e-i;break;case 2402:o=r.length-2,a=e+r[o]-r[o+1];break;default:o=t,a=i}if(void 0===c)switch(this.getSettings_().endingEnd){case 2401:s=t,c=2*i-e;break;case 2402:s=1,c=i+r[1]-r[0];break;default:s=t-1,c=e}const l=.5*(i-e),d=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(c-i),this._offsetPrev=o*d,this._offsetNext=s*d}interpolate_(t,e,i,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=t*a,l=c-a,d=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,f=this._weightNext,m=(i-e)/(r-e),v=m*m,g=v*m,b=-h*g+2*h*v-h*m,y=(1+h)*g+(-1.5-2*h)*v+(-.5+h)*m+1,x=(-1-f)*g+(1.5+f)*v+.5*m,E=f*g-f*v;for(let O=0;O!==a;++O)o[O]=b*s[d+O]+y*s[l+O]+x*s[c+O]+E*s[u+O];return o}}class ZU extends Uy{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=t*a,l=c-a,d=(i-e)/(r-e),u=1-d;for(let h=0;h!==a;++h)o[h]=s[l+h]*u+s[c+h]*d;return o}}class v_e extends Uy{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class ca{constructor(t,e,i,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=ld(e,this.TimeBufferType),this.values=ld(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:ld(t.times,Array),values:ld(t.values,Array)};const r=t.getInterpolation();r!==t.DefaultInterpolation&&(i.interpolation=r)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new v_e(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new ZU(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new b_e(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]*=t}return this}trim(t,e){const i=this.times,r=i.length;let o=0,s=r-1;for(;o!==r&&i[o]<t;)++o;for(;-1!==s&&i[s]>e;)--s;if(++s,0!==o||s!==r){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=i.slice(o,s),this.values=this.values.slice(o*a,s*a)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,r=this.values,o=i.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let s=null;for(let a=0;a!==o;a++){const c=i[a];if("number"==typeof c&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,c),t=!1;break}if(null!==s&&s>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,c,s),t=!1;break}s=c}if(void 0!==r&&function XU(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(r))for(let a=0,c=r.length;a!==c;++a){const l=r[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),r=2302===this.getInterpolation(),o=t.length-1;let s=1;for(let a=1;a<o;++a){let c=!1;const l=t[a];if(l!==t[a+1]&&(1!==a||l!==t[0]))if(r)c=!0;else{const u=a*i,h=u-i,f=u+i;for(let m=0;m!==i;++m){const v=e[u+m];if(v!==e[h+m]||v!==e[f+m]){c=!0;break}}}if(c){if(a!==s){t[s]=t[a];const u=a*i,h=s*i;for(let f=0;f!==i;++f)e[h+f]=e[u+f]}++s}}if(o>0){t[s]=t[o];for(let a=o*i,c=s*i,l=0;l!==i;++l)e[c+l]=e[a+l];++s}return s!==t.length?(this.times=t.slice(0,s),this.values=e.slice(0,s*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),r=new(0,this.constructor)(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}ca.prototype.TimeBufferType=Float32Array,ca.prototype.ValueBufferType=Float32Array,ca.prototype.DefaultInterpolation=2301;class Bh extends ca{}Bh.prototype.ValueTypeName="bool",Bh.prototype.ValueBufferType=Array,Bh.prototype.DefaultInterpolation=2300,Bh.prototype.InterpolantFactoryMethodLinear=void 0,Bh.prototype.InterpolantFactoryMethodSmooth=void 0;(class KU extends ca{}).prototype.ValueTypeName="color";(class Vy extends ca{}).prototype.ValueTypeName="number";class y_e extends Uy{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=(i-e)/(r-e);let l=t*a;for(let d=l+a;l!==d;l+=4)io.slerpFlat(o,0,s,l-a,s,l,c);return o}}class Lm extends ca{InterpolantFactoryMethodLinear(t){return new y_e(this.times,this.values,this.getValueSize(),t)}}Lm.prototype.ValueTypeName="quaternion",Lm.prototype.DefaultInterpolation=2301,Lm.prototype.InterpolantFactoryMethodSmooth=void 0;class Uh extends ca{}Uh.prototype.ValueTypeName="string",Uh.prototype.ValueBufferType=Array,Uh.prototype.DefaultInterpolation=2300,Uh.prototype.InterpolantFactoryMethodLinear=void 0,Uh.prototype.InterpolantFactoryMethodSmooth=void 0;(class zy extends ca{}).prototype.ValueTypeName="vector";const Vh={enabled:!1,files:{},add:function(n,t){!1!==this.enabled&&(this.files[n]=t)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class QU{constructor(t,e,i){const r=this;let c,o=!1,s=0,a=0;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(d){a++,!1===o&&void 0!==r.onStart&&r.onStart(d,s,a),o=!0},this.itemEnd=function(d){s++,void 0!==r.onProgress&&r.onProgress(d,s,a),s===a&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(d){void 0!==r.onError&&r.onError(d)},this.resolveURL=function(d){return c?c(d):d},this.setURLModifier=function(d){return c=d,this},this.addHandler=function(d,u){return l.push(d,u),this},this.removeHandler=function(d){const u=l.indexOf(d);return-1!==u&&l.splice(u,2),this},this.getHandler=function(d){for(let u=0,h=l.length;u<h;u+=2){const f=l[u],m=l[u+1];if(f.global&&(f.lastIndex=0),f.test(d))return m}return null}}}const JU=new QU;let dd=(()=>{class n{constructor(e){this.manager=void 0!==e?e:JU,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,i){const r=this;return new Promise(function(o,s){r.load(e,o,i,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}return n.DEFAULT_MATERIAL_NAME="__DEFAULT",n})();const nc={};class C_e extends Error{constructor(t,e){super(t),this.response=e}}class cs extends dd{constructor(t){super(t)}load(t,e,i,r){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const o=Vh.get(t);if(void 0!==o)return this.manager.itemStart(t),setTimeout(()=>{e&&e(o),this.manager.itemEnd(t)},0),o;if(void 0!==nc[t])return void nc[t].push({onLoad:e,onProgress:i,onError:r});nc[t]=[],nc[t].push({onLoad:e,onProgress:i,onError:r});const s=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,c=this.responseType;fetch(s).then(l=>{if(200===l.status||0===l.status){if(0===l.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===l.body||void 0===l.body.getReader)return l;const d=nc[t],u=l.body.getReader(),h=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),f=h?parseInt(h):0,m=0!==f;let v=0;const g=new ReadableStream({start(b){!function y(){u.read().then(({done:x,value:E})=>{if(x)b.close();else{v+=E.byteLength;const O=new ProgressEvent("progress",{lengthComputable:m,loaded:v,total:f});for(let R=0,B=d.length;R<B;R++){const $=d[R];$.onProgress&&$.onProgress(O)}b.enqueue(E),y()}})}()}});return new Response(g)}throw new C_e(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(c){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(d=>(new DOMParser).parseFromString(d,a));case"json":return l.json();default:if(void 0===a)return l.text();{const u=/charset="?([^;"\s]*)"?/i.exec(a),h=u&&u[1]?u[1].toLowerCase():void 0,f=new TextDecoder(h);return l.arrayBuffer().then(m=>f.decode(m))}}}).then(l=>{Vh.add(t,l);const d=nc[t];delete nc[t];for(let u=0,h=d.length;u<h;u++){const f=d[u];f.onLoad&&f.onLoad(l)}}).catch(l=>{const d=nc[t];if(void 0===d)throw this.manager.itemError(t),l;delete nc[t];for(let u=0,h=d.length;u<h;u++){const f=d[u];f.onError&&f.onError(l)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Gy extends dd{constructor(t){super(t)}load(t,e,i,r){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const o=this,s=Vh.get(t);if(void 0!==s)return o.manager.itemStart(t),setTimeout(function(){e&&e(s),o.manager.itemEnd(t)},0),s;const a=fm("img");function c(){d(),Vh.add(t,this),e&&e(this),o.manager.itemEnd(t)}function l(u){d(),r&&r(u),o.manager.itemError(t),o.manager.itemEnd(t)}function d(){a.removeEventListener("load",c,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",c,!1),a.addEventListener("error",l,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(t),a.src=t,a}}class M_e extends dd{constructor(t){super(t)}load(t,e,i,r){const o=new Xa,s=new Gy(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(t,function(a){o.image=a,o.needsUpdate=!0,void 0!==e&&e(o)},i,r),o}}class eV extends pr{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new xt(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}class tV extends eV{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(pr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new xt(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const k1=new pn,nV=new G,iV=new G;class S_e{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ee(512,512),this.map=null,this.mapPass=null,this.matrix=new pn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ZE,this._frameExtents=new Ee(1,1),this._viewportCount=1,this._viewports=[new Hn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;nV.setFromMatrixPosition(t.matrixWorld),e.position.copy(nV),iV.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(iV),e.updateMatrixWorld(),k1.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(k1),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(k1)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}const rV=new pn,Fm=new G,L1=new G;class T_e extends S_e{constructor(){super(new Hr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ee(4,2),this._viewportCount=6,this._viewports=[new Hn(2,1,1,1),new Hn(0,1,1,1),new Hn(3,1,1,1),new Hn(1,1,1,1),new Hn(3,0,1,1),new Hn(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,r=this.matrix,o=t.distance||i.far;o!==i.far&&(i.far=o,i.updateProjectionMatrix()),Fm.setFromMatrixPosition(t.matrixWorld),i.position.copy(Fm),L1.copy(i.position),L1.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(L1),i.updateMatrixWorld(),r.makeTranslation(-Fm.x,-Fm.y,-Fm.z),rV.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(rV)}}class oV extends eV{constructor(t,e,i=0,r=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new T_e}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class N1{static decodeText(t){if(typeof TextDecoder<"u")return(new TextDecoder).decode(t);let e="";for(let i=0,r=t.length;i<r;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch{return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class sV extends gn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class B1{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=hV(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=hV();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function hV(){return(typeof performance>"u"?Date:performance).now()}const U1="\\[\\]\\.:\\/",V_e=new RegExp("["+U1+"]","g"),V1="[^"+U1+"]",z_e="[^"+U1.replace("\\.","")+"]",$_e=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",V1)+/(WCOD+)?/.source.replace("WCOD",z_e)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",V1)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",V1)+"$"),Y_e=["material","materials","bones","map"];class X_e{constructor(t,e,i){const r=i||_i.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,o=i.length;r!==o;++r)i[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}let _i=(()=>{class n{constructor(e,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,i,r){return e&&e.isAnimationObjectGroup?new n.Composite(e,i,r):new n(e,i,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(V_e,"")}static parseTrackName(e){const i=$_e.exec(e);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},o=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==o&&-1!==o){const s=r.nodeName.substring(o+1);-1!==Y_e.indexOf(s)&&(r.nodeName=r.nodeName.substring(0,o),r.objectName=s)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,i){if(void 0===i||""===i||"."===i||-1===i||i===e.name||i===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(i);if(void 0!==r)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const c=s[a];if(c.name===i||c.uuid===i)return c;const l=r(c.children);if(l)return l}return null},o=r(e.children);if(o)return o}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,i){e[i]=this.targetObject[this.propertyName]}_getValue_array(e,i){const r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)e[i++]=r[o]}_getValue_arrayElement(e,i){e[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,i){this.resolvedProperty.toArray(e,i)}_setValue_direct(e,i){this.targetObject[this.propertyName]=e[i]}_setValue_direct_setNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,i){const r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=e[i++]}_setValue_array_setNeedsUpdate(e,i){const r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=e[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,i){const r=this.resolvedProperty;for(let o=0,s=r.length;o!==s;++o)r[o]=e[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,i){this.resolvedProperty[this.propertyIndex]=e[i]}_setValue_arrayElement_setNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,i){this.resolvedProperty.fromArray(e,i)}_setValue_fromArray_setNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,i){this.bind(),this.getValue(e,i)}_setValue_unbound(e,i){this.bind(),this.setValue(e,i)}bind(){let e=this.node;const i=this.parsedPath,r=i.objectName,o=i.propertyName;let s=i.propertyIndex;if(e||(e=n.findNode(this.rootNode,i.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(r){let d=i.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===d){d=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==d){if(void 0===e[d])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[d]}}const a=e[o];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+o+" but it wasn't found.",e);let c=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(void 0!==s){if("morphTargetInfluences"===o){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[s]&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else void 0!==a.fromArray&&void 0!==a.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=o;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=X_e,n})();_i.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},_i.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},_i.prototype.GetterByBindingType=[_i.prototype._getValue_direct,_i.prototype._getValue_array,_i.prototype._getValue_arrayElement,_i.prototype._getValue_toArray],_i.prototype.SetterByBindingTypeAndVersioning=[[_i.prototype._setValue_direct,_i.prototype._setValue_direct_setNeedsUpdate,_i.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[_i.prototype._setValue_array,_i.prototype._setValue_array_setNeedsUpdate,_i.prototype._setValue_array_setMatrixWorldNeedsUpdate],[_i.prototype._setValue_arrayElement,_i.prototype._setValue_arrayElement_setNeedsUpdate,_i.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[_i.prototype._setValue_fromArray,_i.prototype._setValue_fromArray_setNeedsUpdate,_i.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class z1 extends c1{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class Q_e{constructor(t,e,i=0,r=1/0){this.ray=new ph(t,e),this.near=i,this.far=r,this.camera=null,this.layers=new qv,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}intersectObject(t,e=!0,i=[]){return H1(t,this,i,e),i.sort(gV),i}intersectObjects(t,e=!0,i=[]){for(let r=0,o=t.length;r<o;r++)H1(t[r],this,i,e);return i.sort(gV),i}}function gV(n,t){return n.distance-t.distance}function H1(n,t,e,i){if(n.layers.test(t.layers)&&n.raycast(t,e),!0===i){const r=n.children;for(let o=0,s=r.length;o<s;o++)H1(r[o],t,e,!0)}}class _V{constructor(t=1,e=0,i=0){return this.radius=t,this.phi=e,this.theta=i,this}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(Pi(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const bV=new Ee;class J_e{constructor(t=new Ee(1/0,1/0),e=new Ee(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=bV.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,bV).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const vV=new G,Wy=new G;class Kc{constructor(){this.type="ShapePath",this.color=new xt,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new od,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,r){return this.currentPath.quadraticCurveTo(t,e,i,r),this}bezierCurveTo(t,e,i,r,o,s){return this.currentPath.bezierCurveTo(t,e,i,r,o,s),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function i(b,y){const x=y.length;let E=!1;for(let O=x-1,R=0;R<x;O=R++){let B=y[O],$=y[R],N=$.x-B.x,H=$.y-B.y;if(Math.abs(H)>Number.EPSILON){if(H<0&&(B=y[R],N=-N,$=y[O],H=-H),b.y<B.y||b.y>$.y)continue;if(b.y===B.y){if(b.x===B.x)return!0}else{const ge=H*(b.x-B.x)-N*(b.y-B.y);if(0===ge)return!0;if(ge<0)continue;E=!E}}else{if(b.y!==B.y)continue;if($.x<=b.x&&b.x<=B.x||B.x<=b.x&&b.x<=$.x)return!0}}return E}const r=aa.isClockWise,o=this.subPaths;if(0===o.length)return[];let s,a,c;const l=[];if(1===o.length)return a=o[0],c=new tc,c.curves=a.curves,l.push(c),l;let d=!r(o[0].getPoints());d=t?!d:d;const u=[],h=[];let v,g,f=[],m=0;h[m]=void 0,f[m]=[];for(let b=0,y=o.length;b<y;b++)a=o[b],v=a.getPoints(),s=r(v),s=t?!s:s,s?(!d&&h[m]&&m++,h[m]={s:new tc,p:v},h[m].s.curves=a.curves,d&&m++,f[m]=[]):f[m].push({h:a,p:v[0]});if(!h[0])return function e(b){const y=[];for(let x=0,E=b.length;x<E;x++){const O=b[x],R=new tc;R.curves=O.curves,y.push(R)}return y}(o);if(h.length>1){let b=!1,y=0;for(let x=0,E=h.length;x<E;x++)u[x]=[];for(let x=0,E=h.length;x<E;x++){const O=f[x];for(let R=0;R<O.length;R++){const B=O[R];let $=!0;for(let N=0;N<h.length;N++)i(B.p,h[N].p)&&(x!==N&&y++,$?($=!1,u[N].push(B)):b=!0);$&&u[x].push(B)}}y>0&&!1===b&&(f=u)}for(let b=0,y=h.length;b<y;b++){c=h[b].s,l.push(c),g=f[b];for(let x=0,E=g.length;x<E;x++)c.holes.push(g[x].h)}return l}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"158"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="158");const AV={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Ky;const nbe=new Uint8Array(16);function ibe(){if(!Ky&&(Ky=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ky))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ky(nbe)}const Ar=[];for(let n=0;n<256;++n)Ar.push((n+256).toString(16).slice(1));const obe=function rbe(n,t,e){if(AV.randomUUID&&!t&&!n)return AV.randomUUID();const i=(n=n||{}).random||(n.rng||ibe)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(let r=0;r<16;++r)t[e+r]=i[r];return t}return function TV(n,t=0){return Ar[n[t+0]]+Ar[n[t+1]]+Ar[n[t+2]]+Ar[n[t+3]]+"-"+Ar[n[t+4]]+Ar[n[t+5]]+"-"+Ar[n[t+6]]+Ar[n[t+7]]+"-"+Ar[n[t+8]]+Ar[n[t+9]]+"-"+Ar[n[t+10]]+Ar[n[t+11]]+Ar[n[t+12]]+Ar[n[t+13]]+Ar[n[t+14]]+Ar[n[t+15]]}(i)};var Nm=function(){var n=0,t=document.createElement("div");function e(d){return t.appendChild(d.dom),d}function i(d){for(var u=0;u<t.children.length;u++)t.children[u].style.display=u===d?"block":"none";n=d}t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",function(d){d.preventDefault(),i(++n%t.children.length)},!1);var r=(performance||Date).now(),o=r,s=0,a=e(new Nm.Panel("FPS","#0ff","#002")),c=e(new Nm.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=e(new Nm.Panel("MB","#f08","#201"));return i(0),{REVISION:16,dom:t,addPanel:e,showPanel:i,begin:function(){r=(performance||Date).now()},end:function(){s++;var d=(performance||Date).now();if(c.update(d-r,200),d>=o+1e3&&(a.update(1e3*s/(d-o),100),o=d,s=0,l)){var u=performance.memory;l.update(u.usedJSHeapSize/1048576,u.jsHeapSizeLimit/1048576)}return d},update:function(){r=this.end()},domElement:t,setMode:i}};Nm.Panel=function(n,t,e){var i=1/0,r=0,o=Math.round,s=o(window.devicePixelRatio||1),a=80*s,c=48*s,l=3*s,d=2*s,u=3*s,h=15*s,f=74*s,m=30*s,v=document.createElement("canvas");v.width=a,v.height=c,v.style.cssText="width:80px;height:48px";var g=v.getContext("2d");return g.font="bold "+9*s+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=e,g.fillRect(0,0,a,c),g.fillStyle=t,g.fillText(n,l,d),g.fillRect(u,h,f,m),g.fillStyle=e,g.globalAlpha=.9,g.fillRect(u,h,f,m),{dom:v,update:function(b,y){i=Math.min(i,b),r=Math.max(r,b),g.fillStyle=e,g.globalAlpha=1,g.fillRect(0,0,a,h),g.fillStyle=t,g.fillText(o(b)+" "+n+" ("+o(i)+"-"+o(r)+")",l,d),g.drawImage(v,u+s,h,f-s,m,u,h,f-s,m),g.fillRect(u+f-s,h,s,m),g.fillStyle=e,g.globalAlpha=.9,g.fillRect(u+f-s,h,s,o((1-b/y)*m))}}};const sbe=Nm,DV=new xo,Qy=new G;class IV extends sV{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry",this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new Tt([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new Tt([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))}applyMatrix4(t){const e=this.attributes.instanceStart,i=this.attributes.instanceEnd;return void 0!==e&&(e.applyMatrix4(t),i.applyMatrix4(t),e.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}setPositions(t){let e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));const i=new z1(e,6,1);return this.setAttribute("instanceStart",new as(i,3,0)),this.setAttribute("instanceEnd",new as(i,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(t){let e;t instanceof Float32Array?e=t:Array.isArray(t)&&(e=new Float32Array(t));const i=new z1(e,6,1);return this.setAttribute("instanceColorStart",new as(i,3,0)),this.setAttribute("instanceColorEnd",new as(i,3,3)),this}fromWireframeGeometry(t){return this.setPositions(t.attributes.position.array),this}fromEdgesGeometry(t){return this.setPositions(t.attributes.position.array),this}fromMesh(t){return this.fromWireframeGeometry(new jU(t.geometry)),this}fromLineSegments(t){return this.setPositions(t.geometry.attributes.position.array),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new xo);const t=this.attributes.instanceStart,e=this.attributes.instanceEnd;void 0!==t&&void 0!==e&&(this.boundingBox.setFromBufferAttribute(t),DV.setFromBufferAttribute(e),this.boundingBox.union(DV))}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new rs),null===this.boundingBox&&this.computeBoundingBox();const t=this.attributes.instanceStart,e=this.attributes.instanceEnd;if(void 0!==t&&void 0!==e){const i=this.boundingSphere.center;this.boundingBox.getCenter(i);let r=0;for(let o=0,s=t.count;o<s;o++)Qy.fromBufferAttribute(t,o),r=Math.max(r,i.distanceToSquared(Qy)),Qy.fromBufferAttribute(e,o),r=Math.max(r,i.distanceToSquared(Qy));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(t){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(t)}}yt.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Ee(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},Co.line={uniforms:Mh.merge([yt.common,yt.fog,yt.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\t#ifdef WORLD_UNITS\n\n\t\t\tvarying vec4 worldPos;\n\t\t\tvarying vec3 worldStart;\n\t\t\tvarying vec3 worldEnd;\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvarying vec2 vUv;\n\n\t\t\t#endif\n\n\t\t#else\n\n\t\t\tvarying vec2 vUv;\n\n\t\t#endif\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\t\t\t\tvUv = uv;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\tworldStart = start.xyz;\n\t\t\t\tworldEnd = end.xyz;\n\n\t\t\t#else\n\n\t\t\t\tvUv = uv;\n\n\t\t\t#endif\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec3 ndcStart = clipStart.xyz / clipStart.w;\n\t\t\tvec3 ndcEnd = clipEnd.xyz / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd.xy - ndcStart.xy;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// get the offset direction as perpendicular to the view vector\n\t\t\t\tvec3 worldDir = normalize( end.xyz - start.xyz );\n\t\t\t\tvec3 offset;\n\t\t\t\tif ( position.y < 0.5 ) {\n\n\t\t\t\t\toffset = normalize( cross( start.xyz, worldDir ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\toffset = normalize( cross( end.xyz, worldDir ) );\n\n\t\t\t\t}\n\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\tfloat forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );\n\n\t\t\t\t// don't extend the line if we're rendering dashes because we\n\t\t\t\t// won't be rendering the endcaps\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t// extend the line bounds to encompass  endcaps\n\t\t\t\t\tstart.xyz += - worldDir * linewidth * 0.5;\n\t\t\t\t\tend.xyz += worldDir * linewidth * 0.5;\n\n\t\t\t\t\t// shift the position of the quad so it hugs the forward edge of the line\n\t\t\t\t\toffset.xy -= dir * forwardOffset;\n\t\t\t\t\toffset.z += 0.5;\n\n\t\t\t\t#endif\n\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y > 1.0 || position.y < 0.0 ) {\n\n\t\t\t\t\toffset.xy += dir * 2.0 * forwardOffset;\n\n\t\t\t\t}\n\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth * 0.5;\n\n\t\t\t\t// set the world position\n\t\t\t\tworldPos = ( position.y < 0.5 ) ? start : end;\n\t\t\t\tworldPos.xyz += offset;\n\n\t\t\t\t// project the worldpos\n\t\t\t\tvec4 clip = projectionMatrix * worldPos;\n\n\t\t\t\t// shift the depth of the projected points so the line\n\t\t\t\t// segments overlap neatly\n\t\t\t\tvec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\n\t\t\t\tclip.z = clipPose.z * clip.w;\n\n\t\t\t#else\n\n\t\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\t\t\t\t// undo aspect ratio adjustment\n\t\t\t\tdir.x /= aspect;\n\t\t\t\toffset.x /= aspect;\n\n\t\t\t\t// sign flip\n\t\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t\t// endcaps\n\t\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\t\toffset += - dir;\n\n\t\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\t\toffset += dir;\n\n\t\t\t\t}\n\n\t\t\t\t// adjust for linewidth\n\t\t\t\toffset *= linewidth;\n\n\t\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\t\toffset /= resolution.y;\n\n\t\t\t\t// select end\n\t\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t\t// back to clip space\n\t\t\t\toffset *= clip.w;\n\n\t\t\t\tclip.xy += offset;\n\n\t\t\t#endif\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\t\tuniform float linewidth;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#ifdef WORLD_UNITS\n\n\t\t\tvarying vec4 worldPos;\n\t\t\tvarying vec3 worldStart;\n\t\t\tvarying vec3 worldEnd;\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvarying vec2 vUv;\n\n\t\t\t#endif\n\n\t\t#else\n\n\t\t\tvarying vec2 vUv;\n\n\t\t#endif\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\n\n\t\t\tfloat mua;\n\t\t\tfloat mub;\n\n\t\t\tvec3 p13 = p1 - p3;\n\t\t\tvec3 p43 = p4 - p3;\n\n\t\t\tvec3 p21 = p2 - p1;\n\n\t\t\tfloat d1343 = dot( p13, p43 );\n\t\t\tfloat d4321 = dot( p43, p21 );\n\t\t\tfloat d1321 = dot( p13, p21 );\n\t\t\tfloat d4343 = dot( p43, p43 );\n\t\t\tfloat d2121 = dot( p21, p21 );\n\n\t\t\tfloat denom = d2121 * d4343 - d4321 * d4321;\n\n\t\t\tfloat numer = d1343 * d4321 - d1321 * d4343;\n\n\t\t\tmua = numer / denom;\n\t\t\tmua = clamp( mua, 0.0, 1.0 );\n\t\t\tmub = ( d1343 + d4321 * ( mua ) ) / d4343;\n\t\t\tmub = clamp( mub, 0.0, 1.0 );\n\n\t\t\treturn vec2( mua, mub );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tfloat alpha = opacity;\n\n\t\t\t#ifdef WORLD_UNITS\n\n\t\t\t\t// Find the closest points on the view ray and the line segment\n\t\t\t\tvec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\n\t\t\t\tvec3 lineDir = worldEnd - worldStart;\n\t\t\t\tvec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\n\n\t\t\t\tvec3 p1 = worldStart + lineDir * params.x;\n\t\t\t\tvec3 p2 = rayEnd * params.y;\n\t\t\t\tvec3 delta = p1 - p2;\n\t\t\t\tfloat len = length( delta );\n\t\t\t\tfloat norm = len / linewidth;\n\n\t\t\t\t#ifndef USE_DASH\n\n\t\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t\tfloat dnorm = fwidth( norm );\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );\n\n\t\t\t\t\t#else\n\n\t\t\t\t\t\tif ( norm > 0.5 ) {\n\n\t\t\t\t\t\t\tdiscard;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t#endif\n\n\t\t\t\t#endif\n\n\t\t\t#else\n\n\t\t\t\t#ifdef USE_ALPHA_TO_COVERAGE\n\n\t\t\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\tfloat len2 = a * a + b * b;\n\t\t\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t#else\n\n\t\t\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\t\t\tfloat a = vUv.x;\n\t\t\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t\t\t}\n\n\t\t\t\t#endif\n\n\t\t\t#endif\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <colorspace_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};class W1 extends zr{constructor(t){super({type:"LineMaterial",uniforms:Mh.clone(Co.line.uniforms),vertexShader:Co.line.vertexShader,fragmentShader:Co.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(t)}get color(){return this.uniforms.diffuse.value}set color(t){this.uniforms.diffuse.value=t}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(t){!0===t?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(t){this.uniforms.linewidth&&(this.uniforms.linewidth.value=t)}get dashed(){return"USE_DASH"in this.defines}set dashed(t){!0===t!==this.dashed&&(this.needsUpdate=!0),!0===t?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(t){this.uniforms.dashScale.value=t}get dashSize(){return this.uniforms.dashSize.value}set dashSize(t){this.uniforms.dashSize.value=t}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(t){this.uniforms.dashOffset.value=t}get gapSize(){return this.uniforms.gapSize.value}set gapSize(t){this.uniforms.gapSize.value=t}get opacity(){return this.uniforms.opacity.value}set opacity(t){this.uniforms&&(this.uniforms.opacity.value=t)}get resolution(){return this.uniforms.resolution.value}set resolution(t){this.uniforms.resolution.value.copy(t)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(t){this.defines&&(!0===t!==this.alphaToCoverage&&(this.needsUpdate=!0),!0===t?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1))}}const PV=new G,OV=new G,Tr=new Hn,Dr=new Hn,la=new Hn,$1=new G,Y1=new pn,Ir=new class ebe{constructor(t=new G,e=new G){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){vV.subVectors(t,this.start),Wy.subVectors(this.end,this.start);const i=Wy.dot(Wy);let o=Wy.dot(vV)/i;return e&&(o=Pi(o,0,1)),o}closestPointToPoint(t,e,i){const r=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},RV=new G,Jy=new xo,e0=new rs,da=new Hn;let ua,gd;function kV(n,t,e){return da.set(0,0,-t,1).applyMatrix4(n.projectionMatrix),da.multiplyScalar(1/da.w),da.x=gd/e.width,da.y=gd/e.height,da.applyMatrix4(n.projectionMatrixInverse),da.multiplyScalar(1/da.w),Math.abs(Math.max(da.x,da.y))}class lbe extends ei{constructor(t=new IV,e=new W1({color:16777215*Math.random()})){super(t,e),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const t=this.geometry,e=t.attributes.instanceStart,i=t.attributes.instanceEnd,r=new Float32Array(2*e.count);for(let s=0,a=0,c=e.count;s<c;s++,a+=2)PV.fromBufferAttribute(e,s),OV.fromBufferAttribute(i,s),r[a]=0===a?0:r[a-1],r[a+1]=r[a]+PV.distanceTo(OV);const o=new z1(r,2,1);return t.setAttribute("instanceDistanceStart",new as(o,1,0)),t.setAttribute("instanceDistanceEnd",new as(o,1,1)),this}raycast(t,e){const i=this.material.worldUnits,r=t.camera;null===r&&!i&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.'),ua=t.ray;const s=this.matrixWorld,a=this.geometry,c=this.material;let l,d;gd=c.linewidth+(void 0!==t.params.Line2&&t.params.Line2.threshold||0),null===a.boundingSphere&&a.computeBoundingSphere(),e0.copy(a.boundingSphere).applyMatrix4(s),l=i?.5*gd:kV(r,Math.max(r.near,e0.distanceToPoint(ua.origin)),c.resolution),e0.radius+=l,!1!==ua.intersectsSphere(e0)&&(null===a.boundingBox&&a.computeBoundingBox(),Jy.copy(a.boundingBox).applyMatrix4(s),d=i?.5*gd:kV(r,Math.max(r.near,Jy.distanceToPoint(ua.origin)),c.resolution),Jy.expandByScalar(d),!1!==ua.intersectsBox(Jy)&&(i?function abe(n,t){const e=n.matrixWorld,i=n.geometry,r=i.attributes.instanceStart,o=i.attributes.instanceEnd;for(let a=0,c=Math.min(i.instanceCount,r.count);a<c;a++){Ir.start.fromBufferAttribute(r,a),Ir.end.fromBufferAttribute(o,a),Ir.applyMatrix4(e);const l=new G,d=new G;ua.distanceSqToSegment(Ir.start,Ir.end,d,l),d.distanceTo(l)<.5*gd&&t.push({point:d,pointOnLine:l,distance:ua.origin.distanceTo(d),object:n,face:null,faceIndex:a,uv:null,uv1:null})}}(this,e):function cbe(n,t,e){const i=t.projectionMatrix,o=n.material.resolution,s=n.matrixWorld,a=n.geometry,c=a.attributes.instanceStart,l=a.attributes.instanceEnd,d=Math.min(a.instanceCount,c.count),u=-t.near;ua.at(1,la),la.w=1,la.applyMatrix4(t.matrixWorldInverse),la.applyMatrix4(i),la.multiplyScalar(1/la.w),la.x*=o.x/2,la.y*=o.y/2,la.z=0,$1.copy(la),Y1.multiplyMatrices(t.matrixWorldInverse,s);for(let h=0,f=d;h<f;h++){if(Tr.fromBufferAttribute(c,h),Dr.fromBufferAttribute(l,h),Tr.w=1,Dr.w=1,Tr.applyMatrix4(Y1),Dr.applyMatrix4(Y1),Tr.z>u&&Dr.z>u)continue;Tr.z>u?Tr.lerp(Dr,(Tr.z-u)/(Tr.z-Dr.z)):Dr.z>u&&Dr.lerp(Tr,(Dr.z-u)/(Dr.z-Tr.z)),Tr.applyMatrix4(i),Dr.applyMatrix4(i),Tr.multiplyScalar(1/Tr.w),Dr.multiplyScalar(1/Dr.w),Tr.x*=o.x/2,Tr.y*=o.y/2,Dr.x*=o.x/2,Dr.y*=o.y/2,Ir.start.copy(Tr),Ir.start.z=0,Ir.end.copy(Dr),Ir.end.z=0;const v=Ir.closestPointToPointParameter($1,!0);Ir.at(v,RV);const g=d4.lerp(Tr.z,Dr.z,v),b=g>=-1&&g<=1,y=$1.distanceTo(RV)<.5*gd;if(b&&y){Ir.start.fromBufferAttribute(c,h),Ir.end.fromBufferAttribute(l,h),Ir.start.applyMatrix4(s),Ir.end.applyMatrix4(s);const x=new G,E=new G;ua.distanceSqToSegment(Ir.start,Ir.end,E,x),e.push({point:E,pointOnLine:x,distance:ua.origin.distanceTo(E),object:n,face:null,faceIndex:h,uv:null,uv1:null})}}}(this,r,e)))}}class LV extends IV{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(t){const e=t.length-3,i=new Float32Array(2*e);for(let r=0;r<e;r+=3)i[2*r]=t[r],i[2*r+1]=t[r+1],i[2*r+2]=t[r+2],i[2*r+3]=t[r+3],i[2*r+4]=t[r+4],i[2*r+5]=t[r+5];return super.setPositions(i),this}setColors(t){const e=t.length-3,i=new Float32Array(2*e);for(let r=0;r<e;r+=3)i[2*r]=t[r],i[2*r+1]=t[r+1],i[2*r+2]=t[r+2],i[2*r+3]=t[r+3],i[2*r+4]=t[r+4],i[2*r+5]=t[r+5];return super.setColors(i),this}fromLine(t){return this.setPositions(t.geometry.attributes.position.array),this}}class dbe extends lbe{constructor(t=new LV,e=new W1({color:16777215*Math.random()})){super(t,e),this.isLine2=!0,this.type="Line2"}}class ube extends dd{constructor(t){super(t)}load(t,e,i,r){const o=this,s=""===this.path?N1.extractUrlBase(t):this.path,a=new cs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(c){try{e(o.parse(c,s))}catch(l){r?r(l):console.error(l),o.manager.itemError(t)}},i,r)}setMaterialOptions(t){return this.materialOptions=t,this}parse(t,e){const i=t.split("\n");let r={};const o=/\s+/,s={};for(let c=0;c<i.length;c++){let l=i[c];if(l=l.trim(),0===l.length||"#"===l.charAt(0))continue;const d=l.indexOf(" ");let u=d>=0?l.substring(0,d):l;u=u.toLowerCase();let h=d>=0?l.substring(d+1):"";if(h=h.trim(),"newmtl"===u)r={name:h},s[h]=r;else if("ka"===u||"kd"===u||"ks"===u||"ke"===u){const f=h.split(o,3);r[u]=[parseFloat(f[0]),parseFloat(f[1]),parseFloat(f[2])]}else r[u]=h}const a=new hbe(this.resourcePath||e,this.materialOptions);return a.setCrossOrigin(this.crossOrigin),a.setManager(this.manager),a.setMaterials(s),a}}class hbe{constructor(t="",e={}){this.baseUrl=t,this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=void 0!==this.options.side?this.options.side:0,this.wrap=void 0!==this.options.wrap?this.options.wrap:1e3}setCrossOrigin(t){return this.crossOrigin=t,this}setManager(t){this.manager=t}setMaterials(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(t){if(!this.options)return t;const e={};for(const i in t){const r=t[i],o={};e[i]=o;for(const s in r){let a=!0,c=r[s];const l=s.toLowerCase();switch(l){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(c=[c[0]/255,c[1]/255,c[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===c[0]&&0===c[1]&&0===c[2]&&(a=!1)}a&&(o[l]=c)}}return e}preload(){for(const t in this.materialsInfo)this.create(t)}getIndex(t){return this.nameLookup[t]}getAsArray(){let t=0;for(const e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray}create(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]}createMaterial_(t){const e=this,i=this.materialsInfo[t],r={name:t,side:this.side};function s(a,c){if(r[a])return;const l=e.getTextureParams(c,r),d=e.loadTexture(function o(a,c){return"string"!=typeof c||""===c?"":/^https?:\/\//i.test(c)?c:a+c}(e.baseUrl,l.url));d.repeat.copy(l.scale),d.offset.copy(l.offset),d.wrapS=e.wrap,d.wrapT=e.wrap,("map"===a||"emissiveMap"===a)&&(d.colorSpace=ar),r[a]=d}for(const a in i){const c=i[a];let l;if(""!==c)switch(a.toLowerCase()){case"kd":r.color=(new xt).fromArray(c).convertSRGBToLinear();break;case"ks":r.specular=(new xt).fromArray(c).convertSRGBToLinear();break;case"ke":r.emissive=(new xt).fromArray(c).convertSRGBToLinear();break;case"map_kd":s("map",c);break;case"map_ks":s("specularMap",c);break;case"map_ke":s("emissiveMap",c);break;case"norm":s("normalMap",c);break;case"map_bump":case"bump":s("bumpMap",c);break;case"map_d":s("alphaMap",c),r.transparent=!0;break;case"ns":r.shininess=parseFloat(c);break;case"d":l=parseFloat(c),l<1&&(r.opacity=l,r.transparent=!0);break;case"tr":l=parseFloat(c),this.options&&this.options.invertTrProperty&&(l=1-l),l>0&&(r.opacity=1-l,r.transparent=!0)}}return this.materials[t]=new By(r),this.materials[t]}getTextureParams(t,e){const i={scale:new Ee(1,1),offset:new Ee(0,0)},r=t.split(/\s+/);let o;return o=r.indexOf("-bm"),o>=0&&(e.bumpScale=parseFloat(r[o+1]),r.splice(o,2)),o=r.indexOf("-s"),o>=0&&(i.scale.set(parseFloat(r[o+1]),parseFloat(r[o+2])),r.splice(o,4)),o=r.indexOf("-o"),o>=0&&(i.offset.set(parseFloat(r[o+1]),parseFloat(r[o+2])),r.splice(o,4)),i.url=r.join(" ").trim(),i}loadTexture(t,e,i,r,o){const s=void 0!==this.manager?this.manager:JU;let a=s.getHandler(t);null===a&&(a=new M_e(s)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin);const c=a.load(t,i,r,o);return void 0!==e&&(c.mapping=e),c}}const fbe=/^[og]\s*(.+)?/,pbe=/^mtllib /,mbe=/^usemtl /,gbe=/^usemap /,FV=/\s+/,NV=new G,X1=new G,BV=new G,UV=new G,ls=new G,t0=new xt;function _be(){const n={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);const i=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(r,o){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const a={index:this.materials.length,name:r||"",mtllib:Array.isArray(o)&&o.length>0?o[o.length-1]:"",smooth:void 0!==s?s.smooth:this.smooth,groupStart:void 0!==s?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(c){const l={index:"number"==typeof c?c:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return l.clone=this.clone.bind(l),l}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(r){const o=this.currentMaterial();if(o&&-1===o.groupEnd&&(o.groupEnd=this.geometry.vertices.length/3,o.groupCount=o.groupEnd-o.groupStart,o.inherited=!1),r&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return r&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),o}},i&&i.name&&"function"==typeof i.clone){const r=i.clone(0);r.inherited=!0,this.object.materials.push(r)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){const i=parseInt(t,10);return 3*(i>=0?i-1:i+e/3)},parseNormalIndex:function(t,e){const i=parseInt(t,10);return 3*(i>=0?i-1:i+e/3)},parseUVIndex:function(t,e){const i=parseInt(t,10);return 2*(i>=0?i-1:i+e/2)},addVertex:function(t,e,i){const r=this.vertices,o=this.object.geometry.vertices;o.push(r[t+0],r[t+1],r[t+2]),o.push(r[e+0],r[e+1],r[e+2]),o.push(r[i+0],r[i+1],r[i+2])},addVertexPoint:function(t){const e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){const e=this.vertices;this.object.geometry.vertices.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,i){const r=this.normals,o=this.object.geometry.normals;o.push(r[t+0],r[t+1],r[t+2]),o.push(r[e+0],r[e+1],r[e+2]),o.push(r[i+0],r[i+1],r[i+2])},addFaceNormal:function(t,e,i){const r=this.vertices,o=this.object.geometry.normals;NV.fromArray(r,t),X1.fromArray(r,e),BV.fromArray(r,i),ls.subVectors(BV,X1),UV.subVectors(NV,X1),ls.cross(UV),ls.normalize(),o.push(ls.x,ls.y,ls.z),o.push(ls.x,ls.y,ls.z),o.push(ls.x,ls.y,ls.z)},addColor:function(t,e,i){const r=this.colors,o=this.object.geometry.colors;void 0!==r[t]&&o.push(r[t+0],r[t+1],r[t+2]),void 0!==r[e]&&o.push(r[e+0],r[e+1],r[e+2]),void 0!==r[i]&&o.push(r[i+0],r[i+1],r[i+2])},addUV:function(t,e,i){const r=this.uvs,o=this.object.geometry.uvs;o.push(r[t+0],r[t+1]),o.push(r[e+0],r[e+1]),o.push(r[i+0],r[i+1])},addDefaultUV:function(){const t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){const e=this.uvs;this.object.geometry.uvs.push(e[t+0],e[t+1])},addFace:function(t,e,i,r,o,s,a,c,l){const d=this.vertices.length;let u=this.parseVertexIndex(t,d),h=this.parseVertexIndex(e,d),f=this.parseVertexIndex(i,d);if(this.addVertex(u,h,f),this.addColor(u,h,f),void 0!==a&&""!==a){const m=this.normals.length;u=this.parseNormalIndex(a,m),h=this.parseNormalIndex(c,m),f=this.parseNormalIndex(l,m),this.addNormal(u,h,f)}else this.addFaceNormal(u,h,f);if(void 0!==r&&""!==r){const m=this.uvs.length;u=this.parseUVIndex(r,m),h=this.parseUVIndex(o,m),f=this.parseUVIndex(s,m),this.addUV(u,h,f),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";const e=this.vertices.length;for(let i=0,r=t.length;i<r;i++){const o=this.parseVertexIndex(t[i],e);this.addVertexPoint(o),this.addColor(o)}},addLineGeometry:function(t,e){this.object.geometry.type="Line";const i=this.vertices.length,r=this.uvs.length;for(let o=0,s=t.length;o<s;o++)this.addVertexLine(this.parseVertexIndex(t[o],i));for(let o=0,s=e.length;o<s;o++)this.addUVLine(this.parseUVIndex(e[o],r))}};return n.startObject("",!1),n}class bbe extends dd{constructor(t){super(t),this.materials=null}load(t,e,i,r){const o=this,s=new cs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,function(a){try{e(o.parse(a))}catch(c){r?r(c):console.error(c),o.manager.itemError(t)}},i,r)}setMaterials(t){return this.materials=t,this}parse(t){const e=new _be;-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));const i=t.split("\n");let r=[];for(let a=0,c=i.length;a<c;a++){const l=i[a].trimStart();if(0===l.length)continue;const d=l.charAt(0);if("#"!==d)if("v"===d){const u=l.split(FV);switch(u[0]){case"v":e.vertices.push(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])),u.length>=7?(t0.setRGB(parseFloat(u[4]),parseFloat(u[5]),parseFloat(u[6])).convertSRGBToLinear(),e.colors.push(t0.r,t0.g,t0.b)):e.colors.push(void 0,void 0,void 0);break;case"vn":e.normals.push(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3]));break;case"vt":e.uvs.push(parseFloat(u[1]),parseFloat(u[2]))}}else if("f"===d){const h=l.slice(1).trim().split(FV),f=[];for(let v=0,g=h.length;v<g;v++){const b=h[v];if(b.length>0){const y=b.split("/");f.push(y)}}const m=f[0];for(let v=1,g=f.length-1;v<g;v++){const b=f[v],y=f[v+1];e.addFace(m[0],b[0],y[0],m[1],b[1],y[1],m[2],b[2],y[2])}}else if("l"===d){const u=l.substring(1).trim().split(" ");let h=[];const f=[];if(-1===l.indexOf("/"))h=u;else for(let m=0,v=u.length;m<v;m++){const g=u[m].split("/");""!==g[0]&&h.push(g[0]),""!==g[1]&&f.push(g[1])}e.addLineGeometry(h,f)}else if("p"===d){const h=l.slice(1).trim().split(" ");e.addPointGeometry(h)}else if(null!==(r=fbe.exec(l))){const u=(" "+r[0].slice(1).trim()).slice(1);e.startObject(u)}else if(mbe.test(l))e.object.startMaterial(l.substring(7).trim(),e.materialLibraries);else if(pbe.test(l))e.materialLibraries.push(l.substring(7).trim());else if(gbe.test(l))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===d){if(r=l.split(" "),r.length>1){const h=r[1].trim().toLowerCase();e.object.smooth="0"!==h&&"off"!==h}else e.object.smooth=!0;const u=e.object.currentMaterial();u&&(u.smooth=e.object.smooth)}else{if("\0"===l)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+l+'"')}}e.finalize();const o=new rd;if(o.materialLibraries=[].concat(e.materialLibraries),1==!(1===e.objects.length&&0===e.objects[0].geometry.vertices.length))for(let a=0,c=e.objects.length;a<c;a++){const l=e.objects[a],d=l.geometry,u=l.materials,h="Line"===d.type,f="Points"===d.type;let m=!1;if(0===d.vertices.length)continue;const v=new gn;v.setAttribute("position",new Tt(d.vertices,3)),d.normals.length>0&&v.setAttribute("normal",new Tt(d.normals,3)),d.colors.length>0&&(m=!0,v.setAttribute("color",new Tt(d.colors,3))),!0===d.hasUVIndices&&v.setAttribute("uv",new Tt(d.uvs,2));const g=[];for(let y=0,x=u.length;y<x;y++){const E=u[y],O=E.name+"_"+E.smooth+"_"+m;let R=e.materials[O];if(null!==this.materials)if(R=this.materials.create(E.name),!h||!R||R instanceof Gr){if(f&&R&&!(R instanceof Lh)){const B=new Lh({size:10,sizeAttenuation:!1});ks.prototype.copy.call(B,R),B.color.copy(R.color),B.map=R.map,R=B}}else{const B=new Gr;ks.prototype.copy.call(B,R),B.color.copy(R.color),R=B}void 0===R&&(R=h?new Gr:f?new Lh({size:1,sizeAttenuation:!1}):new By,R.name=E.name,R.flatShading=!E.smooth,R.vertexColors=m,e.materials[O]=R),g.push(R)}let b;if(g.length>1){for(let y=0,x=u.length;y<x;y++){const E=u[y];v.addGroup(E.groupStart,E.groupCount,y)}b=h?new xy(v,g):f?new My(v,g):new ei(v,g)}else b=h?new xy(v,g[0]):f?new My(v,g[0]):new ei(v,g[0]);b.name=l.name,o.add(b)}else if(e.vertices.length>0){const a=new Lh({size:1,sizeAttenuation:!1}),c=new gn;c.setAttribute("position",new Tt(e.vertices,3)),e.colors.length>0&&void 0!==e.colors[0]&&(c.setAttribute("color",new Tt(e.colors,3)),a.vertexColors=!0);const l=new My(c,a);o.add(l)}return o}}class vbe extends dd{constructor(t){super(t)}load(t,e,i,r){const o=this,s=new cs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,function(a){const c=o.parse(JSON.parse(a));e&&e(c)},i,r)}parse(t){return new ybe(t)}}class ybe{constructor(t){this.isFont=!0,this.type="Font",this.data=t}generateShapes(t,e=100){const i=[],r=function xbe(n,t,e){const i=Array.from(n),r=t/e.resolution,o=(e.boundingBox.yMax-e.boundingBox.yMin+e.underlineThickness)*r,s=[];let a=0,c=0;for(let l=0;l<i.length;l++){const d=i[l];if("\n"===d)a=0,c-=o;else{const u=wbe(d,r,a,c,e);a+=u.offsetX,s.push(u.path)}}return s}(t,e,this.data);for(let o=0,s=r.length;o<s;o++)i.push(...r[o].toShapes());return i}}function wbe(n,t,e,i,r){const o=r.glyphs[n]||r.glyphs["?"];if(!o)return void console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");const s=new Kc;let a,c,l,d,u,h,f,m;if(o.o){const v=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let g=0,b=v.length;g<b;)switch(v[g++]){case"m":a=v[g++]*t+e,c=v[g++]*t+i,s.moveTo(a,c);break;case"l":a=v[g++]*t+e,c=v[g++]*t+i,s.lineTo(a,c);break;case"q":l=v[g++]*t+e,d=v[g++]*t+i,u=v[g++]*t+e,h=v[g++]*t+i,s.quadraticCurveTo(u,h,l,d);break;case"b":l=v[g++]*t+e,d=v[g++]*t+i,u=v[g++]*t+e,h=v[g++]*t+i,f=v[g++]*t+e,m=v[g++]*t+i,s.bezierCurveTo(u,h,f,m,l,d)}}return{offsetX:o.ha*t,path:s}}class Cbe extends Ly{constructor(t,e={}){const i=e.font;if(void 0===i)super();else{const r=i.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),super(r,e)}this.type="TextGeometry"}}const VV={type:"change"},q1={type:"start"},zV={type:"end"},n0=new ph,HV=new Xc,Mbe=Math.cos(70*d4.DEG2RAD);class Sbe extends ql{constructor(t,e){super(),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new G,this.cursor=new G,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(se){se.addEventListener("keydown",z),this._domElementKeyEvents=se},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",z),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(VV),i.update(),o=r.NONE},this.update=function(){const se=new G,_t=(new io).setFromUnitVectors(t.up,new G(0,1,0)),nt=_t.clone().invert(),nn=new G,Xt=new io,Qt=new G,jt=2*Math.PI;return function(Pn=null){const be=i.object.position;se.copy(be).sub(i.target),se.applyQuaternion(_t),a.setFromVector3(se),i.autoRotate&&o===r.NONE&&ge(function N(se){return null!==se?2*Math.PI/60*i.autoRotateSpeed*se:2*Math.PI/60/60*i.autoRotateSpeed}(Pn)),i.enableDamping?(a.theta+=c.theta*i.dampingFactor,a.phi+=c.phi*i.dampingFactor):(a.theta+=c.theta,a.phi+=c.phi);let wt=i.minAzimuthAngle,ct=i.maxAzimuthAngle;isFinite(wt)&&isFinite(ct)&&(wt<-Math.PI?wt+=jt:wt>Math.PI&&(wt-=jt),ct<-Math.PI?ct+=jt:ct>Math.PI&&(ct-=jt),a.theta=wt<=ct?Math.max(wt,Math.min(ct,a.theta)):a.theta>(wt+ct)/2?Math.max(wt,a.theta):Math.min(ct,a.theta)),a.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,a.phi)),a.makeSafe(),!0===i.enableDamping?i.target.addScaledVector(d,i.dampingFactor):i.target.add(d),i.target.sub(i.cursor),i.target.clampLength(i.minTargetRadius,i.maxTargetRadius),i.target.add(i.cursor),a.radius=Ce(i.zoomToCursor&&R||i.object.isOrthographicCamera?a.radius:a.radius*l),se.setFromSpherical(a),se.applyQuaternion(nt),be.copy(i.target).add(se),i.object.lookAt(i.target),!0===i.enableDamping?(c.theta*=1-i.dampingFactor,c.phi*=1-i.dampingFactor,d.multiplyScalar(1-i.dampingFactor)):(c.set(0,0,0),d.set(0,0,0));let Ke=!1;if(i.zoomToCursor&&R){let mt=null;if(i.object.isPerspectiveCamera){const Kt=se.length();mt=Ce(Kt*l),i.object.position.addScaledVector(E,Kt-mt),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Kt=new G(O.x,O.y,0);Kt.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/l)),i.object.updateProjectionMatrix(),Ke=!0;const On=new G(O.x,O.y,0);On.unproject(i.object),i.object.position.sub(On).add(Kt),i.object.updateMatrixWorld(),mt=se.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;null!==mt&&(this.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(mt).add(i.object.position):(n0.origin.copy(i.object.position),n0.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(n0.direction))<Mbe?t.lookAt(i.target):(HV.setFromNormalAndCoplanarPoint(i.object.up,i.target),n0.intersectPlane(HV,i.target))))}else i.object.isOrthographicCamera&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/l)),i.object.updateProjectionMatrix(),Ke=!0);return l=1,R=!1,!!(Ke||nn.distanceToSquared(i.object.position)>s||8*(1-Xt.dot(i.object.quaternion))>s||Qt.distanceToSquared(i.target)>0)&&(i.dispatchEvent(VV),nn.copy(i.object.position),Xt.copy(i.object.quaternion),Qt.copy(i.target),Ke=!1,!0)}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",it),i.domElement.removeEventListener("pointerdown",Y),i.domElement.removeEventListener("pointercancel",pt),i.domElement.removeEventListener("wheel",Z),i.domElement.removeEventListener("pointermove",Qe),i.domElement.removeEventListener("pointerup",pt),null!==i._domElementKeyEvents&&(i._domElementKeyEvents.removeEventListener("keydown",z),i._domElementKeyEvents=null)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=r.NONE;const s=1e-6,a=new _V,c=new _V;let l=1;const d=new G,u=new Ee,h=new Ee,f=new Ee,m=new Ee,v=new Ee,g=new Ee,b=new Ee,y=new Ee,x=new Ee,E=new G,O=new Ee;let R=!1;const B=[],$={};function H(){return Math.pow(.95,i.zoomSpeed)}function ge(se){c.theta-=se}function _e(se){c.phi-=se}const Be=function(){const se=new G;return function(nt,nn){se.setFromMatrixColumn(nn,0),se.multiplyScalar(-nt),d.add(se)}}(),ee=function(){const se=new G;return function(nt,nn){!0===i.screenSpacePanning?se.setFromMatrixColumn(nn,1):(se.setFromMatrixColumn(nn,0),se.crossVectors(i.object.up,se)),se.multiplyScalar(nt),d.add(se)}}(),Me=function(){const se=new G;return function(nt,nn){const Xt=i.domElement;if(i.object.isPerspectiveCamera){se.copy(i.object.position).sub(i.target);let jt=se.length();jt*=Math.tan(i.object.fov/2*Math.PI/180),Be(2*nt*jt/Xt.clientHeight,i.object.matrix),ee(2*nn*jt/Xt.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(Be(nt*(i.object.right-i.object.left)/i.object.zoom/Xt.clientWidth,i.object.matrix),ee(nn*(i.object.top-i.object.bottom)/i.object.zoom/Xt.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function pe(se){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?l/=se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ne(se){i.object.isPerspectiveCamera||i.object.isOrthographicCamera?l*=se:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function te(se){if(!i.zoomToCursor)return;R=!0;const _t=i.domElement.getBoundingClientRect(),nn=se.clientY-_t.top,Qt=_t.height;O.x=(se.clientX-_t.left)/_t.width*2-1,O.y=-nn/Qt*2+1,E.set(O.x,O.y,1).unproject(i.object).sub(i.object.position).normalize()}function Ce(se){return Math.max(i.minDistance,Math.min(i.maxDistance,se))}function Pe(se){u.set(se.clientX,se.clientY)}function Ue(se){m.set(se.clientX,se.clientY)}function Ye(){1===B.length?u.set(B[0].pageX,B[0].pageY):u.set(.5*(B[0].pageX+B[1].pageX),.5*(B[0].pageY+B[1].pageY))}function Re(){1===B.length?m.set(B[0].pageX,B[0].pageY):m.set(.5*(B[0].pageX+B[1].pageX),.5*(B[0].pageY+B[1].pageY))}function bt(){const se=B[0].pageX-B[1].pageX,_t=B[0].pageY-B[1].pageY,nt=Math.sqrt(se*se+_t*_t);b.set(0,nt)}function Oe(se){if(1==B.length)h.set(se.pageX,se.pageY);else{const nt=St(se);h.set(.5*(se.pageX+nt.x),.5*(se.pageY+nt.y))}f.subVectors(h,u).multiplyScalar(i.rotateSpeed);const _t=i.domElement;ge(2*Math.PI*f.x/_t.clientHeight),_e(2*Math.PI*f.y/_t.clientHeight),u.copy(h)}function de(se){if(1===B.length)v.set(se.pageX,se.pageY);else{const _t=St(se);v.set(.5*(se.pageX+_t.x),.5*(se.pageY+_t.y))}g.subVectors(v,m).multiplyScalar(i.panSpeed),Me(g.x,g.y),m.copy(v)}function Ne(se){const _t=St(se),nt=se.pageX-_t.x,nn=se.pageY-_t.y,Xt=Math.sqrt(nt*nt+nn*nn);y.set(0,Xt),x.set(0,Math.pow(y.y/b.y,i.zoomSpeed)),pe(x.y),b.copy(y)}function Y(se){!1!==i.enabled&&(0===B.length&&(i.domElement.setPointerCapture(se.pointerId),i.domElement.addEventListener("pointermove",Qe),i.domElement.addEventListener("pointerup",pt)),function ut(se){B.push(se)}(se),"touch"===se.pointerType?function Ie(se){switch(gt(se),B.length){case 1:switch(i.touches.ONE){case 0:if(!1===i.enableRotate)return;Ye(),o=r.TOUCH_ROTATE;break;case 1:if(!1===i.enablePan)return;Re(),o=r.TOUCH_PAN;break;default:o=r.NONE}break;case 2:switch(i.touches.TWO){case 2:if(!1===i.enableZoom&&!1===i.enablePan)return;(function rt(){i.enableZoom&&bt(),i.enablePan&&Re()})(),o=r.TOUCH_DOLLY_PAN;break;case 3:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function q(){i.enableZoom&&bt(),i.enableRotate&&Ye()})(),o=r.TOUCH_DOLLY_ROTATE;break;default:o=r.NONE}break;default:o=r.NONE}o!==r.NONE&&i.dispatchEvent(q1)}(se):function Yt(se){let _t;switch(se.button){case 0:_t=i.mouseButtons.LEFT;break;case 1:_t=i.mouseButtons.MIDDLE;break;case 2:_t=i.mouseButtons.RIGHT;break;default:_t=-1}switch(_t){case 1:if(!1===i.enableZoom)return;(function ue(se){te(se),b.set(se.clientX,se.clientY)})(se),o=r.DOLLY;break;case 0:if(se.ctrlKey||se.metaKey||se.shiftKey){if(!1===i.enablePan)return;Ue(se),o=r.PAN}else{if(!1===i.enableRotate)return;Pe(se),o=r.ROTATE}break;case 2:if(se.ctrlKey||se.metaKey||se.shiftKey){if(!1===i.enableRotate)return;Pe(se),o=r.ROTATE}else{if(!1===i.enablePan)return;Ue(se),o=r.PAN}break;default:o=r.NONE}o!==r.NONE&&i.dispatchEvent(q1)}(se))}function Qe(se){!1!==i.enabled&&("touch"===se.pointerType?function dt(se){switch(gt(se),o){case r.TOUCH_ROTATE:if(!1===i.enableRotate)return;Oe(se),i.update();break;case r.TOUCH_PAN:if(!1===i.enablePan)return;de(se),i.update();break;case r.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function we(se){i.enableZoom&&Ne(se),i.enablePan&&de(se)})(se),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function ie(se){i.enableZoom&&Ne(se),i.enableRotate&&Oe(se)})(se),i.update();break;default:o=r.NONE}}(se):function Gn(se){switch(o){case r.ROTATE:if(!1===i.enableRotate)return;!function ce(se){h.set(se.clientX,se.clientY),f.subVectors(h,u).multiplyScalar(i.rotateSpeed);const _t=i.domElement;ge(2*Math.PI*f.x/_t.clientHeight),_e(2*Math.PI*f.y/_t.clientHeight),u.copy(h),i.update()}(se);break;case r.DOLLY:if(!1===i.enableZoom)return;!function Q(se){y.set(se.clientX,se.clientY),x.subVectors(y,b),x.y>0?pe(H()):x.y<0&&ne(H()),b.copy(y),i.update()}(se);break;case r.PAN:if(!1===i.enablePan)return;!function j(se){v.set(se.clientX,se.clientY),g.subVectors(v,m).multiplyScalar(i.panSpeed),Me(g.x,g.y),m.copy(v),i.update()}(se)}}(se))}function pt(se){(function Bt(se){delete $[se.pointerId];for(let _t=0;_t<B.length;_t++)if(B[_t].pointerId==se.pointerId)return void B.splice(_t,1)})(se),0===B.length&&(i.domElement.releasePointerCapture(se.pointerId),i.domElement.removeEventListener("pointermove",Qe),i.domElement.removeEventListener("pointerup",pt)),i.dispatchEvent(zV),o=r.NONE}function Z(se){!1===i.enabled||!1===i.enableZoom||o!==r.NONE||(se.preventDefault(),i.dispatchEvent(q1),function fe(se){te(se),se.deltaY<0?ne(H()):se.deltaY>0&&pe(H()),i.update()}(se),i.dispatchEvent(zV))}function z(se){!1===i.enabled||!1===i.enablePan||function K(se){let _t=!1;switch(se.code){case i.keys.UP:se.ctrlKey||se.metaKey||se.shiftKey?_e(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):Me(0,i.keyPanSpeed),_t=!0;break;case i.keys.BOTTOM:se.ctrlKey||se.metaKey||se.shiftKey?_e(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):Me(0,-i.keyPanSpeed),_t=!0;break;case i.keys.LEFT:se.ctrlKey||se.metaKey||se.shiftKey?ge(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):Me(i.keyPanSpeed,0),_t=!0;break;case i.keys.RIGHT:se.ctrlKey||se.metaKey||se.shiftKey?ge(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):Me(-i.keyPanSpeed,0),_t=!0}_t&&(se.preventDefault(),i.update())}(se)}function it(se){!1!==i.enabled&&se.preventDefault()}function gt(se){let _t=$[se.pointerId];void 0===_t&&(_t=new Ee,$[se.pointerId]=_t),_t.set(se.pageX,se.pageY)}function St(se){return $[(se.pointerId===B[0].pointerId?B[1]:B[0]).pointerId]}i.domElement.addEventListener("contextmenu",it),i.domElement.addEventListener("pointerdown",Y),i.domElement.addEventListener("pointercancel",pt),i.domElement.addEventListener("wheel",Z,{passive:!1}),this.update()}}class Ebe extends Sbe{constructor(t,e){super(t,e),this.screenSpacePanning=!1,this.mouseButtons={LEFT:2,MIDDLE:1,RIGHT:0},this.touches={ONE:1,TWO:3}}}class Bm{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Abe=new ym(-1,1,1,-1,0,1),Dbe=new class Tbe extends gn{constructor(){super(),this.setAttribute("position",new Tt([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Tt([0,2,0,0,2,0],2))}};class GV{constructor(t){this._mesh=new ei(Dbe,t)}dispose(){this._mesh.geometry.dispose()}render(t){t.render(this._mesh,Abe)}get material(){return this._mesh.material}set material(t){this._mesh.material=t}}class Ibe extends Bm{constructor(t,e,i=null,r=null,o=null){super(),this.scene=t,this.camera=e,this.overrideMaterial=i,this.clearColor=r,this.clearAlpha=o,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new xt}render(t,e,i){const r=t.autoClear;let o,s;t.autoClear=!1,null!==this.overrideMaterial&&(s=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),null!==this.clearColor&&(t.getClearColor(this._oldClearColor),t.setClearColor(this.clearColor)),null!==this.clearAlpha&&(o=t.getClearAlpha(),t.setClearAlpha(this.clearAlpha)),1==this.clearDepth&&t.clearDepth(),t.setRenderTarget(this.renderToScreen?null:i),!0===this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),t.render(this.scene,this.camera),null!==this.clearColor&&t.setClearColor(this._oldClearColor),null!==this.clearAlpha&&t.setClearAlpha(o),null!==this.overrideMaterial&&(this.scene.overrideMaterial=s),t.autoClear=r}}const jV={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\n\t\t}"},Pbe={name:"LuminosityHighPassShader",shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new xt(0)},defaultOpacity:{value:0}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec3 defaultColor;\n\t\tuniform float defaultOpacity;\n\t\tuniform float luminosityThreshold;\n\t\tuniform float smoothWidth;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\n\t\t\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n\t\t\tfloat v = dot( texel.xyz, luma );\n\n\t\t\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n\n\t\t\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n\n\t\t\tgl_FragColor = mix( outputColor, texel, alpha );\n\n\t\t}"};class zh extends Bm{constructor(t,e,i,r){super(),this.strength=void 0!==e?e:1,this.radius=i,this.threshold=r,this.resolution=void 0!==t?new Ee(t.x,t.y):new Ee(256,256),this.clearColor=new xt(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let o=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);this.renderTargetBright=new Is(o,s,{type:Wa}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let u=0;u<this.nMips;u++){const h=new Is(o,s,{type:Wa});h.texture.name="UnrealBloomPass.h"+u,h.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(h);const f=new Is(o,s,{type:Wa});f.texture.name="UnrealBloomPass.v"+u,f.texture.generateMipmaps=!1,this.renderTargetsVertical.push(f),o=Math.round(o/2),s=Math.round(s/2)}const a=Pbe;this.highPassUniforms=Mh.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new zr({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}),this.separableBlurMaterials=[];const c=[3,5,7,9,11];o=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);for(let u=0;u<this.nMips;u++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(c[u])),this.separableBlurMaterials[u].uniforms.invSize.value=new Ee(1/o,1/s),o=Math.round(o/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=e,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new G(1,1,1),new G(1,1,1),new G(1,1,1),new G(1,1,1),new G(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const d=jV;this.copyUniforms=Mh.clone(d.uniforms),this.blendMaterial=new zr({uniforms:this.copyUniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader,blending:2,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new xt,this.oldClearAlpha=1,this.basic=new os,this.fsQuad=new GV(null)}dispose(){for(let t=0;t<this.renderTargetsHorizontal.length;t++)this.renderTargetsHorizontal[t].dispose();for(let t=0;t<this.renderTargetsVertical.length;t++)this.renderTargetsVertical[t].dispose();this.renderTargetBright.dispose();for(let t=0;t<this.separableBlurMaterials.length;t++)this.separableBlurMaterials[t].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(t,e){let i=Math.round(t/2),r=Math.round(e/2);this.renderTargetBright.setSize(i,r);for(let o=0;o<this.nMips;o++)this.renderTargetsHorizontal[o].setSize(i,r),this.renderTargetsVertical[o].setSize(i,r),this.separableBlurMaterials[o].uniforms.invSize.value=new Ee(1/i,1/r),i=Math.round(i/2),r=Math.round(r/2)}render(t,e,i,r,o){t.getClearColor(this._oldClearColor),this.oldClearAlpha=t.getClearAlpha();const s=t.autoClear;t.autoClear=!1,t.setClearColor(this.clearColor,0),o&&t.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=i.texture,t.setRenderTarget(null),t.clear(),this.fsQuad.render(t)),this.highPassUniforms.tDiffuse.value=i.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,t.setRenderTarget(this.renderTargetBright),t.clear(),this.fsQuad.render(t);let a=this.renderTargetBright;for(let c=0;c<this.nMips;c++)this.fsQuad.material=this.separableBlurMaterials[c],this.separableBlurMaterials[c].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[c].uniforms.direction.value=zh.BlurDirectionX,t.setRenderTarget(this.renderTargetsHorizontal[c]),t.clear(),this.fsQuad.render(t),this.separableBlurMaterials[c].uniforms.colorTexture.value=this.renderTargetsHorizontal[c].texture,this.separableBlurMaterials[c].uniforms.direction.value=zh.BlurDirectionY,t.setRenderTarget(this.renderTargetsVertical[c]),t.clear(),this.fsQuad.render(t),a=this.renderTargetsVertical[c];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,t.setRenderTarget(this.renderTargetsHorizontal[0]),t.clear(),this.fsQuad.render(t),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,o&&t.state.buffers.stencil.setTest(!0),this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(i),this.fsQuad.render(t)),t.setClearColor(this._oldClearColor,this.oldClearAlpha),t.autoClear=s}getSeperableBlurMaterial(t){const e=[];for(let i=0;i<t;i++)e.push(.39894*Math.exp(-.5*i*i/(t*t))/t);return new zr({defines:{KERNEL_RADIUS:t},uniforms:{colorTexture:{value:null},invSize:{value:new Ee(.5,.5)},direction:{value:new Ee(.5,.5)},gaussianCoefficients:{value:e}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 invSize;\n\t\t\t\tuniform vec2 direction;\n\t\t\t\tuniform float gaussianCoefficients[KERNEL_RADIUS];\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tfloat weightSum = gaussianCoefficients[0];\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = float(i);\n\t\t\t\t\t\tfloat w = gaussianCoefficients[i];\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\n\t\t\t\t\t\tweightSum += 2.0 * w;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})}getCompositeMaterial(t){return new zr({defines:{NUM_MIPS:t},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\t\t\t\tuniform sampler2D blurTexture1;\n\t\t\t\tuniform sampler2D blurTexture2;\n\t\t\t\tuniform sampler2D blurTexture3;\n\t\t\t\tuniform sampler2D blurTexture4;\n\t\t\t\tuniform sampler2D blurTexture5;\n\t\t\t\tuniform float bloomStrength;\n\t\t\t\tuniform float bloomRadius;\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\n\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\t\t\t\t}"})}}zh.BlurDirectionX=new Ee(1,0),zh.BlurDirectionY=new Ee(0,1);class Z1 extends Bm{constructor(t,e){super(),this.textureID=void 0!==e?e:"tDiffuse",t instanceof zr?(this.uniforms=t.uniforms,this.material=t):t&&(this.uniforms=Mh.clone(t.uniforms),this.material=new zr({name:void 0!==t.name?t.name:"unspecified",defines:Object.assign({},t.defines),uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader})),this.fsQuad=new GV(this.material)}render(t,e,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(t.setRenderTarget(null),this.fsQuad.render(t)):(t.setRenderTarget(e),this.clear&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),this.fsQuad.render(t))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class WV extends Bm{constructor(t,e){super(),this.scene=t,this.camera=e,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(t,e,i){const r=t.getContext(),o=t.state;let s,a;o.buffers.color.setMask(!1),o.buffers.depth.setMask(!1),o.buffers.color.setLocked(!0),o.buffers.depth.setLocked(!0),this.inverse?(s=0,a=1):(s=1,a=0),o.buffers.stencil.setTest(!0),o.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),o.buffers.stencil.setFunc(r.ALWAYS,s,4294967295),o.buffers.stencil.setClear(a),o.buffers.stencil.setLocked(!0),t.setRenderTarget(i),this.clear&&t.clear(),t.render(this.scene,this.camera),t.setRenderTarget(e),this.clear&&t.clear(),t.render(this.scene,this.camera),o.buffers.color.setLocked(!1),o.buffers.depth.setLocked(!1),o.buffers.color.setMask(!0),o.buffers.depth.setMask(!0),o.buffers.stencil.setLocked(!1),o.buffers.stencil.setFunc(r.EQUAL,1,4294967295),o.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),o.buffers.stencil.setLocked(!0)}}class Obe extends Bm{constructor(){super(),this.needsSwap=!1}render(t){t.state.buffers.stencil.setLocked(!1),t.state.buffers.stencil.setTest(!1)}}class $V{constructor(t,e){if(this.renderer=t,this._pixelRatio=t.getPixelRatio(),void 0===e){const i=t.getSize(new Ee);this._width=i.width,this._height=i.height,(e=new Is(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Wa})).texture.name="EffectComposer.rt1"}else this._width=e.width,this._height=e.height;this.renderTarget1=e,this.renderTarget2=e.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new Z1(jV),this.copyPass.material.blending=0,this.clock=new B1}swapBuffers(){const t=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=t}addPass(t){this.passes.push(t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(t,e){this.passes.splice(e,0,t),t.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(t){const e=this.passes.indexOf(t);-1!==e&&this.passes.splice(e,1)}isLastEnabledPass(t){for(let e=t+1;e<this.passes.length;e++)if(this.passes[e].enabled)return!1;return!0}render(t){void 0===t&&(t=this.clock.getDelta());const e=this.renderer.getRenderTarget();let i=!1;for(let r=0,o=this.passes.length;r<o;r++){const s=this.passes[r];if(!1!==s.enabled){if(s.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),s.render(this.renderer,this.writeBuffer,this.readBuffer,t,i),s.needsSwap){if(i){const a=this.renderer.getContext(),c=this.renderer.state.buffers.stencil;c.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,t),c.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==WV&&(s instanceof WV?i=!0:s instanceof Obe&&(i=!1))}}this.renderer.setRenderTarget(e)}reset(t){if(void 0===t){const e=this.renderer.getSize(new Ee);this._pixelRatio=this.renderer.getPixelRatio(),this._width=e.width,this._height=e.height,(t=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=t,this.renderTarget2=t.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(t,e){this._width=t,this._height=e;const i=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(i,r),this.renderTarget2.setSize(i,r);for(let o=0;o<this.passes.length;o++)this.passes[o].setSize(i,r)}setPixelRatio(t){this._pixelRatio=t,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}const Rbe={name:"FXAAShader",uniforms:{tDiffuse:{value:null},resolution:{value:new Ee(1/1024,1/512)}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\tprecision highp float;\n\n\tuniform sampler2D tDiffuse;\n\n\tuniform vec2 resolution;\n\n\tvarying vec2 vUv;\n\n\t// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)\n\n\t//----------------------------------------------------------------------------------\n\t// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag\n\t// SDK Version: v3.00\n\t// Email:       gameworks@nvidia.com\n\t// Site:        http://developer.nvidia.com/\n\t//\n\t// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.\n\t//\n\t// Redistribution and use in source and binary forms, with or without\n\t// modification, are permitted provided that the following conditions\n\t// are met:\n\t//  * Redistributions of source code must retain the above copyright\n\t//    notice, this list of conditions and the following disclaimer.\n\t//  * Redistributions in binary form must reproduce the above copyright\n\t//    notice, this list of conditions and the following disclaimer in the\n\t//    documentation and/or other materials provided with the distribution.\n\t//  * Neither the name of NVIDIA CORPORATION nor the names of its\n\t//    contributors may be used to endorse or promote products derived\n\t//    from this software without specific prior written permission.\n\t//\n\t// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ''AS IS'' AND ANY\n\t// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n\t// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n\t// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n\t// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n\t// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n\t// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n\t// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n\t// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n\t// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n\t// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\t//\n\t//----------------------------------------------------------------------------------\n\n\t#ifndef FXAA_DISCARD\n\t\t\t//\n\t\t\t// Only valid for PC OpenGL currently.\n\t\t\t// Probably will not work when FXAA_GREEN_AS_LUMA = 1.\n\t\t\t//\n\t\t\t// 1 = Use discard on pixels which don't need AA.\n\t\t\t//     For APIs which enable concurrent TEX+ROP from same surface.\n\t\t\t// 0 = Return unchanged color on pixels which don't need AA.\n\t\t\t//\n\t\t\t#define FXAA_DISCARD 0\n\t#endif\n\n\t/*--------------------------------------------------------------------------*/\n\t#define FxaaTexTop(t, p) texture2D(t, p, -100.0)\n\t#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), -100.0)\n\t/*--------------------------------------------------------------------------*/\n\n\t#define NUM_SAMPLES 5\n\n\t// assumes colors have premultipliedAlpha, so that the calculated color contrast is scaled by alpha\n\tfloat contrast( vec4 a, vec4 b ) {\n\t\t\tvec4 diff = abs( a - b );\n\t\t\treturn max( max( max( diff.r, diff.g ), diff.b ), diff.a );\n\t}\n\n\t/*============================================================================\n\n\t\t\t\t\t\t\t\t\tFXAA3 QUALITY - PC\n\n\t============================================================================*/\n\n\t/*--------------------------------------------------------------------------*/\n\tvec4 FxaaPixelShader(\n\t\t\tvec2 posM,\n\t\t\tsampler2D tex,\n\t\t\tvec2 fxaaQualityRcpFrame,\n\t\t\tfloat fxaaQualityEdgeThreshold,\n\t\t\tfloat fxaaQualityinvEdgeThreshold\n\t) {\n\t\t\tvec4 rgbaM = FxaaTexTop(tex, posM);\n\t\t\tvec4 rgbaS = FxaaTexOff(tex, posM, vec2( 0.0, 1.0), fxaaQualityRcpFrame.xy);\n\t\t\tvec4 rgbaE = FxaaTexOff(tex, posM, vec2( 1.0, 0.0), fxaaQualityRcpFrame.xy);\n\t\t\tvec4 rgbaN = FxaaTexOff(tex, posM, vec2( 0.0,-1.0), fxaaQualityRcpFrame.xy);\n\t\t\tvec4 rgbaW = FxaaTexOff(tex, posM, vec2(-1.0, 0.0), fxaaQualityRcpFrame.xy);\n\t\t\t// . S .\n\t\t\t// W M E\n\t\t\t// . N .\n\n\t\t\tbool earlyExit = max( max( max(\n\t\t\t\t\tcontrast( rgbaM, rgbaN ),\n\t\t\t\t\tcontrast( rgbaM, rgbaS ) ),\n\t\t\t\t\tcontrast( rgbaM, rgbaE ) ),\n\t\t\t\t\tcontrast( rgbaM, rgbaW ) )\n\t\t\t\t\t< fxaaQualityEdgeThreshold;\n\t\t\t// . 0 .\n\t\t\t// 0 0 0\n\t\t\t// . 0 .\n\n\t\t\t#if (FXAA_DISCARD == 1)\n\t\t\t\t\tif(earlyExit) FxaaDiscard;\n\t\t\t#else\n\t\t\t\t\tif(earlyExit) return rgbaM;\n\t\t\t#endif\n\n\t\t\tfloat contrastN = contrast( rgbaM, rgbaN );\n\t\t\tfloat contrastS = contrast( rgbaM, rgbaS );\n\t\t\tfloat contrastE = contrast( rgbaM, rgbaE );\n\t\t\tfloat contrastW = contrast( rgbaM, rgbaW );\n\n\t\t\tfloat relativeVContrast = ( contrastN + contrastS ) - ( contrastE + contrastW );\n\t\t\trelativeVContrast *= fxaaQualityinvEdgeThreshold;\n\n\t\t\tbool horzSpan = relativeVContrast > 0.;\n\t\t\t// . 1 .\n\t\t\t// 0 0 0\n\t\t\t// . 1 .\n\n\t\t\t// 45 deg edge detection and corners of objects, aka V/H contrast is too similar\n\t\t\tif( abs( relativeVContrast ) < .3 ) {\n\t\t\t\t\t// locate the edge\n\t\t\t\t\tvec2 dirToEdge;\n\t\t\t\t\tdirToEdge.x = contrastE > contrastW ? 1. : -1.;\n\t\t\t\t\tdirToEdge.y = contrastS > contrastN ? 1. : -1.;\n\t\t\t\t\t// . 2 .      . 1 .\n\t\t\t\t\t// 1 0 2  ~=  0 0 1\n\t\t\t\t\t// . 1 .      . 0 .\n\n\t\t\t\t\t// tap 2 pixels and see which ones are \"outside\" the edge, to\n\t\t\t\t\t// determine if the edge is vertical or horizontal\n\n\t\t\t\t\tvec4 rgbaAlongH = FxaaTexOff(tex, posM, vec2( dirToEdge.x, -dirToEdge.y ), fxaaQualityRcpFrame.xy);\n\t\t\t\t\tfloat matchAlongH = contrast( rgbaM, rgbaAlongH );\n\t\t\t\t\t// . 1 .\n\t\t\t\t\t// 0 0 1\n\t\t\t\t\t// . 0 H\n\n\t\t\t\t\tvec4 rgbaAlongV = FxaaTexOff(tex, posM, vec2( -dirToEdge.x, dirToEdge.y ), fxaaQualityRcpFrame.xy);\n\t\t\t\t\tfloat matchAlongV = contrast( rgbaM, rgbaAlongV );\n\t\t\t\t\t// V 1 .\n\t\t\t\t\t// 0 0 1\n\t\t\t\t\t// . 0 .\n\n\t\t\t\t\trelativeVContrast = matchAlongV - matchAlongH;\n\t\t\t\t\trelativeVContrast *= fxaaQualityinvEdgeThreshold;\n\n\t\t\t\t\tif( abs( relativeVContrast ) < .3 ) { // 45 deg edge\n\t\t\t\t\t\t\t// 1 1 .\n\t\t\t\t\t\t\t// 0 0 1\n\t\t\t\t\t\t\t// . 0 1\n\n\t\t\t\t\t\t\t// do a simple blur\n\t\t\t\t\t\t\treturn mix(\n\t\t\t\t\t\t\t\t\trgbaM,\n\t\t\t\t\t\t\t\t\t(rgbaN + rgbaS + rgbaE + rgbaW) * .25,\n\t\t\t\t\t\t\t\t\t.4\n\t\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\thorzSpan = relativeVContrast > 0.;\n\t\t\t}\n\n\t\t\tif(!horzSpan) rgbaN = rgbaW;\n\t\t\tif(!horzSpan) rgbaS = rgbaE;\n\t\t\t// . 0 .      1\n\t\t\t// 1 0 1  ->  0\n\t\t\t// . 0 .      1\n\n\t\t\tbool pairN = contrast( rgbaM, rgbaN ) > contrast( rgbaM, rgbaS );\n\t\t\tif(!pairN) rgbaN = rgbaS;\n\n\t\t\tvec2 offNP;\n\t\t\toffNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n\t\t\toffNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n\n\t\t\tbool doneN = false;\n\t\t\tbool doneP = false;\n\n\t\t\tfloat nDist = 0.;\n\t\t\tfloat pDist = 0.;\n\n\t\t\tvec2 posN = posM;\n\t\t\tvec2 posP = posM;\n\n\t\t\tint iterationsUsed = 0;\n\t\t\tint iterationsUsedN = 0;\n\t\t\tint iterationsUsedP = 0;\n\t\t\tfor( int i = 0; i < NUM_SAMPLES; i++ ) {\n\t\t\t\t\titerationsUsed = i;\n\n\t\t\t\t\tfloat increment = float(i + 1);\n\n\t\t\t\t\tif(!doneN) {\n\t\t\t\t\t\t\tnDist += increment;\n\t\t\t\t\t\t\tposN = posM + offNP * nDist;\n\t\t\t\t\t\t\tvec4 rgbaEndN = FxaaTexTop(tex, posN.xy);\n\t\t\t\t\t\t\tdoneN = contrast( rgbaEndN, rgbaM ) > contrast( rgbaEndN, rgbaN );\n\t\t\t\t\t\t\titerationsUsedN = i;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(!doneP) {\n\t\t\t\t\t\t\tpDist += increment;\n\t\t\t\t\t\t\tposP = posM - offNP * pDist;\n\t\t\t\t\t\t\tvec4 rgbaEndP = FxaaTexTop(tex, posP.xy);\n\t\t\t\t\t\t\tdoneP = contrast( rgbaEndP, rgbaM ) > contrast( rgbaEndP, rgbaN );\n\t\t\t\t\t\t\titerationsUsedP = i;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(doneN || doneP) break;\n\t\t\t}\n\n\n\t\t\tif ( !doneP && !doneN ) return rgbaM; // failed to find end of edge\n\n\t\t\tfloat dist = min(\n\t\t\t\t\tdoneN ? float( iterationsUsedN ) / float( NUM_SAMPLES - 1 ) : 1.,\n\t\t\t\t\tdoneP ? float( iterationsUsedP ) / float( NUM_SAMPLES - 1 ) : 1.\n\t\t\t);\n\n\t\t\t// hacky way of reduces blurriness of mostly diagonal edges\n\t\t\t// but reduces AA quality\n\t\t\tdist = pow(dist, .5);\n\n\t\t\tdist = 1. - dist;\n\n\t\t\treturn mix(\n\t\t\t\t\trgbaM,\n\t\t\t\t\trgbaN,\n\t\t\t\t\tdist * .5\n\t\t\t);\n\t}\n\n\tvoid main() {\n\t\t\tconst float edgeDetectionQuality = .2;\n\t\t\tconst float invEdgeDetectionQuality = 1. / edgeDetectionQuality;\n\n\t\t\tgl_FragColor = FxaaPixelShader(\n\t\t\t\t\tvUv,\n\t\t\t\t\ttDiffuse,\n\t\t\t\t\tresolution,\n\t\t\t\t\tedgeDetectionQuality, // [0,1] contrast needed, otherwise early discard\n\t\t\t\t\tinvEdgeDetectionQuality\n\t\t\t);\n\n\t}\n\t"};var YV=p(8767);const K1=Symbol.for("yaml.alias"),Q1=Symbol.for("yaml.document"),Qc=Symbol.for("yaml.map"),XV=Symbol.for("yaml.pair"),ic=Symbol.for("yaml.scalar"),Hh=Symbol.for("yaml.seq"),ds=Symbol.for("yaml.node.type"),Gh=n=>!!n&&"object"==typeof n&&n[ds]===K1,Um=n=>!!n&&"object"==typeof n&&n[ds]===Q1,Vm=n=>!!n&&"object"==typeof n&&n[ds]===Qc,Ei=n=>!!n&&"object"==typeof n&&n[ds]===XV,bi=n=>!!n&&"object"==typeof n&&n[ds]===ic,zm=n=>!!n&&"object"==typeof n&&n[ds]===Hh;function Ri(n){if(n&&"object"==typeof n)switch(n[ds]){case Qc:case Hh:return!0}return!1}function Ji(n){if(n&&"object"==typeof n)switch(n[ds]){case K1:case Qc:case ic:case Hh:return!0}return!1}const kbe=n=>(bi(n)||Ri(n))&&!!n.anchor,Mo=Symbol("break visit"),qV=Symbol("skip children"),ha=Symbol("remove node");function _d(n,t){const e=ZV(t);Um(n)?jh(null,n.contents,e,Object.freeze([n]))===ha&&(n.contents=null):jh(null,n,e,Object.freeze([]))}function jh(n,t,e,i){const r=KV(n,t,e,i);if(Ji(r)||Ei(r))return QV(n,i,r),jh(n,r,e,i);if("symbol"!=typeof r)if(Ri(t)){i=Object.freeze(i.concat(t));for(let o=0;o<t.items.length;++o){const s=jh(o,t.items[o],e,i);if("number"==typeof s)o=s-1;else{if(s===Mo)return Mo;s===ha&&(t.items.splice(o,1),o-=1)}}}else if(Ei(t)){i=Object.freeze(i.concat(t));const o=jh("key",t.key,e,i);if(o===Mo)return Mo;o===ha&&(t.key=null);const s=jh("value",t.value,e,i);if(s===Mo)return Mo;s===ha&&(t.value=null)}return r}function J1(n,t){return eA.apply(this,arguments)}function eA(){return(eA=Qn(function*(n,t){const e=ZV(t);Um(n)?(yield Wh(null,n.contents,e,Object.freeze([n])))===ha&&(n.contents=null):yield Wh(null,n,e,Object.freeze([]))})).apply(this,arguments)}function Wh(n,t,e,i){return tA.apply(this,arguments)}function tA(){return(tA=Qn(function*(n,t,e,i){const r=yield KV(n,t,e,i);if(Ji(r)||Ei(r))return QV(n,i,r),Wh(n,r,e,i);if("symbol"!=typeof r)if(Ri(t)){i=Object.freeze(i.concat(t));for(let o=0;o<t.items.length;++o){const s=yield Wh(o,t.items[o],e,i);if("number"==typeof s)o=s-1;else{if(s===Mo)return Mo;s===ha&&(t.items.splice(o,1),o-=1)}}}else if(Ei(t)){i=Object.freeze(i.concat(t));const o=yield Wh("key",t.key,e,i);if(o===Mo)return Mo;o===ha&&(t.key=null);const s=yield Wh("value",t.value,e,i);if(s===Mo)return Mo;s===ha&&(t.value=null)}return r})).apply(this,arguments)}function ZV(n){return"object"==typeof n&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function KV(n,t,e,i){return"function"==typeof e?e(n,t,i):Vm(t)?e.Map?.(n,t,i):zm(t)?e.Seq?.(n,t,i):Ei(t)?e.Pair?.(n,t,i):bi(t)?e.Scalar?.(n,t,i):Gh(t)?e.Alias?.(n,t,i):void 0}function QV(n,t,e){const i=t[t.length-1];if(Ri(i))i.items[n]=e;else if(Ei(i))"key"===n?i.key=e:i.value=e;else{if(!Um(i)){const r=Gh(i)?"alias":"scalar";throw new Error(`Cannot replace node with ${r} parent`)}i.contents=e}}_d.BREAK=Mo,_d.SKIP=qV,_d.REMOVE=ha,J1.BREAK=Mo,J1.SKIP=qV,J1.REMOVE=ha;const Lbe={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Fbe=n=>n.replace(/[!,[\]{}]/g,t=>Lbe[t]);let r0=(()=>{class n{constructor(e,i){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},n.defaultYaml,e),this.tags=Object.assign({},n.defaultTags,i)}clone(){const e=new n(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new n(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:n.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},n.defaultTags)}return e}add(e,i){this.atNextDocument&&(this.yaml={explicit:n.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},n.defaultTags),this.atNextDocument=!1);const r=e.trim().split(/[ \t]+/),o=r.shift();switch(o){case"%TAG":{if(2!==r.length&&(i(0,"%TAG directive should contain exactly two parts"),r.length<2))return!1;const[s,a]=r;return this.tags[s]=a,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==r.length)return i(0,"%YAML directive should contain exactly one part"),!1;const[s]=r;return"1.1"===s||"1.2"===s?(this.yaml.version=s,!0):(i(6,`Unsupported YAML version ${s}`,/^\d+\.\d+$/.test(s)),!1)}default:return i(0,`Unknown directive ${o}`,!0),!1}}tagName(e,i){if("!"===e)return"!";if("!"!==e[0])return i(`Not a valid tag: ${e}`),null;if("<"===e[1]){const a=e.slice(2,-1);return"!"===a||"!!"===a?(i(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&i("Verbatim tags must end with a >"),a)}const[,r,o]=e.match(/^(.*!)([^!]*)$/s);o||i(`The ${e} tag has no suffix`);const s=this.tags[r];if(s)try{return s+decodeURIComponent(o)}catch(a){return i(String(a)),null}return"!"===r?e:(i(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[i,r]of Object.entries(this.tags))if(e.startsWith(r))return i+Fbe(e.substring(r.length));return"!"===e[0]?e:`!<${e}>`}toString(e){const i=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags);let o;if(e&&r.length>0&&Ji(e.contents)){const s={};_d(e.contents,(a,c)=>{Ji(c)&&c.tag&&(s[c.tag]=!0)}),o=Object.keys(s)}else o=[];for(const[s,a]of r)"!!"===s&&"tag:yaml.org,2002:"===a||(!e||o.some(c=>c.startsWith(a)))&&i.push(`%TAG ${s} ${a}`);return i.join("\n")}}return n.defaultYaml={explicit:!1,version:"1.2"},n.defaultTags={"!!":"tag:yaml.org,2002:"},n})();function JV(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){const e=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(e)}return!0}function ez(n){const t=new Set;return _d(n,{Value(e,i){i.anchor&&t.add(i.anchor)}}),t}function tz(n,t){for(let e=1;;++e){const i=`${n}${e}`;if(!t.has(i))return i}}function $h(n,t,e,i){if(i&&"object"==typeof i)if(Array.isArray(i))for(let r=0,o=i.length;r<o;++r){const s=i[r],a=$h(n,i,String(r),s);void 0===a?delete i[r]:a!==s&&(i[r]=a)}else if(i instanceof Map)for(const r of Array.from(i.keys())){const o=i.get(r),s=$h(n,i,r,o);void 0===s?i.delete(r):s!==o&&i.set(r,s)}else if(i instanceof Set)for(const r of Array.from(i)){const o=$h(n,i,r,r);void 0===o?i.delete(r):o!==r&&(i.delete(r),i.add(o))}else for(const[r,o]of Object.entries(i)){const s=$h(n,i,r,o);void 0===s?delete i[r]:s!==o&&(i[r]=s)}return n.call(t,e,i)}function us(n,t,e){if(Array.isArray(n))return n.map((i,r)=>us(i,String(r),e));if(n&&"function"==typeof n.toJSON){if(!e||!kbe(n))return n.toJSON(t,e);const i={aliasCount:0,count:1,res:void 0};e.anchors.set(n,i),e.onCreate=o=>{i.res=o,delete e.onCreate};const r=n.toJSON(t,e);return e.onCreate&&e.onCreate(r),r}return"bigint"!=typeof n||e?.keep?n:Number(n)}class nA{constructor(t){Object.defineProperty(this,ds,{value:t})}clone(){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:e,maxAliasCount:i,onAnchor:r,reviver:o}={}){if(!Um(t))throw new TypeError("A document argument is required");const s={anchors:new Map,doc:t,keep:!0,mapAsMap:!0===e,mapKeyWarned:!1,maxAliasCount:"number"==typeof i?i:100},a=us(this,"",s);if("function"==typeof r)for(const{count:c,res:l}of s.anchors.values())r(l,c);return"function"==typeof o?$h(o,{"":a},"",a):a}}class iA extends nA{constructor(t){super(K1),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t){let e;return _d(t,{Node:(i,r)=>{if(r===this)return _d.BREAK;r.anchor===this.source&&(e=r)}}),e}toJSON(t,e){if(!e)return{source:this.source};const{anchors:i,doc:r,maxAliasCount:o}=e,s=this.resolve(r);if(!s)throw new ReferenceError(`Unresolved alias (the anchor must be set before the alias): ${this.source}`);let a=i.get(s);if(a||(us(s,null,e),a=i.get(s)),!a||void 0===a.res)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(o>=0&&(a.count+=1,0===a.aliasCount&&(a.aliasCount=o0(r,s,i)),a.count*a.aliasCount>o))throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack");return a.res}toString(t,e,i){const r=`*${this.source}`;if(t){if(JV(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source))throw new Error(`Unresolved alias (the anchor must be set before the alias): ${this.source}`);if(t.implicitKey)return`${r} `}return r}}function o0(n,t,e){if(Gh(t)){const i=t.resolve(n),r=e&&i&&e.get(i);return r?r.count*r.aliasCount:0}if(Ri(t)){let i=0;for(const r of t.items){const o=o0(n,r,e);o>i&&(i=o)}return i}if(Ei(t)){const i=o0(n,t.key,e),r=o0(n,t.value,e);return Math.max(i,r)}return 1}const nz=n=>!n||"function"!=typeof n&&"object"!=typeof n;let In=(()=>{class n extends nA{constructor(e){super(ic),this.value=e}toJSON(e,i){return i?.keep?this.value:us(this.value,e,i)}toString(){return String(this.value)}}return n.BLOCK_FOLDED="BLOCK_FOLDED",n.BLOCK_LITERAL="BLOCK_LITERAL",n.PLAIN="PLAIN",n.QUOTE_DOUBLE="QUOTE_DOUBLE",n.QUOTE_SINGLE="QUOTE_SINGLE",n})();const Bbe="tag:yaml.org,2002:";function Hm(n,t,e){if(Um(n)&&(n=n.contents),Ji(n))return n;if(Ei(n)){const u=e.schema[Qc].createNode?.(e.schema,null,e);return u.items.push(n),u}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());const{aliasDuplicateObjects:i,onAnchor:r,onTagObj:o,schema:s,sourceObjects:a}=e;let c;if(i&&n&&"object"==typeof n){if(c=a.get(n),c)return c.anchor||(c.anchor=r(n)),new iA(c.anchor);c={anchor:null,node:null},a.set(n,c)}t?.startsWith("!!")&&(t=Bbe+t.slice(2));let l=function Ube(n,t,e){if(t){const i=e.filter(o=>o.tag===t),r=i.find(o=>!o.format)??i[0];if(!r)throw new Error(`Tag ${t} not found`);return r}return e.find(i=>i.identify?.(n)&&!i.format)}(n,t,s.tags);if(!l){if(n&&"function"==typeof n.toJSON&&(n=n.toJSON()),!n||"object"!=typeof n){const u=new In(n);return c&&(c.node=u),u}l=n instanceof Map?s[Qc]:Symbol.iterator in Object(n)?s[Hh]:s[Qc]}o&&(o(l),delete e.onTagObj);const d=l?.createNode?l.createNode(e.schema,n,e):"function"==typeof l?.nodeClass?.from?l.nodeClass.from(e.schema,n,e):new In(n);return t?d.tag=t:l.default||(d.tag=l.tag),c&&(c.node=d),d}function s0(n,t,e){let i=e;for(let r=t.length-1;r>=0;--r){const o=t[r];if("number"==typeof o&&Number.isInteger(o)&&o>=0){const s=[];s[o]=i,i=s}else i=new Map([[o,i]])}return Hm(i,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}const Gm=n=>null==n||"object"==typeof n&&!!n[Symbol.iterator]().next().done;let rA=(()=>{class n extends nA{constructor(e,i){super(e),Object.defineProperty(this,"schema",{value:i,configurable:!0,enumerable:!1,writable:!0})}clone(e){const i=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(i.schema=e),i.items=i.items.map(r=>Ji(r)||Ei(r)?r.clone(e):r),this.range&&(i.range=this.range.slice()),i}addIn(e,i){if(Gm(e))this.add(i);else{const[r,...o]=e,s=this.get(r,!0);if(Ri(s))s.addIn(o,i);else{if(void 0!==s||!this.schema)throw new Error(`Expected YAML collection at ${r}. Remaining path: ${o}`);this.set(r,s0(this.schema,o,i))}}}deleteIn(e){const[i,...r]=e;if(0===r.length)return this.delete(i);const o=this.get(i,!0);if(Ri(o))return o.deleteIn(r);throw new Error(`Expected YAML collection at ${i}. Remaining path: ${r}`)}getIn(e,i){const[r,...o]=e,s=this.get(r,!0);return 0===o.length?!i&&bi(s)?s.value:s:Ri(s)?s.getIn(o,i):void 0}hasAllNullValues(e){return this.items.every(i=>{if(!Ei(i))return!1;const r=i.value;return null==r||e&&bi(r)&&null==r.value&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){const[i,...r]=e;if(0===r.length)return this.has(i);const o=this.get(i,!0);return!!Ri(o)&&o.hasIn(r)}setIn(e,i){const[r,...o]=e;if(0===o.length)this.set(r,i);else{const s=this.get(r,!0);if(Ri(s))s.setIn(o,i);else{if(void 0!==s||!this.schema)throw new Error(`Expected YAML collection at ${r}. Remaining path: ${o}`);this.set(r,s0(this.schema,o,i))}}}}return n.maxFlowStringSingleLineLength=60,n})();const Vbe=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function rc(n,t){return/^\n+$/.test(n)?n.substring(1):t?n.replace(/^(?! *$)/gm,t):n}const Jc=(n,t,e)=>n.endsWith("\n")?rc(e,t):e.includes("\n")?"\n"+rc(e,t):(n.endsWith(" ")?"":" ")+e,iz="flow",oA="block",a0="quoted";function c0(n,t,e="flow",{indentAtStart:i,lineWidth:r=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!r||r<0)return n;const c=Math.max(1+o,1+r-t.length);if(n.length<=c)return n;const l=[],d={};let u=r-t.length;"number"==typeof i&&(i>r-Math.max(2,o)?l.push(0):u=r-i);let h,f,m=!1,v=-1,g=-1,b=-1;e===oA&&(v=rz(n,v),-1!==v&&(u=v+c));for(let x;x=n[v+=1];){if(e===a0&&"\\"===x){switch(g=v,n[v+1]){case"x":v+=3;break;case"u":v+=5;break;case"U":v+=9;break;default:v+=1}b=v}if("\n"===x)e===oA&&(v=rz(n,v)),u=v+c,h=void 0;else{if(" "===x&&f&&" "!==f&&"\n"!==f&&"\t"!==f){const E=n[v+1];E&&" "!==E&&"\n"!==E&&"\t"!==E&&(h=v)}if(v>=u)if(h)l.push(h),u=h+c,h=void 0;else if(e===a0){for(;" "===f||"\t"===f;)f=x,x=n[v+=1],m=!0;const E=v>b+1?v-2:g-1;if(d[E])return n;l.push(E),d[E]=!0,u=E+c,h=void 0}else m=!0}f=x}if(m&&a&&a(),0===l.length)return n;s&&s();let y=n.slice(0,l[0]);for(let x=0;x<l.length;++x){const E=l[x],O=l[x+1]||n.length;0===E?y=`\n${t}${n.slice(0,O)}`:(e===a0&&d[E]&&(y+=`${n[E]}\\`),y+=`\n${t}${n.slice(E+1,O)}`)}return y}function rz(n,t){let e=n[t+1];for(;" "===e||"\t"===e;){do{e=n[t+=1]}while(e&&"\n"!==e);e=n[t+1]}return t}const l0=(n,t)=>({indentAtStart:t?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),d0=n=>/^(%|---|\.\.\.)/m.test(n);function jm(n,t){const e=JSON.stringify(n);if(t.options.doubleQuotedAsJSON)return e;const{implicitKey:i}=t,r=t.options.doubleQuotedMinMultiLineLength,o=t.indent||(d0(n)?"  ":"");let s="",a=0;for(let c=0,l=e[c];l;l=e[++c])if(" "===l&&"\\"===e[c+1]&&"n"===e[c+2]&&(s+=e.slice(a,c)+"\\ ",c+=1,a=c,l="\\"),"\\"===l)switch(e[c+1]){case"u":{s+=e.slice(a,c);const d=e.substr(c+2,4);switch(d){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:"00"===d.substr(0,2)?s+="\\x"+d.substr(2):s+=e.substr(c,6)}c+=5,a=c+1}break;case"n":if(i||'"'===e[c+2]||e.length<r)c+=1;else{for(s+=e.slice(a,c)+"\n\n";"\\"===e[c+2]&&"n"===e[c+3]&&'"'!==e[c+4];)s+="\n",c+=2;s+=o," "===e[c+2]&&(s+="\\"),c+=1,a=c+1}break;default:c+=1}return s=a?s+e.slice(a):e,i?s:c0(s,o,a0,l0(t,!1))}function sA(n,t){if(!1===t.options.singleQuote||t.implicitKey&&n.includes("\n")||/[ \t]\n|\n[ \t]/.test(n))return jm(n,t);const e=t.indent||(d0(n)?"  ":""),i="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&\n${e}`)+"'";return t.implicitKey?i:c0(i,e,iz,l0(t,!1))}function Yh(n,t){const{singleQuote:e}=t.options;let i;if(!1===e)i=jm;else{const r=n.includes('"'),o=n.includes("'");i=r&&!o?sA:o&&!r?jm:e?sA:jm}return i(n,t)}let aA;try{aA=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{aA=/\n+(?!\n|$)/g}function u0({comment:n,type:t,value:e},i,r,o){const{blockQuote:s,commentString:a,lineWidth:c}=i.options;if(!s||/\n[\t ]+$/.test(e)||/^\s*$/.test(e))return Yh(e,i);const l=i.indent||(i.forceBlockIndent||d0(e)?"  ":""),d="literal"===s||"folded"!==s&&t!==In.BLOCK_FOLDED&&(t===In.BLOCK_LITERAL||!function zbe(n,t,e){if(!t||t<0)return!1;const i=t-e,r=n.length;if(r<=i)return!1;for(let o=0,s=0;o<r;++o)if("\n"===n[o]){if(o-s>i)return!0;if(s=o+1,r-s<=i)return!1}return!0}(e,c,l.length));if(!e)return d?"|\n":">\n";let u,h;for(h=e.length;h>0;--h){const R=e[h-1];if("\n"!==R&&"\t"!==R&&" "!==R)break}let f=e.substring(h);const m=f.indexOf("\n");-1===m?u="-":e===f||m!==f.length-1?(u="+",o&&o()):u="",f&&(e=e.slice(0,-f.length),"\n"===f[f.length-1]&&(f=f.slice(0,-1)),f=f.replace(aA,`$&${l}`));let g,v=!1,b=-1;for(g=0;g<e.length;++g){const R=e[g];if(" "===R)v=!0;else{if("\n"!==R)break;b=g}}let y=e.substring(0,b<g?b+1:g);y&&(e=e.substring(y.length),y=y.replace(/\n+/g,`$&${l}`));let E=(d?"|":">")+(v?l?"2":"1":"")+u;return n&&(E+=" "+a(n.replace(/ ?[\r\n]+/g," ")),r&&r()),d?`${E}\n${l}${y}${e=e.replace(/\n+/g,`$&${l}`)}${f}`:`${E}\n${l}${c0(`${y}${e=e.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`)}${f}`,l,oA,l0(i,!0))}`}function cA(n,t,e,i){const{implicitKey:r,inFlow:o}=t,s="string"==typeof n.value?n:Object.assign({},n,{value:String(n.value)});let{type:a}=n;a!==In.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=In.QUOTE_DOUBLE);const c=d=>{switch(d){case In.BLOCK_FOLDED:case In.BLOCK_LITERAL:return r||o?Yh(s.value,t):u0(s,t,e,i);case In.QUOTE_DOUBLE:return jm(s.value,t);case In.QUOTE_SINGLE:return sA(s.value,t);case In.PLAIN:return function Hbe(n,t,e,i){const{type:r,value:o}=n,{actualString:s,implicitKey:a,indent:c,indentStep:l,inFlow:d}=t;if(a&&o.includes("\n")||d&&/[[\]{},]/.test(o))return Yh(o,t);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||d||!o.includes("\n")?Yh(o,t):u0(n,t,e,i);if(!a&&!d&&r!==In.PLAIN&&o.includes("\n"))return u0(n,t,e,i);if(d0(o)){if(""===c)return t.forceBlockIndent=!0,u0(n,t,e,i);if(a&&c===l)return Yh(o,t)}const u=o.replace(/\n+/g,`$&\n${c}`);if(s){const h=v=>v.default&&"tag:yaml.org,2002:str"!==v.tag&&v.test?.test(u),{compat:f,tags:m}=t.doc.schema;if(m.some(h)||f?.some(h))return Yh(o,t)}return a?u:c0(u,c,iz,l0(t,!1))}(s,t,e,i);default:return null}};let l=c(a);if(null===l){const{defaultKeyType:d,defaultStringType:u}=t.options,h=r&&d||u;if(l=c(h),null===l)throw new Error(`Unsupported default string type ${h}`)}return l}function oz(n,t){const e=Object.assign({blockQuote:!0,commentString:Vbe,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,t);let i;switch(e.collectionStyle){case"block":i=!1;break;case"flow":i=!0;break;default:i=null}return{anchors:new Set,doc:n,flowCollectionPadding:e.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof e.indent?" ".repeat(e.indent):"  ",inFlow:i,options:e}}function Xh(n,t,e,i){if(Ei(n))return n.toString(t,e,i);if(Gh(n)){if(t.doc.directives)return n.toString(t);if(t.resolvedAliases?.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(n):t.resolvedAliases=new Set([n]),n=n.resolve(t.doc)}let r;const o=Ji(n)?n:t.doc.createNode(n,{onTagObj:c=>r=c});r||(r=function Gbe(n,t){if(t.tag){const r=n.filter(o=>o.tag===t.tag);if(r.length>0)return r.find(o=>o.format===t.format)??r[0]}let e,i;if(bi(t)){i=t.value;const r=n.filter(o=>o.identify?.(i));e=r.find(o=>o.format===t.format)??r.find(o=>!o.format)}else i=t,e=n.find(r=>r.nodeClass&&i instanceof r.nodeClass);if(!e)throw new Error(`Tag not resolved for ${i?.constructor?.name??typeof i} value`);return e}(t.doc.schema.tags,o));const s=function jbe(n,t,{anchors:e,doc:i}){if(!i.directives)return"";const r=[],o=(bi(n)||Ri(n))&&n.anchor;o&&JV(o)&&(e.add(o),r.push(`&${o}`));const s=n.tag?n.tag:t.default?null:t.tag;return s&&r.push(i.directives.tagString(s)),r.join(" ")}(o,r,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const a="function"==typeof r.stringify?r.stringify(o,t,e,i):bi(o)?cA(o,t,e,i):o.toString(t,e,i);return s?bi(o)||"{"===a[0]||"["===a[0]?`${s} ${a}`:`${s}\n${t.indent}${a}`:a}function sz(n,t){("debug"===n||"warn"===n)&&(typeof process<"u"&&process.emitWarning?process.emitWarning(t):console.warn(t))}function cz(n,t,{key:e,value:i}){if(n?.doc.schema.merge&&$be(e))if(i=Gh(i)?i.resolve(n.doc):i,zm(i))for(const r of i.items)lA(n,t,r);else if(Array.isArray(i))for(const r of i)lA(n,t,r);else lA(n,t,i);else{const r=us(e,"",n);if(t instanceof Map)t.set(r,us(i,r,n));else if(t instanceof Set)t.add(r);else{const o=function Ybe(n,t,e){if(null===t)return"";if("object"!=typeof t)return String(t);if(Ji(n)&&e?.doc){const i=oz(e.doc,{});i.anchors=new Set;for(const o of e.anchors.keys())i.anchors.add(o.anchor);i.inFlow=!0,i.inStringifyKey=!0;const r=n.toString(i);if(!e.mapKeyWarned){let o=JSON.stringify(r);o.length>40&&(o=o.substring(0,36)+'..."'),sz(e.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),e.mapKeyWarned=!0}return r}return JSON.stringify(t)}(e,r,n),s=us(i,o,n);o in t?Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[o]=s}}return t}const $be=n=>"<<"===n||bi(n)&&"<<"===n.value&&(!n.type||n.type===In.PLAIN);function lA(n,t,e){const i=n&&Gh(e)?e.resolve(n.doc):e;if(!Vm(i))throw new Error("Merge sources must be maps or map aliases");const r=i.toJSON(null,n,Map);for(const[o,s]of r)t instanceof Map?t.has(o)||t.set(o,s):t instanceof Set?t.add(o):Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(t,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return t}function dA(n,t,e){const i=Hm(n,void 0,e),r=Hm(t,void 0,e);return new so(i,r)}class so{constructor(t,e=null){Object.defineProperty(this,ds,{value:XV}),this.key=t,this.value=e}clone(t){let{key:e,value:i}=this;return Ji(e)&&(e=e.clone(t)),Ji(i)&&(i=i.clone(t)),new so(e,i)}toJSON(t,e){return cz(e,e?.mapAsMap?new Map:{},this)}toString(t,e,i){return t?.doc?function Wbe({key:n,value:t},e,i,r){const{allNullValues:o,doc:s,indent:a,indentStep:c,options:{commentString:l,indentSeq:d,simpleKeys:u}}=e;let h=Ji(n)&&n.comment||null;if(u){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(Ri(n))throw new Error("With simple keys, collection cannot be used as a key value")}let f=!u&&(!n||h&&null==t&&!e.inFlow||Ri(n)||(bi(n)?n.type===In.BLOCK_FOLDED||n.type===In.BLOCK_LITERAL:"object"==typeof n));e=Object.assign({},e,{allNullValues:!1,implicitKey:!f&&(u||!o),indent:a+c});let b,y,x,m=!1,v=!1,g=Xh(n,e,()=>m=!0,()=>v=!0);if(!f&&!e.inFlow&&g.length>1024){if(u)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");f=!0}if(e.inFlow){if(o||null==t)return m&&i&&i(),""===g?"?":f?`? ${g}`:g}else if(o&&!u||null==t&&f)return g=`? ${g}`,h&&!m?g+=Jc(g,e.indent,l(h)):v&&r&&r(),g;m&&(h=null),f?(h&&(g+=Jc(g,e.indent,l(h))),g=`? ${g}\n${a}:`):(g=`${g}:`,h&&(g+=Jc(g,e.indent,l(h)))),Ji(t)?(b=!!t.spaceBefore,y=t.commentBefore,x=t.comment):(b=!1,y=null,x=null,t&&"object"==typeof t&&(t=s.createNode(t))),e.implicitKey=!1,!f&&!h&&bi(t)&&(e.indentAtStart=g.length+1),v=!1,!d&&c.length>=2&&!e.inFlow&&!f&&zm(t)&&!t.flow&&!t.tag&&!t.anchor&&(e.indent=e.indent.substring(2));let E=!1;const O=Xh(t,e,()=>E=!0,()=>v=!0);let R=" ";if(h||b||y)R=b?"\n":"",y&&(R+=`\n${rc(l(y),e.indent)}`),""!==O||e.inFlow?R+=`\n${e.indent}`:"\n"===R&&(R="\n\n");else if(!f&&Ri(t)){const B=O[0],$=O.indexOf("\n"),N=-1!==$;if(N||!(e.inFlow??t.flow??0===t.items.length)){let ge=!1;if(N&&("&"===B||"!"===B)){let _e=O.indexOf(" ");"&"===B&&-1!==_e&&_e<$&&"!"===O[_e+1]&&(_e=O.indexOf(" ",_e+1)),(-1===_e||$<_e)&&(ge=!0)}ge||(R=`\n${e.indent}`)}}else(""===O||"\n"===O[0])&&(R="");return g+=R+O,e.inFlow?E&&i&&i():x&&!E?g+=Jc(g,e.indent,l(x)):v&&r&&r(),g}(this,t,e,i):JSON.stringify(this)}}function lz(n,t,e){return(t.inFlow??n.flow?qbe:Xbe)(n,t,e)}function Xbe({comment:n,items:t},e,{blockItemPrefix:i,flowChars:r,itemIndent:o,onChompKeep:s,onComment:a}){const{indent:c,options:{commentString:l}}=e,d=Object.assign({},e,{indent:o,type:null});let u=!1;const h=[];for(let m=0;m<t.length;++m){const v=t[m];let g=null;if(Ji(v))!u&&v.spaceBefore&&h.push(""),h0(e,h,v.commentBefore,u),v.comment&&(g=v.comment);else if(Ei(v)){const y=Ji(v.key)?v.key:null;y&&(!u&&y.spaceBefore&&h.push(""),h0(e,h,y.commentBefore,u))}u=!1;let b=Xh(v,d,()=>g=null,()=>u=!0);g&&(b+=Jc(b,o,l(g))),u&&g&&(u=!1),h.push(i+b)}let f;if(0===h.length)f=r.start+r.end;else{f=h[0];for(let m=1;m<h.length;++m){const v=h[m];f+=v?`\n${c}${v}`:"\n"}}return n?(f+="\n"+rc(l(n),c),a&&a()):u&&s&&s(),f}function qbe({comment:n,items:t},e,{flowChars:i,itemIndent:r,onComment:o}){const{indent:s,indentStep:a,flowCollectionPadding:c,options:{commentString:l}}=e;r+=a;const d=Object.assign({},e,{indent:r,inFlow:!0,type:null});let u=!1,h=0;const f=[];for(let b=0;b<t.length;++b){const y=t[b];let x=null;if(Ji(y))y.spaceBefore&&f.push(""),h0(e,f,y.commentBefore,!1),y.comment&&(x=y.comment);else if(Ei(y)){const O=Ji(y.key)?y.key:null;O&&(O.spaceBefore&&f.push(""),h0(e,f,O.commentBefore,!1),O.comment&&(u=!0));const R=Ji(y.value)?y.value:null;R?(R.comment&&(x=R.comment),R.commentBefore&&(u=!0)):null==y.value&&O?.comment&&(x=O.comment)}x&&(u=!0);let E=Xh(y,d,()=>x=null);b<t.length-1&&(E+=","),x&&(E+=Jc(E,r,l(x))),!u&&(f.length>h||E.includes("\n"))&&(u=!0),f.push(E),h=f.length}let m;const{start:v,end:g}=i;if(0===f.length)m=v+g;else if(u||(u=f.reduce((y,x)=>y+x.length+2,2)>rA.maxFlowStringSingleLineLength),u){m=v;for(const b of f)m+=b?`\n${a}${s}${b}`:"\n";m+=`\n${s}${g}`}else m=`${v}${c}${f.join(" ")}${c}${g}`;return n&&(m+=Jc(m,s,l(n)),o&&o()),m}function h0({indent:n,options:{commentString:t}},e,i,r){if(i&&r&&(i=i.replace(/^\n+/,"")),i){const o=rc(t(i),n);e.push(o.trimStart())}}function bd(n,t){const e=bi(t)?t.value:t;for(const i of n)if(Ei(i)&&(i.key===t||i.key===e||bi(i.key)&&i.key.value===e))return i}class hs extends rA{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Qc,t),this.items=[]}static from(t,e,i){const{keepUndefined:r,replacer:o}=i,s=new this(t),a=(c,l)=>{if("function"==typeof o)l=o.call(e,c,l);else if(Array.isArray(o)&&!o.includes(c))return;(void 0!==l||r)&&s.items.push(dA(c,l,i))};if(e instanceof Map)for(const[c,l]of e)a(c,l);else if(e&&"object"==typeof e)for(const c of Object.keys(e))a(c,e[c]);return"function"==typeof t.sortMapEntries&&s.items.sort(t.sortMapEntries),s}add(t,e){let i;i=Ei(t)?t:t&&"object"==typeof t&&"key"in t?new so(t.key,t.value):new so(t,t?.value);const r=bd(this.items,i.key),o=this.schema?.sortMapEntries;if(r){if(!e)throw new Error(`Key ${i.key} already set`);bi(r.value)&&nz(i.value)?r.value.value=i.value:r.value=i.value}else if(o){const s=this.items.findIndex(a=>o(i,a)<0);-1===s?this.items.push(i):this.items.splice(s,0,i)}else this.items.push(i)}delete(t){const e=bd(this.items,t);return!!e&&this.items.splice(this.items.indexOf(e),1).length>0}get(t,e){const r=bd(this.items,t)?.value;return(!e&&bi(r)?r.value:r)??void 0}has(t){return!!bd(this.items,t)}set(t,e){this.add(new so(t,e),!0)}toJSON(t,e,i){const r=i?new i:e?.mapAsMap?new Map:{};e?.onCreate&&e.onCreate(r);for(const o of this.items)cz(e,r,o);return r}toString(t,e,i){if(!t)return JSON.stringify(this);for(const r of this.items)if(!Ei(r))throw new Error(`Map items must all be pairs; found ${JSON.stringify(r)} instead`);return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),lz(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:i,onComment:e})}}const qh={collection:"map",default:!0,nodeClass:hs,tag:"tag:yaml.org,2002:map",resolve:(n,t)=>(Vm(n)||t("Expected a mapping for this tag"),n),createNode:(n,t,e)=>hs.from(n,t,e)};class vd extends rA{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(Hh,t),this.items=[]}add(t){this.items.push(t)}delete(t){const e=f0(t);return"number"==typeof e&&this.items.splice(e,1).length>0}get(t,e){const i=f0(t);if("number"!=typeof i)return;const r=this.items[i];return!e&&bi(r)?r.value:r}has(t){const e=f0(t);return"number"==typeof e&&e<this.items.length}set(t,e){const i=f0(t);if("number"!=typeof i)throw new Error(`Expected a valid index, not ${t}.`);const r=this.items[i];bi(r)&&nz(e)?r.value=e:this.items[i]=e}toJSON(t,e){const i=[];e?.onCreate&&e.onCreate(i);let r=0;for(const o of this.items)i.push(us(o,String(r++),e));return i}toString(t,e,i){return t?lz(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:i,onComment:e}):JSON.stringify(this)}static from(t,e,i){const{replacer:r}=i,o=new this(t);if(e&&Symbol.iterator in Object(e)){let s=0;for(let a of e){if("function"==typeof r){const c=e instanceof Set?a:String(s++);a=r.call(e,c,a)}o.items.push(Hm(a,void 0,i))}}return o}}function f0(n){let t=bi(n)?n.value:n;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}const Zh={collection:"seq",default:!0,nodeClass:vd,tag:"tag:yaml.org,2002:seq",resolve:(n,t)=>(zm(n)||t("Expected a sequence for this tag"),n),createNode:(n,t,e)=>vd.from(n,t,e)},p0={identify:n=>"string"==typeof n,default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify:(n,t,e,i)=>cA(n,t=Object.assign({actualString:!0},t),e,i)},m0={identify:n=>null==n,createNode:()=>new In(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new In(null),stringify:({source:n},t)=>"string"==typeof n&&m0.test.test(n)?n:t.options.nullStr},uA={identify:n=>"boolean"==typeof n,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:n=>new In("t"===n[0]||"T"===n[0]),stringify:({source:n,value:t},e)=>n&&uA.test.test(n)&&t===("t"===n[0]||"T"===n[0])?n:t?e.options.trueStr:e.options.falseStr};function Ls({format:n,minFractionDigits:t,tag:e,value:i}){if("bigint"==typeof i)return String(i);const r="number"==typeof i?i:Number(i);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let o=JSON.stringify(i);if(!n&&t&&(!e||"tag:yaml.org,2002:float"===e)&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=t-(o.length-s-1);for(;a-- >0;)o+="0"}return o}const dz={identify:n=>"number"==typeof n,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:n=>"nan"===n.slice(-3).toLowerCase()?NaN:"-"===n[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ls},uz={identify:n=>"number"==typeof n,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n),stringify(n){const t=Number(n.value);return isFinite(t)?t.toExponential():Ls(n)}},hz={identify:n=>"number"==typeof n,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(n){const t=new In(parseFloat(n)),e=n.indexOf(".");return-1!==e&&"0"===n[n.length-1]&&(t.minFractionDigits=n.length-e-1),t},stringify:Ls},g0=n=>"bigint"==typeof n||Number.isInteger(n),hA=(n,t,e,{intAsBigInt:i})=>i?BigInt(n):parseInt(n.substring(t),e);function fz(n,t,e){const{value:i}=n;return g0(i)&&i>=0?e+i.toString(t):Ls(n)}const pz={identify:n=>g0(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(n,t,e)=>hA(n,2,8,e),stringify:n=>fz(n,8,"0o")},mz={identify:g0,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(n,t,e)=>hA(n,0,10,e),stringify:Ls},gz={identify:n=>g0(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(n,t,e)=>hA(n,2,16,e),stringify:n=>fz(n,16,"0x")},Zbe=[qh,Zh,p0,m0,uA,pz,mz,gz,dz,uz,hz];function _z(n){return"bigint"==typeof n||Number.isInteger(n)}const _0=({value:n})=>JSON.stringify(n),Jbe=[qh,Zh].concat([{identify:n=>"string"==typeof n,default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify:_0},{identify:n=>null==n,createNode:()=>new In(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:_0},{identify:n=>"boolean"==typeof n,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:n=>"true"===n,stringify:_0},{identify:_z,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(n,t,{intAsBigInt:e})=>e?BigInt(n):parseInt(n,10),stringify:({value:n})=>_z(n)?n.toString():JSON.stringify(n)},{identify:n=>"number"==typeof n,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:n=>parseFloat(n),stringify:_0}],{default:!0,tag:"",test:/^/,resolve:(n,t)=>(t(`Unresolved plain scalar ${JSON.stringify(n)}`),n)}),fA={identify:n=>n instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(n,t){if("function"==typeof Buffer)return Buffer.from(n,"base64");if("function"==typeof atob){const e=atob(n.replace(/[\n\r]/g,"")),i=new Uint8Array(e.length);for(let r=0;r<e.length;++r)i[r]=e.charCodeAt(r);return i}return t("This environment does not support reading binary tags; either Buffer or atob is required"),n},stringify({comment:n,type:t,value:e},i,r,o){const s=e;let a;if("function"==typeof Buffer)a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let c="";for(let l=0;l<s.length;++l)c+=String.fromCharCode(s[l]);a=btoa(c)}}if(t||(t=In.BLOCK_LITERAL),t!==In.QUOTE_DOUBLE){const c=Math.max(i.options.lineWidth-i.indent.length,i.options.minContentWidth),l=Math.ceil(a.length/c),d=new Array(l);for(let u=0,h=0;u<l;++u,h+=c)d[u]=a.substr(h,c);a=d.join(t===In.BLOCK_LITERAL?"\n":" ")}return cA({comment:n,type:t,value:a},i,r,o)}};function bz(n,t){if(zm(n))for(let e=0;e<n.items.length;++e){let i=n.items[e];if(!Ei(i)){if(Vm(i)){i.items.length>1&&t("Each pair must have its own sequence indicator");const r=i.items[0]||new so(new In(null));if(i.commentBefore&&(r.key.commentBefore=r.key.commentBefore?`${i.commentBefore}\n${r.key.commentBefore}`:i.commentBefore),i.comment){const o=r.value??r.key;o.comment=o.comment?`${i.comment}\n${o.comment}`:i.comment}i=r}n.items[e]=Ei(i)?i:new so(i)}}else t("Expected a sequence for this tag");return n}function vz(n,t,e){const{replacer:i}=e,r=new vd(n);r.tag="tag:yaml.org,2002:pairs";let o=0;if(t&&Symbol.iterator in Object(t))for(let s of t){let a,c;if("function"==typeof i&&(s=i.call(t,String(o++),s)),Array.isArray(s)){if(2!==s.length)throw new TypeError(`Expected [key, value] tuple: ${s}`);a=s[0],c=s[1]}else if(s&&s instanceof Object){const l=Object.keys(s);if(1!==l.length)throw new TypeError(`Expected tuple with one key, not ${l.length} keys`);a=l[0],c=s[a]}else a=s;r.items.push(dA(a,c,e))}return r}const pA={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:bz,createNode:vz};let mA=(()=>{class n extends vd{constructor(){super(),this.add=hs.prototype.add.bind(this),this.delete=hs.prototype.delete.bind(this),this.get=hs.prototype.get.bind(this),this.has=hs.prototype.has.bind(this),this.set=hs.prototype.set.bind(this),this.tag=n.tag}toJSON(e,i){if(!i)return super.toJSON(e);const r=new Map;i?.onCreate&&i.onCreate(r);for(const o of this.items){let s,a;if(Ei(o)?(s=us(o.key,"",i),a=us(o.value,s,i)):s=us(o,"",i),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,a)}return r}static from(e,i,r){const o=vz(e,i,r),s=new this;return s.items=o.items,s}}return n.tag="tag:yaml.org,2002:omap",n})();const gA={collection:"seq",identify:n=>n instanceof Map,nodeClass:mA,default:!1,tag:"tag:yaml.org,2002:omap",resolve(n,t){const e=bz(n,t),i=[];for(const{key:r}of e.items)bi(r)&&(i.includes(r.value)?t(`Ordered maps must not include duplicate keys: ${r.value}`):i.push(r.value));return Object.assign(new mA,e)},createNode:(n,t,e)=>mA.from(n,t,e)};function yz({value:n,source:t},e){return t&&(n?xz:wz).test.test(t)?t:n?e.options.trueStr:e.options.falseStr}const xz={identify:n=>!0===n,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new In(!0),stringify:yz},wz={identify:n=>!1===n,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new In(!1),stringify:yz},eve={identify:n=>"number"==typeof n,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:n=>"nan"===n.slice(-3).toLowerCase()?NaN:"-"===n[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ls},tve={identify:n=>"number"==typeof n,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n.replace(/_/g,"")),stringify(n){const t=Number(n.value);return isFinite(t)?t.toExponential():Ls(n)}},nve={identify:n=>"number"==typeof n,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(n){const t=new In(parseFloat(n.replace(/_/g,""))),e=n.indexOf(".");if(-1!==e){const i=n.substring(e+1).replace(/_/g,"");"0"===i[i.length-1]&&(t.minFractionDigits=i.length)}return t},stringify:Ls},Wm=n=>"bigint"==typeof n||Number.isInteger(n);function b0(n,t,e,{intAsBigInt:i}){const r=n[0];if(("-"===r||"+"===r)&&(t+=1),n=n.substring(t).replace(/_/g,""),i){switch(e){case 2:n=`0b${n}`;break;case 8:n=`0o${n}`;break;case 16:n=`0x${n}`}const s=BigInt(n);return"-"===r?BigInt(-1)*s:s}const o=parseInt(n,e);return"-"===r?-1*o:o}function _A(n,t,e){const{value:i}=n;if(Wm(i)){const r=i.toString(t);return i<0?"-"+e+r.substr(1):e+r}return Ls(n)}const ive={identify:Wm,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(n,t,e)=>b0(n,2,2,e),stringify:n=>_A(n,2,"0b")},rve={identify:Wm,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(n,t,e)=>b0(n,1,8,e),stringify:n=>_A(n,8,"0")},ove={identify:Wm,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(n,t,e)=>b0(n,0,10,e),stringify:Ls},sve={identify:Wm,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(n,t,e)=>b0(n,2,16,e),stringify:n=>_A(n,16,"0x")};let bA=(()=>{class n extends hs{constructor(e){super(e),this.tag=n.tag}add(e){let i;i=Ei(e)?e:new so(e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?e.key:e,null),bd(this.items,i.key)||this.items.push(i)}get(e,i){const r=bd(this.items,e);return!i&&Ei(r)?bi(r.key)?r.key.value:r.key:r}set(e,i){if("boolean"!=typeof i)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof i);const r=bd(this.items,e);r&&!i?this.items.splice(this.items.indexOf(r),1):!r&&i&&this.items.push(new so(e))}toJSON(e,i){return super.toJSON(e,i,Set)}toString(e,i,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),i,r);throw new Error("Set items must all have null values")}static from(e,i,r){const{replacer:o}=r,s=new this(e);if(i&&Symbol.iterator in Object(i))for(let a of i)"function"==typeof o&&(a=o.call(i,a,a)),s.items.push(dA(a,null,r));return s}}return n.tag="tag:yaml.org,2002:set",n})();const vA={collection:"map",identify:n=>n instanceof Set,nodeClass:bA,default:!1,tag:"tag:yaml.org,2002:set",createNode:(n,t,e)=>bA.from(n,t,e),resolve(n,t){if(Vm(n)){if(n.hasAllNullValues(!0))return Object.assign(new bA,n);t("Set items must all have null values")}else t("Expected a mapping for this tag");return n}};function yA(n,t){const e=n[0],i="-"===e||"+"===e?n.substring(1):n,r=s=>t?BigInt(s):Number(s),o=i.replace(/_/g,"").split(":").reduce((s,a)=>s*r(60)+r(a),r(0));return"-"===e?r(-1)*o:o}function Cz(n){let{value:t}=n,e=s=>s;if("bigint"==typeof t)e=s=>BigInt(s);else if(isNaN(t)||!isFinite(t))return Ls(n);let i="";t<0&&(i="-",t*=e(-1));const r=e(60),o=[t%r];return t<60?o.unshift(0):(t=(t-o[0])/r,o.unshift(t%r),t>=60&&(t=(t-o[0])/r,o.unshift(t))),i+o.map(s=>String(s).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}const Mz={identify:n=>"bigint"==typeof n||Number.isInteger(n),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(n,t,{intAsBigInt:e})=>yA(n,e),stringify:Cz},Sz={identify:n=>"number"==typeof n,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:n=>yA(n,!1),stringify:Cz},v0={identify:n=>n instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(n){const t=n.match(v0.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,e,i,r,o,s,a]=t.map(Number),c=t[7]?Number((t[7]+"00").substr(1,3)):0;let l=Date.UTC(e,i-1,r,o||0,s||0,a||0,c);const d=t[8];if(d&&"Z"!==d){let u=yA(d,!1);Math.abs(u)<30&&(u*=60),l-=6e4*u}return new Date(l)},stringify:({value:n})=>n.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},Ez=[qh,Zh,p0,m0,xz,wz,ive,rve,ove,sve,eve,tve,nve,fA,gA,pA,vA,Mz,Sz,v0],Az=new Map([["core",Zbe],["failsafe",[qh,Zh,p0]],["json",Jbe],["yaml11",Ez],["yaml-1.1",Ez]]),Tz={binary:fA,bool:uA,float:hz,floatExp:uz,floatNaN:dz,floatTime:Sz,int:mz,intHex:gz,intOct:pz,intTime:Mz,map:qh,null:m0,omap:gA,pairs:pA,seq:Zh,set:vA,timestamp:v0},ave={"tag:yaml.org,2002:binary":fA,"tag:yaml.org,2002:omap":gA,"tag:yaml.org,2002:pairs":pA,"tag:yaml.org,2002:set":vA,"tag:yaml.org,2002:timestamp":v0};function xA(n,t){let e=Az.get(t);if(!e){if(!Array.isArray(n)){const i=Array.from(Az.keys()).filter(r=>"yaml11"!==r).map(r=>JSON.stringify(r)).join(", ");throw new Error(`Unknown schema "${t}"; use one of ${i} or define customTags array`)}e=[]}if(Array.isArray(n))for(const i of n)e=e.concat(i);else"function"==typeof n&&(e=n(e.slice()));return e.map(i=>{if("string"!=typeof i)return i;const r=Tz[i];if(r)return r;const o=Object.keys(Tz).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${i}"; use one of ${o}`)})}const cve=(n,t)=>n.key<t.key?-1:n.key>t.key?1:0;class wA{constructor({compat:t,customTags:e,merge:i,resolveKnownTags:r,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(t)?xA(t,"compat"):t?xA(null,t):null,this.merge=!!i,this.name="string"==typeof o&&o||"core",this.knownTags=r?ave:{},this.tags=xA(e,this.name),this.toStringOptions=a??null,Object.defineProperty(this,Qc,{value:qh}),Object.defineProperty(this,ic,{value:p0}),Object.defineProperty(this,Hh,{value:Zh}),this.sortMapEntries="function"==typeof s?s:!0===s?cve:null}clone(){const t=Object.create(wA.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}}class y0{constructor(t,e,i){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,ds,{value:Q1});let r=null;"function"==typeof e||Array.isArray(e)?r=e:void 0===i&&e&&(i=e,e=void 0);const o=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},i);this.options=o;let{version:s}=o;i?._directives?(this.directives=i._directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new r0({version:s}),this.setSchema(s,i),this.contents=void 0===t?null:this.createNode(t,r,i)}clone(){const t=Object.create(y0.prototype,{[ds]:{value:Q1}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Ji(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Kh(this.contents)&&this.contents.add(t)}addIn(t,e){Kh(this.contents)&&this.contents.addIn(t,e)}createAlias(t,e){if(!t.anchor){const i=ez(this);t.anchor=!e||i.has(e)?tz(e||"a",i):e}return new iA(t.anchor)}createNode(t,e,i){let r;if("function"==typeof e)t=e.call({"":t},"",t),r=e;else if(Array.isArray(e)){const b=e.filter(y=>"number"==typeof y||y instanceof String||y instanceof Number).map(String);b.length>0&&(e=e.concat(b)),r=e}else void 0===i&&e&&(i=e,e=void 0);const{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:c,onTagObj:l,tag:d}=i??{},{onAnchor:u,setAnchors:h,sourceObjects:f}=function Nbe(n,t){const e=[],i=new Map;let r=null;return{onAnchor:o=>{e.push(o),r||(r=ez(n));const s=tz(t,r);return r.add(s),s},setAnchors:()=>{for(const o of e){const s=i.get(o);if("object"!=typeof s||!s.anchor||!bi(s.node)&&!Ri(s.node)){const a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}s.node.anchor=s.anchor}},sourceObjects:i}}(this,s||"a"),v=Hm(t,d,{aliasDuplicateObjects:o??!0,keepUndefined:c??!1,onAnchor:u,onTagObj:l,replacer:r,schema:this.schema,sourceObjects:f});return a&&Ri(v)&&(v.flow=!0),h(),v}createPair(t,e,i={}){const r=this.createNode(t,null,i),o=this.createNode(e,null,i);return new so(r,o)}delete(t){return!!Kh(this.contents)&&this.contents.delete(t)}deleteIn(t){return Gm(t)?null!=this.contents&&(this.contents=null,!0):!!Kh(this.contents)&&this.contents.deleteIn(t)}get(t,e){return Ri(this.contents)?this.contents.get(t,e):void 0}getIn(t,e){return Gm(t)?!e&&bi(this.contents)?this.contents.value:this.contents:Ri(this.contents)?this.contents.getIn(t,e):void 0}has(t){return!!Ri(this.contents)&&this.contents.has(t)}hasIn(t){return Gm(t)?void 0!==this.contents:!!Ri(this.contents)&&this.contents.hasIn(t)}set(t,e){null==this.contents?this.contents=s0(this.schema,[t],e):Kh(this.contents)&&this.contents.set(t,e)}setIn(t,e){Gm(t)?this.contents=e:null==this.contents?this.contents=s0(this.schema,Array.from(t),e):Kh(this.contents)&&this.contents.setIn(t,e)}setSchema(t,e={}){let i;switch("number"==typeof t&&(t=String(t)),t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new r0({version:"1.1"}),i={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new r0({version:t}),i={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,i=null;break;default:{const r=JSON.stringify(t);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${r}`)}}if(e.schema instanceof Object)this.schema=e.schema;else{if(!i)throw new Error("With a null YAML version, the { schema: Schema } option is required");this.schema=new wA(Object.assign(i,e))}}toJS({json:t,jsonArg:e,mapAsMap:i,maxAliasCount:r,onAnchor:o,reviver:s}={}){const a={anchors:new Map,doc:this,keep:!t,mapAsMap:!0===i,mapKeyWarned:!1,maxAliasCount:"number"==typeof r?r:100},c=us(this.contents,e??"",a);if("function"==typeof o)for(const{count:l,res:d}of a.anchors.values())o(d,l);return"function"==typeof s?$h(s,{"":c},"",c):c}toJSON(t,e){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:e})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){const e=JSON.stringify(t.indent);throw new Error(`"indent" option must be a positive integer, not ${e}`)}return function lve(n,t){const e=[];let i=!0===t.directives;if(!1!==t.directives&&n.directives){const c=n.directives.toString(n);c?(e.push(c),i=!0):n.directives.docStart&&(i=!0)}i&&e.push("---");const r=oz(n,t),{commentString:o}=r.options;if(n.commentBefore){1!==e.length&&e.unshift("");const c=o(n.commentBefore);e.unshift(rc(c,""))}let s=!1,a=null;if(n.contents){if(Ji(n.contents)){if(n.contents.spaceBefore&&i&&e.push(""),n.contents.commentBefore){const d=o(n.contents.commentBefore);e.push(rc(d,""))}r.forceBlockIndent=!!n.comment,a=n.contents.comment}let l=Xh(n.contents,r,()=>a=null,a?void 0:()=>s=!0);a&&(l+=Jc(l,"",o(a))),"|"!==l[0]&&">"!==l[0]||"---"!==e[e.length-1]?e.push(l):e[e.length-1]=`--- ${l}`}else e.push(Xh(n.contents,r));if(n.directives?.docEnd)if(n.comment){const c=o(n.comment);c.includes("\n")?(e.push("..."),e.push(rc(c,""))):e.push(`... ${c}`)}else e.push("...");else{let c=n.comment;c&&s&&(c=c.replace(/^\n+/,"")),c&&((!s||a)&&""!==e[e.length-1]&&e.push(""),e.push(rc(o(c),"")))}return e.join("\n")+"\n"}(this,t)}}function Kh(n){if(Ri(n))return!0;throw new Error("Expected a YAML collection as document contents")}class Dz extends Error{constructor(t,e,i,r){super(),this.name=t,this.code=i,this.message=r,this.pos=e}}class $m extends Dz{constructor(t,e,i){super("YAMLParseError",t,e,i)}}class dve extends Dz{constructor(t,e,i){super("YAMLWarning",t,e,i)}}const Iz=(n,t)=>e=>{if(-1===e.pos[0])return;e.linePos=e.pos.map(a=>t.linePos(a));const{line:i,col:r}=e.linePos[0];e.message+=` at line ${i}, column ${r}`;let o=r-1,s=n.substring(t.lineStarts[i-1],t.lineStarts[i]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){const a=Math.min(o-39,s.length-79);s="\u2026"+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+"\u2026"),i>1&&/^ *$/.test(s.substring(0,o))){let a=n.substring(t.lineStarts[i-2],t.lineStarts[i-1]);a.length>80&&(a=a.substring(0,79)+"\u2026\n"),s=a+s}if(/[^ ]/.test(s)){let a=1;const c=e.linePos[1];c&&c.line===i&&c.col>r&&(a=Math.max(1,Math.min(c.col-r,80-o)));const l=" ".repeat(o)+"^".repeat(a);e.message+=`:\n\n${s}\n${l}\n`}};function Qh(n,{flow:t,indicator:e,next:i,offset:r,onError:o,startOnNewline:s}){let a=!1,c=s,l=s,d="",u="",h=!1,f=!1,m=!1,v=null,g=null,b=null,y=null,x=null;for(const R of n)switch(m&&("space"!==R.type&&"newline"!==R.type&&"comma"!==R.type&&o(R.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),m=!1),R.type){case"space":!t&&c&&"doc-start"!==e&&"\t"===R.source[0]&&o(R,"TAB_AS_INDENT","Tabs are not allowed as indentation"),l=!0;break;case"comment":{l||o(R,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const B=R.source.substring(1)||" ";d?d+=u+B:d=B,u="",c=!1;break}case"newline":c?d?d+=R.source:a=!0:u+=R.source,c=!0,h=!0,(v||g)&&(f=!0),l=!0;break;case"anchor":v&&o(R,"MULTIPLE_ANCHORS","A node can have at most one anchor"),R.source.endsWith(":")&&o(R.offset+R.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),v=R,null===x&&(x=R.offset),c=!1,l=!1,m=!0;break;case"tag":g&&o(R,"MULTIPLE_TAGS","A node can have at most one tag"),g=R,null===x&&(x=R.offset),c=!1,l=!1,m=!0;break;case e:(v||g)&&o(R,"BAD_PROP_ORDER",`Anchors and tags must be after the ${R.source} indicator`),y&&o(R,"UNEXPECTED_TOKEN",`Unexpected ${R.source} in ${t??"collection"}`),y=R,c=!1,l=!1;break;case"comma":if(t){b&&o(R,"UNEXPECTED_TOKEN",`Unexpected , in ${t}`),b=R,c=!1,l=!1;break}default:o(R,"UNEXPECTED_TOKEN",`Unexpected ${R.type} token`),c=!1,l=!1}const E=n[n.length-1],O=E?E.offset+E.source.length:r;return m&&i&&"space"!==i.type&&"newline"!==i.type&&"comma"!==i.type&&("scalar"!==i.type||""!==i.source)&&o(i.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:b,found:y,spaceBefore:a,comment:d,hasNewline:h,hasNewlineAfterProp:f,anchor:v,tag:g,end:O,start:x??O}}function Ym(n){if(!n)return null;switch(n.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(n.source.includes("\n"))return!0;if(n.end)for(const t of n.end)if("newline"===t.type)return!0;return!1;case"flow-collection":for(const t of n.items){for(const e of t.start)if("newline"===e.type)return!0;if(t.sep)for(const e of t.sep)if("newline"===e.type)return!0;if(Ym(t.key)||Ym(t.value))return!0}return!1;default:return!0}}function CA(n,t,e){if("flow-collection"===t?.type){const i=t.end[0];i.indent===n&&("]"===i.source||"}"===i.source)&&Ym(t)&&e(i,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function Pz(n,t,e){const{uniqueKeys:i}=n.options;if(!1===i)return!1;const r="function"==typeof i?i:(o,s)=>o===s||bi(o)&&bi(s)&&o.value===s.value&&!("<<"===o.value&&n.schema.merge);return t.some(o=>r(o.key,e))}const Oz="All mapping items must start at the same column";function Xm(n,t,e,i){let r="";if(n){let o=!1,s="";for(const a of n){const{source:c,type:l}=a;switch(l){case"space":o=!0;break;case"comment":{e&&!o&&i(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const d=c.substring(1)||" ";r?r+=s+d:r=d,s="";break}case"newline":r&&(s+=c),o=!0;break;default:i(a,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}t+=c.length}}return{comment:r,offset:t}}const MA="Block collections are not allowed within flow collections",SA=n=>n&&("block-map"===n.type||"block-seq"===n.type);function EA(n,t,e,i,r,o){const s="block-map"===e.type?function uve({composeNode:n,composeEmptyNode:t},e,i,r,o){const a=new(o?.nodeClass??hs)(e.schema);e.atRoot&&(e.atRoot=!1);let c=i.offset,l=null;for(const d of i.items){const{start:u,key:h,sep:f,value:m}=d,v=Qh(u,{indicator:"explicit-key-ind",next:h??f?.[0],offset:c,onError:r,startOnNewline:!0}),g=!v.found;if(g){if(h&&("block-seq"===h.type?r(c,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==i.indent&&r(c,"BAD_INDENT",Oz)),!v.anchor&&!v.tag&&!f){l=v.end,v.comment&&(a.comment?a.comment+="\n"+v.comment:a.comment=v.comment);continue}(v.hasNewlineAfterProp||Ym(h))&&r(h??u[u.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else v.found?.indent!==i.indent&&r(c,"BAD_INDENT",Oz);const b=v.end,y=h?n(e,h,v,r):t(e,b,u,null,v,r);e.schema.compat&&CA(i.indent,h,r),Pz(e,a.items,y)&&r(b,"DUPLICATE_KEY","Map keys must be unique");const x=Qh(f??[],{indicator:"map-value-ind",next:m,offset:y.range[2],onError:r,startOnNewline:!h||"block-scalar"===h.type});if(c=x.end,x.found){g&&("block-map"===m?.type&&!x.hasNewline&&r(c,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),e.options.strict&&v.start<x.found.offset-1024&&r(y.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const E=m?n(e,m,x,r):t(e,c,f,null,x,r);e.schema.compat&&CA(i.indent,m,r),c=E.range[2];const O=new so(y,E);e.options.keepSourceTokens&&(O.srcToken=d),a.items.push(O)}else{g&&r(y.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),x.comment&&(y.comment?y.comment+="\n"+x.comment:y.comment=x.comment);const E=new so(y);e.options.keepSourceTokens&&(E.srcToken=d),a.items.push(E)}}return l&&l<c&&r(l,"IMPOSSIBLE","Map comment with trailing content"),a.range=[i.offset,c,l??c],a}(n,t,e,i,o):"block-seq"===e.type?function hve({composeNode:n,composeEmptyNode:t},e,i,r,o){const a=new(o?.nodeClass??vd)(e.schema);e.atRoot&&(e.atRoot=!1);let c=i.offset,l=null;for(const{start:d,value:u}of i.items){const h=Qh(d,{indicator:"seq-item-ind",next:u,offset:c,onError:r,startOnNewline:!0});if(!h.found){if(!(h.anchor||h.tag||u)){l=h.end,h.comment&&(a.comment=h.comment);continue}u&&"block-seq"===u.type?r(h.end,"BAD_INDENT","All sequence items must start at the same column"):r(c,"MISSING_CHAR","Sequence item without - indicator")}const f=u?n(e,u,h,r):t(e,h.end,d,null,h,r);e.schema.compat&&CA(i.indent,u,r),c=f.range[2],a.items.push(f)}return a.range=[i.offset,c,l??c],a}(n,t,e,i,o):function fve({composeNode:n,composeEmptyNode:t},e,i,r,o){const s="{"===i.start.source,a=s?"flow map":"flow sequence",l=new(o?.nodeClass??(s?hs:vd))(e.schema);l.flow=!0;const d=e.atRoot;d&&(e.atRoot=!1);let u=i.offset+i.start.source.length;for(let g=0;g<i.items.length;++g){const b=i.items[g],{start:y,key:x,sep:E,value:O}=b,R=Qh(y,{flow:a,indicator:"explicit-key-ind",next:x??E?.[0],offset:u,onError:r,startOnNewline:!1});if(!R.found){if(!(R.anchor||R.tag||E||O)){0===g&&R.comma?r(R.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):g<i.items.length-1&&r(R.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),R.comment&&(l.comment?l.comment+="\n"+R.comment:l.comment=R.comment),u=R.end;continue}!s&&e.options.strict&&Ym(x)&&r(x,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(0===g)R.comma&&r(R.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if(R.comma||r(R.start,"MISSING_CHAR",`Missing , between ${a} items`),R.comment){let B="";e:for(const $ of y)switch($.type){case"comma":case"space":break;case"comment":B=$.source.substring(1);break e;default:break e}if(B){let $=l.items[l.items.length-1];Ei($)&&($=$.value??$.key),$.comment?$.comment+="\n"+B:$.comment=B,R.comment=R.comment.substring(B.length+1)}}if(s||E||R.found){const B=R.end,$=x?n(e,x,R,r):t(e,B,y,null,R,r);SA(x)&&r($.range,"BLOCK_IN_FLOW",MA);const N=Qh(E??[],{flow:a,indicator:"map-value-ind",next:O,offset:$.range[2],onError:r,startOnNewline:!1});if(N.found){if(!s&&!R.found&&e.options.strict){if(E)for(const _e of E){if(_e===N.found)break;if("newline"===_e.type){r(_e,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}R.start<N.found.offset-1024&&r(N.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else O&&("source"in O&&O.source&&":"===O.source[0]?r(O,"MISSING_CHAR",`Missing space after : in ${a}`):r(N.start,"MISSING_CHAR",`Missing , or : between ${a} items`));const H=O?n(e,O,N,r):N.found?t(e,N.end,E,null,N,r):null;H?SA(O)&&r(H.range,"BLOCK_IN_FLOW",MA):N.comment&&($.comment?$.comment+="\n"+N.comment:$.comment=N.comment);const ge=new so($,H);if(e.options.keepSourceTokens&&(ge.srcToken=b),s){const _e=l;Pz(e,_e.items,$)&&r(B,"DUPLICATE_KEY","Map keys must be unique"),_e.items.push(ge)}else{const _e=new hs(e.schema);_e.flow=!0,_e.items.push(ge),l.items.push(_e)}u=H?H.range[2]:N.end}else{const B=O?n(e,O,R,r):t(e,R.end,E,null,R,r);l.items.push(B),u=B.range[2],SA(O)&&r(B.range,"BLOCK_IN_FLOW",MA)}}const h=s?"}":"]",[f,...m]=i.end;let v=u;if(f&&f.source===h)v=f.offset+f.source.length;else{const g=a[0].toUpperCase()+a.substring(1);r(u,d?"MISSING_CHAR":"BAD_INDENT",d?`${g} must end with a ${h}`:`${g} in block collection must be sufficiently indented and end with a ${h}`),f&&1!==f.source.length&&m.unshift(f)}if(m.length>0){const g=Xm(m,v,e.options.strict,r);g.comment&&(l.comment?l.comment+="\n"+g.comment:l.comment=g.comment),l.range=[i.offset,v,g.offset]}else l.range=[i.offset,v,v];return l}(n,t,e,i,o),a=s.constructor;return"!"===r||r===a.tagName?(s.tag=a.tagName,s):(r&&(s.tag=r),s)}function Rz(n){let t,e;try{t=new RegExp("(.*?)(?<![ \t])[ \t]*\r?\n","sy"),e=new RegExp("[ \t]*(.*?)(?:(?<![ \t])[ \t]*)?\r?\n","sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,e=/[ \t]*(.*?)[ \t]*\r?\n/sy}let i=t.exec(n);if(!i)return n;let r=i[1],o=" ",s=t.lastIndex;for(e.lastIndex=s;i=e.exec(n);)""===i[1]?"\n"===o?r+=o:o="\n":(r+=o+i[1],o=" "),s=e.lastIndex;const a=/[ \t]*(.*)/sy;return a.lastIndex=s,i=a.exec(n),r+o+(i?.[1]??"")}function wve(n,t){let e="",i=n[t+1];for(;!(" "!==i&&"\t"!==i&&"\n"!==i&&"\r"!==i||"\r"===i&&"\n"!==n[t+2]);)"\n"===i&&(e+="\n"),i=n[(t+=1)+1];return e||(e=" "),{fold:e,offset:t}}const Cve={0:"\0",a:"\x07",b:"\b",e:"\x1b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v",N:"\x85",_:"\xa0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function Mve(n,t,e,i){const r=n.substr(t,e),s=r.length===e&&/^[0-9a-fA-F]+$/.test(r)?parseInt(r,16):NaN;if(isNaN(s)){const a=n.substr(t-2,e+2);return i(t-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}function kz(n,t,e,i){const{value:r,type:o,comment:s,range:a}="block-scalar"===t.type?function mve(n,t,e){const i=n.offset,r=function gve({offset:n,props:t},e,i){if("block-scalar-header"!==t[0].type)return i(t[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:r}=t[0],o=r[0];let s=0,a="",c=-1;for(let h=1;h<r.length;++h){const f=r[h];if(a||"-"!==f&&"+"!==f){const m=Number(f);!s&&m?s=m:-1===c&&(c=n+h)}else a=f}-1!==c&&i(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${r}`);let l=!1,d="",u=r.length;for(let h=1;h<t.length;++h){const f=t[h];switch(f.type){case"space":l=!0;case"newline":u+=f.source.length;break;case"comment":e&&!l&&i(f,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),u+=f.source.length,d=f.source.substring(1);break;case"error":i(f,"UNEXPECTED_TOKEN",f.message),u+=f.source.length;break;default:{i(f,"UNEXPECTED_TOKEN",`Unexpected token in block scalar header: ${f.type}`);const v=f.source;v&&"string"==typeof v&&(u+=v.length)}}}return{mode:o,indent:s,chomp:a,comment:d,length:u}}(n,t,e);if(!r)return{value:"",type:null,comment:"",range:[i,i,i]};const o=">"===r.mode?In.BLOCK_FOLDED:In.BLOCK_LITERAL,s=n.source?function _ve(n){const t=n.split(/\n( *)/),e=t[0],i=e.match(/^( *)/),o=[i?.[1]?[i[1],e.slice(i[1].length)]:["",e]];for(let s=1;s<t.length;s+=2)o.push([t[s],t[s+1]]);return o}(n.source):[];let a=s.length;for(let v=s.length-1;v>=0;--v){const g=s[v][1];if(""!==g&&"\r"!==g)break;a=v}if(0===a){const v="+"===r.chomp&&s.length>0?"\n".repeat(Math.max(1,s.length-1)):"";let g=i+r.length;return n.source&&(g+=n.source.length),{value:v,type:o,comment:r.comment,range:[i,g,g]}}let c=n.indent+r.indent,l=n.offset+r.length,d=0;for(let v=0;v<a;++v){const[g,b]=s[v];if(""!==b&&"\r"!==b){g.length<c&&e(l+g.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),0===r.indent&&(c=g.length),d=v;break}0===r.indent&&g.length>c&&(c=g.length),l+=g.length+b.length+1}for(let v=s.length-1;v>=a;--v)s[v][0].length>c&&(a=v+1);let u="",h="",f=!1;for(let v=0;v<d;++v)u+=s[v][0].slice(c)+"\n";for(let v=d;v<a;++v){let[g,b]=s[v];l+=g.length+b.length+1;const y="\r"===b[b.length-1];y&&(b=b.slice(0,-1)),b&&g.length<c&&(e(l-b.length-(y?2:1),"BAD_INDENT","Block scalar lines must not be less indented than their "+(r.indent?"explicit indentation indicator":"first line")),g=""),o===In.BLOCK_LITERAL?(u+=h+g.slice(c)+b,h="\n"):g.length>c||"\t"===b[0]?(" "===h?h="\n":!f&&"\n"===h&&(h="\n\n"),u+=h+g.slice(c)+b,h="\n",f=!0):""===b?"\n"===h?u+="\n":h="\n":(u+=h+b,h=" ",f=!1)}switch(r.chomp){case"-":break;case"+":for(let v=a;v<s.length;++v)u+="\n"+s[v][0].slice(c);"\n"!==u[u.length-1]&&(u+="\n");break;default:u+="\n"}const m=i+r.length+n.source.length;return{value:u,type:o,comment:r.comment,range:[i,m,m]}}(t,n.options.strict,i):function bve(n,t,e){const{offset:i,type:r,source:o,end:s}=n;let a,c;const l=(h,f,m)=>e(i+h,f,m);switch(r){case"scalar":a=In.PLAIN,c=function vve(n,t){let e="";switch(n[0]){case"\t":e="a tab character";break;case",":e="flow indicator character ,";break;case"%":e="directive indicator character %";break;case"|":case">":e=`block scalar indicator ${n[0]}`;break;case"@":case"`":e=`reserved character ${n[0]}`}return e&&t(0,"BAD_SCALAR_START",`Plain value cannot start with ${e}`),Rz(n)}(o,l);break;case"single-quoted-scalar":a=In.QUOTE_SINGLE,c=function yve(n,t){return("'"!==n[n.length-1]||1===n.length)&&t(n.length,"MISSING_CHAR","Missing closing 'quote"),Rz(n.slice(1,-1)).replace(/''/g,"'")}(o,l);break;case"double-quoted-scalar":a=In.QUOTE_DOUBLE,c=function xve(n,t){let e="";for(let i=1;i<n.length-1;++i){const r=n[i];if("\r"!==r||"\n"!==n[i+1])if("\n"===r){const{fold:o,offset:s}=wve(n,i);e+=o,i=s}else if("\\"===r){let o=n[++i];const s=Cve[o];if(s)e+=s;else if("\n"===o)for(o=n[i+1];" "===o||"\t"===o;)o=n[1+ ++i];else if("\r"===o&&"\n"===n[i+1])for(o=n[1+ ++i];" "===o||"\t"===o;)o=n[1+ ++i];else if("x"===o||"u"===o||"U"===o){const a={x:2,u:4,U:8}[o];e+=Mve(n,i+1,a,t),i+=a}else{const a=n.substr(i-1,2);t(i-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),e+=a}}else if(" "===r||"\t"===r){const o=i;let s=n[i+1];for(;" "===s||"\t"===s;)s=n[1+ ++i];"\n"!==s&&("\r"!==s||"\n"!==n[i+2])&&(e+=i>o?n.slice(o,i+1):r)}else e+=r}return('"'!==n[n.length-1]||1===n.length)&&t(n.length,"MISSING_CHAR",'Missing closing "quote'),e}(o,l);break;default:return e(n,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${r}`),{value:"",type:null,comment:"",range:[i,i+o.length,i+o.length]}}const d=i+o.length,u=Xm(s,d,t,e);return{value:c,type:a,comment:u.comment,range:[i,d,u.offset]}}(t,n.options.strict,i),c=e?n.directives.tagName(e.source,u=>i(e,"TAG_RESOLVE_FAILED",u)):null,l=e&&c?function Sve(n,t,e,i,r){if("!"===e)return n[ic];const o=[];for(const a of n.tags)if(!a.collection&&a.tag===e){if(!a.default||!a.test)return a;o.push(a)}for(const a of o)if(a.test?.test(t))return a;const s=n.knownTags[e];return s&&!s.collection?(n.tags.push(Object.assign({},s,{default:!1,test:void 0})),s):(r(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${e}`,"tag:yaml.org,2002:str"!==e),n[ic])}(n.schema,r,c,e,i):"scalar"===t.type?function Eve({directives:n,schema:t},e,i,r){const o=t.tags.find(s=>s.default&&s.test?.test(e))||t[ic];if(t.compat){const s=t.compat.find(a=>a.default&&a.test?.test(e))??t[ic];o.tag!==s.tag&&r(i,"TAG_RESOLVE_FAILED",`Value may be parsed as either ${n.tagString(o.tag)} or ${n.tagString(s.tag)}`,!0)}return o}(n,r,t,i):n.schema[ic];let d;try{const u=l.resolve(r,h=>i(e??t,"TAG_RESOLVE_FAILED",h),n.options);d=bi(u)?u:new In(u)}catch(u){const h=u instanceof Error?u.message:String(u);i(e??t,"TAG_RESOLVE_FAILED",h),d=new In(r)}return d.range=a,d.source=r,o&&(d.type=o),c&&(d.tag=c),l.format&&(d.format=l.format),s&&(d.comment=s),d}function Ave(n,t,e){if(t){null===e&&(e=t.length);for(let i=e-1;i>=0;--i){let r=t[i];switch(r.type){case"space":case"comment":case"newline":n-=r.source.length;continue}for(r=t[++i];"space"===r?.type;)n+=r.source.length,r=t[++i];break}}return n}const Tve={composeNode:Lz,composeEmptyNode:AA};function Lz(n,t,e,i){const{spaceBefore:r,comment:o,anchor:s,tag:a}=e;let c,l=!0;switch(t.type){case"alias":c=function Dve({options:n},{offset:t,source:e,end:i},r){const o=new iA(e.substring(1));""===o.source&&r(t,"BAD_ALIAS","Alias cannot be an empty string"),o.source.endsWith(":")&&r(t+e.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const s=t+e.length,a=Xm(i,s,n.strict,r);return o.range=[t,s,a.offset],a.comment&&(o.comment=a.comment),o}(n,t,i),(s||a)&&i(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=kz(n,t,a,i),s&&(c.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=function pve(n,t,e,i,r){const o=i?t.directives.tagName(i.source,u=>r(i,"TAG_RESOLVE_FAILED",u)):null,s="block-map"===e.type?"map":"block-seq"===e.type?"seq":"{"===e.start.source?"map":"seq";if(!i||!o||"!"===o||o===hs.tagName&&"map"===s||o===vd.tagName&&"seq"===s||!s)return EA(n,t,e,r,o);let a=t.schema.tags.find(u=>u.tag===o&&u.collection===s);if(!a){const u=t.schema.knownTags[o];if(!u||u.collection!==s)return u?.collection?r(i,"BAD_COLLECTION_TYPE",`${u.tag} used for ${s} collection, but expects ${u.collection}`,!0):r(i,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),EA(n,t,e,r,o);t.schema.tags.push(Object.assign({},u,{default:!1})),a=u}const c=EA(n,t,e,r,o,a),l=a.resolve?.(c,u=>r(i,"TAG_RESOLVE_FAILED",u),t.options)??c,d=Ji(l)?l:new In(l);return d.range=c.range,d.tag=o,a?.format&&(d.format=a.format),d}(Tve,n,t,a,i),s&&(c.anchor=s.source.substring(1));break;default:i(t,"UNEXPECTED_TOKEN","error"===t.type?t.message:`Unsupported token (type: ${t.type})`),c=AA(n,t.offset,void 0,null,e,i),l=!1}return s&&""===c.anchor&&i(s,"BAD_ALIAS","Anchor cannot be an empty string"),r&&(c.spaceBefore=!0),o&&("scalar"===t.type&&""===t.source?c.comment=o:c.commentBefore=o),n.options.keepSourceTokens&&l&&(c.srcToken=t),c}function AA(n,t,e,i,{spaceBefore:r,comment:o,anchor:s,tag:a,end:c},l){const u=kz(n,{type:"scalar",offset:Ave(t,e,i),indent:-1,source:""},a,l);return s&&(u.anchor=s.source.substring(1),""===u.anchor&&l(s,"BAD_ALIAS","Anchor cannot be an empty string")),r&&(u.spaceBefore=!0),o&&(u.comment=o,u.range[2]=c),u}function qm(n){if("number"==typeof n)return[n,n+1];if(Array.isArray(n))return 2===n.length?n:[n[0],n[1]];const{offset:t,source:e}=n;return[t,t+("string"==typeof e?e.length:1)]}function Fz(n){let t="",e=!1,i=!1;for(let r=0;r<n.length;++r){const o=n[r];switch(o[0]){case"#":t+=(""===t?"":i?"\n\n":"\n")+(o.substring(1)||" "),e=!0,i=!1;break;case"%":"#"!==n[r+1]?.[0]&&(r+=1),e=!1;break;default:e||(i=!0),e=!1}}return{comment:t,afterEmptyLine:i}}class Pve{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(e,i,r,o)=>{const s=qm(e);o?this.warnings.push(new dve(s,i,r)):this.errors.push(new $m(s,i,r))},this.directives=new r0({version:t.version||"1.2"}),this.options=t}decorate(t,e){const{comment:i,afterEmptyLine:r}=Fz(this.prelude);if(i){const o=t.contents;if(e)t.comment=t.comment?`${t.comment}\n${i}`:i;else if(r||t.directives.docStart||!o)t.commentBefore=i;else if(Ri(o)&&!o.flow&&o.items.length>0){let s=o.items[0];Ei(s)&&(s=s.key);const a=s.commentBefore;s.commentBefore=a?`${i}\n${a}`:i}else{const s=o.commentBefore;o.commentBefore=s?`${i}\n${s}`:i}}e?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Fz(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,e=!1,i=-1){for(const r of t)yield*this.next(r);yield*this.end(e,i)}*next(t){switch(t.type){case"directive":this.directives.add(t.source,(e,i,r)=>{const o=qm(t);o[0]+=e,this.onError(o,"BAD_DIRECTIVE",i,r)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{const e=function Ive(n,t,{offset:e,start:i,value:r,end:o},s){const a=Object.assign({_directives:t},n),c=new y0(void 0,a),l={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},d=Qh(i,{indicator:"doc-start",next:r??o?.[0],offset:e,onError:s,startOnNewline:!0});d.found&&(c.directives.docStart=!0,r&&("block-map"===r.type||"block-seq"===r.type)&&!d.hasNewline&&s(d.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=r?Lz(l,r,d,s):AA(l,d.end,i,null,d,s);const u=c.contents.range[2],h=Xm(o,u,!1,s);return h.comment&&(c.comment=h.comment),c.range=[e,u,h.offset],c}(this.options,this.directives,t,this.onError);this.atDirectives&&!e.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(e,!1),this.doc&&(yield this.doc),this.doc=e,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{const e=t.source?`${t.message}: ${JSON.stringify(t.source)}`:t.message,i=new $m(qm(t),"UNEXPECTED_TOKEN",e);this.atDirectives||!this.doc?this.errors.push(i):this.doc.errors.push(i);break}case"doc-end":{if(!this.doc){const i="Unexpected doc-end without preceding document";this.errors.push(new $m(qm(t),"UNEXPECTED_TOKEN",i));break}this.doc.directives.docEnd=!0;const e=Xm(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),e.comment){const i=this.doc.comment;this.doc.comment=i?`${i}\n${e.comment}`:e.comment}this.doc.range[2]=e.offset;break}default:this.errors.push(new $m(qm(t),"UNEXPECTED_TOKEN",`Unsupported token ${t.type}`))}}*end(t=!1,e=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){const i=Object.assign({_directives:this.directives},this.options),r=new y0(void 0,i);this.atDirectives&&this.onError(e,"MISSING_CHAR","Missing directives-end indicator line"),r.range=[0,e,e],this.decorate(r,!1),yield r}}}const DA=Symbol("break visit"),Rve=Symbol("skip children"),Bz=Symbol("remove item");function Jh(n,t){"type"in n&&"document"===n.type&&(n={start:n.start,value:n.value}),Uz(Object.freeze([]),n,t)}function Uz(n,t,e){let i=e(t,n);if("symbol"==typeof i)return i;for(const r of["key","value"]){const o=t[r];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){const a=Uz(Object.freeze(n.concat([[r,s]])),o.items[s],e);if("number"==typeof a)s=a-1;else{if(a===DA)return DA;a===Bz&&(o.items.splice(s,1),s-=1)}}"function"==typeof i&&"key"===r&&(i=i(t,n))}}return"function"==typeof i?i(t,n):i}function fs(n){switch(n){case void 0:case" ":case"\n":case"\r":case"\t":return!0;default:return!1}}Jh.BREAK=DA,Jh.SKIP=Rve,Jh.REMOVE=Bz,Jh.itemAtPath=(n,t)=>{let e=n;for(const[i,r]of t){const o=e?.[i];if(!o||!("items"in o))return;e=o.items[r]}return e},Jh.parentCollection=(n,t)=>{const e=Jh.itemAtPath(n,t.slice(0,-1)),i=t[t.length-1][0],r=e?.[i];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};const Vz="0123456789ABCDEFabcdef".split(""),Lve="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),RA=",[]{}".split(""),Fve=" ,[]{}\n\r\t".split(""),kA=n=>!n||Fve.includes(n);class Nve{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,e=!1){t&&(this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null),this.atEnd=!e;let i=this.next??"stream";for(;i&&(e||this.hasChars(1));)i=yield*this.parseNext(i)}atLineEnd(){let t=this.pos,e=this.buffer[t];for(;" "===e||"\t"===e;)e=this.buffer[++t];return!e||"#"===e||"\n"===e||"\r"===e&&"\n"===this.buffer[t+1]}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let e=this.buffer[t];if(this.indentNext>0){let i=0;for(;" "===e;)e=this.buffer[++i+t];if("\r"===e){const r=this.buffer[i+t+1];if("\n"===r||!r&&!this.atEnd)return t+i+1}return"\n"===e||i>=this.indentNext||!e&&!this.atEnd?t+i:-1}if("-"===e||"."===e){const i=this.buffer.substr(t,3);if(("---"===i||"..."===i)&&fs(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return("number"!=typeof t||-1!==t&&t<this.pos)&&(t=this.buffer.indexOf("\n",this.pos),this.lineEndPos=t),-1===t?this.atEnd?this.buffer.substring(this.pos):null:("\r"===this.buffer[t-1]&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(null===t)return this.setNext("stream");if("\ufeff"===t[0]&&(yield*this.pushCount(1),t=t.substring(1)),"%"===t[0]){let e=t.length;const i=t.indexOf("#");if(-1!==i){const o=t[i-1];(" "===o||"\t"===o)&&(e=i-1)}for(;;){const o=t[e-1];if(" "!==o&&"\t"!==o)break;e-=1}const r=(yield*this.pushCount(e))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-r),this.pushNewline(),"stream"}if(this.atLineEnd()){const e=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-e),yield*this.pushNewline(),"stream"}return yield"\x02",yield*this.parseLineStart()}*parseLineStart(){const t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if("-"===t||"."===t){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const e=this.peek(3);if("---"===e&&fs(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if("..."===e&&fs(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!fs(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[t,e]=this.peek(2);if(!e&&!this.atEnd)return this.setNext("block-start");if(("-"===t||"?"===t||":"===t)&&fs(e)){const i=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=i,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const t=this.getLine();if(null===t)return this.setNext("doc");let e=yield*this.pushIndicators();switch(t[e]){case"#":yield*this.pushCount(t.length-e);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(kA),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return e+=(yield*this.parseBlockScalarHeader()),e+=(yield*this.pushSpaces(!0)),yield*this.pushCount(t.length-e),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,e,i=-1;do{t=yield*this.pushNewline(),t>0?(e=yield*this.pushSpaces(!1),this.indentValue=i=e):e=0,e+=(yield*this.pushSpaces(!0))}while(t+e>0);const r=this.getLine();if(null===r)return this.setNext("flow");if((-1!==i&&i<this.indentNext&&"#"!==r[0]||0===i&&(r.startsWith("---")||r.startsWith("..."))&&fs(r[3]))&&(i!==this.indentNext-1||1!==this.flowLevel||"]"!==r[0]&&"}"!==r[0]))return this.flowLevel=0,yield"\x18",yield*this.parseLineStart();let o=0;for(;","===r[o];)o+=(yield*this.pushCount(1)),o+=(yield*this.pushSpaces(!0)),this.flowKey=!1;switch(o+=(yield*this.pushIndicators()),r[o]){case void 0:return"flow";case"#":return yield*this.pushCount(r.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(kA),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const s=this.charAt(1);if(this.flowKey||fs(s)||","===s)return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const t=this.charAt(0);let e=this.buffer.indexOf(t,this.pos+1);if("'"===t)for(;-1!==e&&"'"===this.buffer[e+1];)e=this.buffer.indexOf("'",e+2);else for(;-1!==e;){let o=0;for(;"\\"===this.buffer[e-1-o];)o+=1;if(o%2==0)break;e=this.buffer.indexOf('"',e+1)}const i=this.buffer.substring(0,e);let r=i.indexOf("\n",this.pos);if(-1!==r){for(;-1!==r;){const o=this.continueScalar(r+1);if(-1===o)break;r=i.indexOf("\n",o)}-1!==r&&(e=r-("\r"===i[r-1]?2:1))}if(-1===e){if(!this.atEnd)return this.setNext("quoted-scalar");e=this.buffer.length}return yield*this.pushToIndex(e+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){const e=this.buffer[++t];if("+"===e)this.blockScalarKeep=!0;else if(e>"0"&&e<="9")this.blockScalarIndent=Number(e)-1;else if("-"!==e)break}return yield*this.pushUntil(e=>fs(e)||"#"===e)}*parseBlockScalar(){let i,t=this.pos-1,e=0;e:for(let r=this.pos;i=this.buffer[r];++r)switch(i){case" ":e+=1;break;case"\n":t=r,e=0;break;case"\r":{const o=this.buffer[r+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if("\n"===o)break}default:break e}if(!i&&!this.atEnd)return this.setNext("block-scalar");if(e>=this.indentNext){-1===this.blockScalarIndent?this.indentNext=e:this.indentNext+=this.blockScalarIndent;do{const r=this.continueScalar(t+1);if(-1===r)break;t=this.buffer.indexOf("\n",r)}while(-1!==t);if(-1===t){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}if(!this.blockScalarKeep)for(;;){let r=t-1,o=this.buffer[r];"\r"===o&&(o=this.buffer[--r]);const s=r;for(;" "===o||"\t"===o;)o=this.buffer[--r];if(!("\n"===o&&r>=this.pos&&r+1+e>s))break;t=r}return yield"\x1f",yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const t=this.flowLevel>0;let r,e=this.pos-1,i=this.pos-1;for(;r=this.buffer[++i];)if(":"===r){const o=this.buffer[i+1];if(fs(o)||t&&","===o)break;e=i}else if(fs(r)){let o=this.buffer[i+1];if("\r"===r&&("\n"===o?(i+=1,r="\n",o=this.buffer[i+1]):e=i),"#"===o||t&&RA.includes(o))break;if("\n"===r){const s=this.continueScalar(i+1);if(-1===s)break;i=Math.max(i,s-2)}}else{if(t&&RA.includes(r))break;e=i}return r||this.atEnd?(yield"\x1f",yield*this.pushToIndex(e+1,!0),t?"flow":"doc"):this.setNext("plain-scalar")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,e){const i=this.buffer.slice(this.pos,t);return i?(yield i,this.pos+=i.length,i.length):(e&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(kA))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const t=this.flowLevel>0,e=this.charAt(1);if(fs(e)||t&&RA.includes(e))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if("<"===this.charAt(1)){let t=this.pos+2,e=this.buffer[t];for(;!fs(e)&&">"!==e;)e=this.buffer[++t];return yield*this.pushToIndex(">"===e?t+1:t,!1)}{let t=this.pos+1,e=this.buffer[t];for(;e;)if(Lve.includes(e))e=this.buffer[++t];else{if("%"!==e||!Vz.includes(this.buffer[t+1])||!Vz.includes(this.buffer[t+2]))break;e=this.buffer[t+=3]}return yield*this.pushToIndex(t,!1)}}*pushNewline(){const t=this.buffer[this.pos];return"\n"===t?yield*this.pushCount(1):"\r"===t&&"\n"===this.charAt(1)?yield*this.pushCount(2):0}*pushSpaces(t){let i,e=this.pos-1;do{i=this.buffer[++e]}while(" "===i||t&&"\t"===i);const r=e-this.pos;return r>0&&(yield this.buffer.substr(this.pos,r),this.pos=e),r}*pushUntil(t){let e=this.pos,i=this.buffer[e];for(;!t(i);)i=this.buffer[++e];return yield*this.pushToIndex(e,!1)}}function Fs(n,t){for(let e=0;e<n.length;++e)if(n[e].type===t)return!0;return!1}function zz(n){for(let t=0;t<n.length;++t)switch(n[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function Hz(n){switch(n?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function w0(n){switch(n.type){case"document":return n.start;case"block-map":{const t=n.items[n.items.length-1];return t.sep??t.start}case"block-seq":return n.items[n.items.length-1].start;default:return[]}}function ef(n){if(0===n.length)return[];let t=n.length;e:for(;--t>=0;)switch(n[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;"space"===n[++t]?.type;);return n.splice(t,n.length)}function Gz(n){if("flow-seq-start"===n.start.type)for(const t of n.items)t.sep&&!t.value&&!Fs(t.start,"explicit-key-ind")&&!Fs(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,Hz(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}class Bve{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Nve,this.onNewLine=t}*parse(t,e=!1){this.onNewLine&&0===this.offset&&this.onNewLine(0);for(const i of this.lexer.lex(t,e))yield*this.next(i);e||(yield*this.end())}*next(t){if(this.source=t,this.atScalar)return this.atScalar=!1,yield*this.step(),void(this.offset+=t.length);const e=function kve(n){switch(n){case"\ufeff":return"byte-order-mark";case"\x02":return"doc-mode";case"\x18":return"flow-error-end";case"\x1f":return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(n[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}(t);if(e)if("scalar"===e)this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=e,yield*this.step(),e){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&" "===t[0]&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{const i=`Not a YAML token: ${t}`;yield*this.pop({type:"error",offset:this.offset,message:i,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const t=this.peek(1);if("doc-end"!==this.type||t&&"doc-end"===t.type){if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}else{for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source})}}peek(t){return this.stack[this.stack.length-t]}*pop(t){const e=t??this.stack.pop();if(e)if(0===this.stack.length)yield e;else{const i=this.peek(1);switch("block-scalar"===e.type?e.indent="indent"in i?i.indent:0:"flow-collection"===e.type&&"document"===i.type&&(e.indent=0),"flow-collection"===e.type&&Gz(e),i.type){case"document":i.value=e;break;case"block-scalar":i.props.push(e);break;case"block-map":{const r=i.items[i.items.length-1];if(r.value)return i.items.push({start:[],key:e,sep:[]}),void(this.onKeyLine=!0);if(!r.sep)return Object.assign(r,{key:e,sep:[]}),void(this.onKeyLine=!Fs(r.start,"explicit-key-ind"));r.value=e;break}case"block-seq":{const r=i.items[i.items.length-1];r.value?i.items.push({start:[],value:e}):r.value=e;break}case"flow-collection":{const r=i.items[i.items.length-1];return void(!r||r.value?i.items.push({start:[],key:e,sep:[]}):r.sep?r.value=e:Object.assign(r,{key:e,sep:[]}))}default:yield*this.pop(),yield*this.pop(e)}if(!("document"!==i.type&&"block-map"!==i.type&&"block-seq"!==i.type||"block-map"!==e.type&&"block-seq"!==e.type)){const r=e.items[e.items.length-1];r&&!r.sep&&!r.value&&r.start.length>0&&-1===zz(r.start)&&(0===e.indent||r.start.every(o=>"comment"!==o.type||o.indent<e.indent))&&("document"===i.type?i.end=r.start:i.items.push({start:r.start}),e.items.splice(-1,1))}}else{const i="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:i}}}*stream(){switch(this.type){case"directive-line":return void(yield{type:"directive",offset:this.offset,source:this.source});case"byte-order-mark":case"space":case"comment":case"newline":return void(yield this.sourceToken);case"doc-mode":case"doc-start":{const t={type:"document",offset:this.offset,start:[]};return"doc-start"===this.type&&t.start.push(this.sourceToken),void this.stack.push(t)}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":return void(-1!==zz(t.start)?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken));case"anchor":case"tag":case"space":case"comment":case"newline":return void t.start.push(this.sourceToken)}const e=this.startBlockValue(t);e?this.stack.push(e):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(t){if("map-value-ind"===this.type){const i=ef(w0(this.peek(2)));let r;t.end?(r=t.end,r.push(this.sourceToken),delete t.end):r=[this.sourceToken];const o={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:i,key:t,sep:r}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":return void t.props.push(this.sourceToken);case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){const e=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,e.value){const i="end"in e.value?e.value.end:void 0;"comment"===(Array.isArray(i)?i[i.length-1]:void 0)?.type?i?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken);return;case"space":case"comment":if(e.value)t.items.push({start:[this.sourceToken]});else if(e.sep)e.sep.push(this.sourceToken);else{if(this.atIndentedComment(e.start,t.indent)){const r=t.items[t.items.length-2]?.value?.end;if(Array.isArray(r))return Array.prototype.push.apply(r,e.start),r.push(this.sourceToken),void t.items.pop()}e.start.push(this.sourceToken)}return}if(this.indent>=t.indent){const i=!this.onKeyLine&&this.indent===t.indent&&e.sep;let r=[];if(i&&e.sep&&!e.value){const o=[];for(let s=0;s<e.sep.length;++s){const a=e.sep[s];switch(a.type){case"newline":o.push(s);break;case"space":break;case"comment":a.indent>t.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(r=e.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":return void(i||e.value?(r.push(this.sourceToken),t.items.push({start:r}),this.onKeyLine=!0):e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken));case"explicit-key-ind":return e.sep||Fs(e.start,"explicit-key-ind")?i||e.value?(r.push(this.sourceToken),t.items.push({start:r})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}):e.start.push(this.sourceToken),void(this.onKeyLine=!0);case"map-value-ind":if(Fs(e.start,"explicit-key-ind"))if(e.sep)if(e.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Fs(e.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]});else if(Hz(e.key)&&!Fs(e.sep,"newline")){const o=ef(e.start),s=e.key,a=e.sep;a.push(this.sourceToken),delete e.key,delete e.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:s,sep:a}]})}else r.length>0?e.sep=e.sep.concat(r,this.sourceToken):e.sep.push(this.sourceToken);else if(Fs(e.start,"newline"))Object.assign(e,{key:null,sep:[this.sourceToken]});else{const o=ef(e.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else e.sep?e.value||i?t.items.push({start:r,key:null,sep:[this.sourceToken]}):Fs(e.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):e.sep.push(this.sourceToken):Object.assign(e,{key:null,sep:[this.sourceToken]});return void(this.onKeyLine=!0);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const o=this.flowScalar(this.type);return void(i||e.value?(t.items.push({start:r,key:o,sep:[]}),this.onKeyLine=!0):e.sep?this.stack.push(o):(Object.assign(e,{key:o,sep:[]}),this.onKeyLine=!0))}default:{const o=this.startBlockValue(t);if(o)return i&&"block-seq"!==o.type&&Fs(e.start,"explicit-key-ind")&&t.items.push({start:r}),void this.stack.push(o)}}}yield*this.pop(),yield*this.step()}*blockSequence(t){const e=t.items[t.items.length-1];switch(this.type){case"newline":if(e.value){const i="end"in e.value?e.value.end:void 0;"comment"===(Array.isArray(i)?i[i.length-1]:void 0)?.type?i?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else e.start.push(this.sourceToken);return;case"space":case"comment":if(e.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(e.start,t.indent)){const r=t.items[t.items.length-2]?.value?.end;if(Array.isArray(r))return Array.prototype.push.apply(r,e.start),r.push(this.sourceToken),void t.items.pop()}e.start.push(this.sourceToken)}return;case"anchor":case"tag":if(e.value||this.indent<=t.indent)break;return void e.start.push(this.sourceToken);case"seq-item-ind":if(this.indent!==t.indent)break;return void(e.value||Fs(e.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):e.start.push(this.sourceToken))}if(this.indent>t.indent){const i=this.startBlockValue(t);if(i)return void this.stack.push(i)}yield*this.pop(),yield*this.step()}*flowCollection(t){const e=t.items[t.items.length-1];if("flow-error-end"===this.type){let i;do{yield*this.pop(),i=this.peek(1)}while(i&&"flow-collection"===i.type)}else if(0===t.end.length){switch(this.type){case"comma":case"explicit-key-ind":return void(!e||e.sep?t.items.push({start:[this.sourceToken]}):e.start.push(this.sourceToken));case"map-value-ind":return void(!e||e.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):e.sep?e.sep.push(this.sourceToken):Object.assign(e,{key:null,sep:[this.sourceToken]}));case"space":case"comment":case"newline":case"anchor":case"tag":return void(!e||e.value?t.items.push({start:[this.sourceToken]}):e.sep?e.sep.push(this.sourceToken):e.start.push(this.sourceToken));case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const r=this.flowScalar(this.type);return void(!e||e.value?t.items.push({start:[],key:r,sep:[]}):e.sep?this.stack.push(r):Object.assign(e,{key:r,sep:[]}))}case"flow-map-end":case"flow-seq-end":return void t.end.push(this.sourceToken)}const i=this.startBlockValue(t);i?this.stack.push(i):(yield*this.pop(),yield*this.step())}else{const i=this.peek(2);if("block-map"===i.type&&("map-value-ind"===this.type&&i.indent===t.indent||"newline"===this.type&&!i.items[i.items.length-1].sep))yield*this.pop(),yield*this.step();else if("map-value-ind"===this.type&&"flow-collection"!==i.type){const o=ef(w0(i));Gz(t);const s=t.end.splice(1,t.end.length);s.push(this.sourceToken);const a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:o,key:t,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let e=this.source.indexOf("\n")+1;for(;0!==e;)this.onNewLine(this.offset+e),e=this.source.indexOf("\n",e)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const i=ef(w0(t));return i.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i}]}}case"map-value-ind":{this.onKeyLine=!0;const i=ef(w0(t));return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,e){return!("comment"!==this.type||this.indent<=e)&&t.every(i=>"newline"===i.type||"space"===i.type)}*documentEnd(t){"doc-mode"!==this.type&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],"newline"===this.type&&(yield*this.pop())}}}class Uve{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let e=0,i=this.lineStarts.length;for(;e<i;){const o=e+i>>1;this.lineStarts[o]<t?e=o+1:i=o}return this.lineStarts[e]===t?{line:e+1,col:1}:0===e?{line:0,col:t}:{line:e,col:t-this.lineStarts[e-1]+1}}}}function zve(n,t,e){let i;"function"==typeof t?i=t:void 0===e&&t&&"object"==typeof t&&(e=t);const r=function Vve(n,t={}){const{lineCounter:e,prettyErrors:i}=function jz(n){const t=!1!==n.prettyErrors;return{lineCounter:n.lineCounter||t&&new Uve||null,prettyErrors:t}}(t),r=new Bve(e?.addNewLine),o=new Pve(t);let s=null;for(const a of o.compose(r.parse(n),!0,n.length))if(s){if("silent"!==s.options.logLevel){s.errors.push(new $m(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}}else s=a;return i&&e&&(s.errors.forEach(Iz(n,e)),s.warnings.forEach(Iz(n,e))),s}(n,e);if(!r)return null;if(r.warnings.forEach(o=>sz(r.options.logLevel,o)),r.errors.length>0){if("silent"!==r.options.logLevel)throw r.errors[0];r.errors=[]}return r.toJS(Object.assign({reviver:i},e))}const dr=["*"],Hve=["canvas"];function Gve(n,t){1&n&&(he(0,"atft-svg-loader",6),Ko(1,"deg2rad"),Ko(2,"deg2rad"),re(3,"\n        "),ae()),2&n&&Ge("icon",zt().icon)("maxX",6)("maxY",6)("translateZ",13.1)("rotateZ",Qo(1,6,180))("rotateY",Qo(2,8,180))}function jve(n,t){if(1&n&&(he(0,"atft-cylinder-mesh",7),Ko(1,"deg2rad"),re(2,"\n        "),ae()),2&n){const e=t.$implicit,i=zt();Ge("height",4)("radiusTop",6)("radiusBottom",6)("radialSegments",30)("openEnded",!1)("materialColor",i.color)("translateZ",e)("rotateX",Qo(1,8,90))}}function Wve(n,t){if(1&n&&(he(0,"atft-frame-mesh",8),re(1,"\n      "),ae()),2&n){const e=zt();Ge("thickness",1)("sizeX",15)("sizeY",15)("translateZ",.1)("materialColor",e.color)}}const $ve=function(){return[2,6.5,11]};function Yve(n,t){1&n&&(he(0,"atft-svg-loader",6),Ko(1,"deg2rad"),Ko(2,"deg2rad"),Ko(3,"deg2rad"),re(4,"\n          "),ae()),2&n&&Ge("icon",zt().icon)("maxX",8)("maxY",8)("translateZ",0)("translateY",-5.1)("rotateX",Qo(1,8,90))("rotateZ",Qo(2,10,180))("rotateY",Qo(3,12,180))}function Xve(n,t){if(1&n&&(he(0,"atft-frame-mesh",7),re(1,"\n      "),ae()),2&n){const e=zt();Ge("thickness",1)("sizeX",15)("sizeY",15)("translateZ",.2)("depthWrite",!0)("materialColor",e.color)}}function qve(n,t){1&n&&(he(0,"atft-svg-loader",6,7),Ko(2,"deg2rad"),Ko(3,"deg2rad"),re(4,"\n                  "),ae()),2&n&&Ge("icon",zt().icon)("maxX",6)("maxY",6)("translateZ",1.6)("translateY",0)("rotateZ",Qo(2,7,180))("rotateY",Qo(3,9,180))}function Zve(n,t){if(1&n&&(he(0,"atft-frame-mesh",8),re(1,"\n          "),ae()),2&n){const e=zt();Ge("thickness",1)("sizeX",15)("sizeY",15)("translateZ",.1)("materialColor",e.color)}}function Kve(n,t){1&n&&(he(0,"atft-svg-loader",5,6),Ko(2,"deg2rad"),Ko(3,"deg2rad"),re(4,"\n        "),ae()),2&n&&Ge("icon",zt().icon)("translateZ",.1)("maxX",13)("maxY",13)("translateY",0)("rotateZ",Qo(2,7,180))("rotateY",Qo(3,9,180))}function Qve(n,t){if(1&n&&(he(0,"atft-frame-mesh",7),re(1,"\n      "),ae()),2&n){const e=zt();Ge("thickness",1)("sizeX",15)("sizeY",15)("translateZ",.1)("materialColor",e.color)}}function Jve(n,t){if(1&n&&(he(0,"atft-video-mesh",8),re(1,"\n          "),ae()),2&n){const e=zt();Ge("height",11.25)("width",20)("translateZ",.6)("videoSrc",e.videoSrc)}}function eye(n,t){1&n&&(he(0,"atft-box-mesh",9),re(1,"\n          "),ae()),2&n&&Ge("height",11.25)("width",20)("depth",0)("translateZ",.6)("depthWrite",!1)}function tye(n,t){if(1&n&&(he(0,"atft-frame-mesh",10),re(1,"\n      "),ae()),2&n){const e=zt();Ge("thickness",1)("sizeX",15)("sizeY",15)("translateZ",.1)("materialColor",e.color)}}const Wz=["container"];function nye(n,t){if(1&n){const e=qo();he(0,"atft-plane-mesh",2),Rt("mouseEnter",function(){return zi(e),Hi(zt().onSelected())})("mouseExit",function(){return zi(e),Hi(zt().onDeselected())}),re(1,"\n      "),he(2,"atft-text-mesh",3),re(3,"\n      "),ae(),re(4,"\n    "),ae()}if(2&n){const e=zt();Ge("width",e.width)("height",e.height)("materialColor",e.color)("depthWrite",!0),et(2),Ge("centered",!0)("text",e.label)("size",3)("translateY",e.translateLabelY)}}function iye(n,t){if(1&n){const e=qo();he(0,"atft-frame-mesh",4),Rt("mouseEnter",function(){return zi(e),Hi(zt().onSelected())})("mouseExit",function(){return zi(e),Hi(zt().onDeselected())}),re(1,"\n      "),he(2,"atft-text-mesh",3),re(3,"\n      "),ae(),re(4,"\n    "),ae()}if(2&n){const e=zt();Ge("sizeX",e.width)("sizeY",e.height)("thickness",2)("materialColor",e.color)("depthWrite",!0),et(2),Ge("centered",!0)("text",e.label)("size",3)("translateY",e.translateLabelY)}}function rye(n,t){1&n&&(he(0,"atft-obj-loader",4),re(1,"\n        "),ae()),2&n&&Ge("model",zt().modelPath)}function oye(n,t){if(1&n&&(he(0,"atft-frame-mesh",5),re(1,"\n      "),ae()),2&n){const e=zt();Ge("thickness",1)("sizeX",15)("sizeY",15)("translateZ",.1)("materialColor",e.color)}}function LA(n,t,e){const i={color:n instanceof xt?n:new xt(n),side:2,depthWrite:void 0===e||e};return"lamb"===t?new YU(i):"basic"===t?new os(i):new By(i)}function $z(n){const t=(new xo).setFromObject(n);n.translateX(-(t.max.x-t.min.x)/2-t.min.x),n.translateY(-(t.max.y-t.min.y)/2-t.min.y),n.translateZ(-(t.max.z-t.min.z)/2-t.min.z)}let FA=(()=>{class n{constructor(){document.body.addEventListener("keydown",e=>{e.altKey&&"s"===e.key&&this.toggle()})}update(){this.stats&&this.stats.update()}toggle(){this.stats?this.remove():this.create()}create(){this.stats||(this.stats=new sbe,document.body.appendChild(this.stats.dom))}remove(){this.stats&&(this.stats.dom.remove(),this.stats.dom=void 0,this.stats=void 0)}ngOnDestroy(){this.remove()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),ii=(()=>{class n{constructor(e){this.statsService=e,this.init=!1}setScene(e){this.scene=e}setCamera(e){this.camera=e,this.camera.updateAspectRatio(this.aspect)}render(){this.init&&this.scene&&this.scene.getObject()&&this.camera&&this.camera.camera&&(this.composer?(this.composer.render(),this.composer.renderToScreen||this.webGlRenderer.render(this.scene.getObject(),this.camera.camera)):this.webGlRenderer.render(this.scene.getObject(),this.camera.camera),this.statsService.update())}initialize(e,i){this.webGlRenderer=new lU({canvas:e,antialias:!0,alpha:!0,preserveDrawingBuffer:i}),this.webGlRenderer.useLegacyLights=!0,this.webGlRenderer.setPixelRatio(window.devicePixelRatio),this.webGlRenderer.setSize(e.clientWidth,e.clientHeight,!0),this.webGlRenderer.shadowMap.enabled=!1,this.webGlRenderer.shadowMap.autoUpdate=!1,this.webGlRenderer.shadowMap.type=vB,this.webGlRenderer.setClearColor(0,0),this.webGlRenderer.autoClear=!0,e.style.zIndex="2",this.updateChildCamerasAspectRatio(e),this.init=!0,this.render()}resize(e,i){e.style.width=i,e.style.height=i,e.style.border="none",this.webGlRenderer.setSize(e.clientWidth,e.clientHeight,!0),this.updateChildCamerasAspectRatio(e),this.render()}updateAspectRatio(e){0!==e.clientHeight&&(this.aspect=e.clientWidth/e.clientHeight)}updateChildCamerasAspectRatio(e){this.updateAspectRatio(e),this.camera&&this.camera.updateAspectRatio(this.aspect)}getScene(){return this.scene}getCamera(){return this.camera}getWebGlRenderer(){return this.webGlRenderer}setComposer(e){this.composer=e}static#e=this.\u0275fac=function(i){return new(i||n)(le(FA))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),ti=(()=>{class n{constructor(e,i){this.rendererService=e,this.parent=i,this.scaleX=1,this.scaleY=1,this.scaleZ=1,this.name=obe(),this.layer=0,this.changed=new Mt,this.childlren=[]}ngOnChanges(e){if(!this.object)return;let i=!1;["rotateX","rotateY","rotateZ"].some(r=>r in e)&&(this.applyRotation(),i=!0),["translateX","translateY","translateZ"].some(r=>r in e)&&(this.applyTranslation(),i=!0),["scaleX","scaleY","scaleZ"].some(r=>r in e)&&(this.applyScale(),i=!0),i&&(this.changed.emit(),this.rendererService.render())}ngOnDestroy(){this.object&&this.object.parent&&(this.parent.removeChild(this),this.rendererService&&this.rendererService.render())}ngOnInit(){this.object=this.newObject3DInstance(),this.layer&&this.object.layers.set(this.layer),this.applyTranslation(),this.applyRotation(),this.applyScale(),this.afterInit()}updateParent(){this.parent&&(this.parent.addChild(this),this.rendererService.render())}applyRotation(){this.object.rotation.set(this.rotateX||0,this.rotateY||0,this.rotateZ||0,"XYZ")}applyTranslation(){this.object.position.set(this.translateX||0,this.translateY||0,this.translateZ||0)}applyScale(){this.object.scale.set(this.scaleX||0,this.scaleY||0,this.scaleZ||0)}addChild(e){this.object&&(this.childlren.push(e),this.object.add(e.getObject()),this.rendererService&&this.rendererService.render())}afterInit(){}removeChild(e){if(this.object&&e){const i=this.childlren.indexOf(e,0);i>-1&&this.childlren.splice(i,1),this.object.remove(e.getObject())}}getObject(){return this.object}ngAfterViewInit(){this.updateParent()}findByName(e){return this.recursionByName(this,e)}recursionByName(e,i){if(e.object&&e.name===i)return e;let r;return e.childlren.some(o=>r=this.recursionByName(o,i)),r}getChildren(){return this.childlren}removeChildByName(e){this.childlren=this.childlren.filter(i=>i.name!==e)}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(n,12))};static#t=this.\u0275dir=De({type:n,inputs:{rotateX:"rotateX",rotateY:"rotateY",rotateZ:"rotateZ",translateX:"translateX",translateY:"translateY",translateZ:"translateZ",scaleX:"scaleX",scaleY:"scaleY",scaleZ:"scaleZ",name:"name",layer:"layer"},outputs:{changed:"changed"},features:[jn]})}return n})();function vi(n,t){return{provide:t||ti,useExisting:Kn(()=>n)}}let NA=(()=>{class n{constructor(e){this.rendererService=e,this.zAxisUp=!1}ngOnInit(){this.createCamera(),this.layer?this.camera.layers.enable(this.layer):this.camera.layers.enableAll(),this.applyZAxisUp(),this.applyPosition(),this.rendererService.setCamera(this)}ngOnChanges(e){let i=!1;["positionX","positionY","positionZ"].some(r=>r in e)&&(this.applyPosition(),i=!0),i&&this.rendererService.render()}applyPosition(){this.camera&&this.camera.position.set(this.positionX||0,this.positionY||0,this.positionZ||0)}applyZAxisUp(){this.camera&&this.zAxisUp&&this.camera.up.set(0,0,1)}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii))};static#t=this.\u0275dir=De({type:n,inputs:{positionX:"positionX",positionY:"positionY",positionZ:"positionZ",zAxisUp:"zAxisUp",layer:"layer"},features:[jn]})}return n})(),cye=(()=>{class n extends NA{constructor(e){super(e),this.rendererService=e,this.zoom=4}createCamera(){this.camera=new ym(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/-2,window.innerHeight/2,.1,1e4),this.updateZoom()}ngOnChanges(e){if(!this.camera)return;let i=!1;["zoom"].some(r=>r in e)&&(this.updateZoom(),i=!0),i&&this.rendererService.render()}updateZoom(){this.camera.zoom=this.zoom}updateAspectRatio(e){this.camera.left=-1e3*e/2,this.camera.right=1e3*e/2,this.camera.top=500,this.camera.bottom=-500,this.camera.updateProjectionMatrix(),this.camera.lookAt(new G(0,0,0))}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-orthographic-camera"]],inputs:{zoom:"zoom"},features:[Ut([vi(n,NA)]),He,jn],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),Yz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[si]})}return n})(),lye=(()=>{class n extends ti{newObject3DInstance(){const e=this.createLineMesh();return this.source&&this.target&&this.watchObjects(),e}watchObjects(){this.sourceSub=this.source.changed.subscribe(()=>{this.updateLineGeometry()}),this.targetSub=this.target.changed.subscribe(()=>{this.updateLineGeometry()})}ngOnDestroy(){super.ngOnDestroy(),this.sourceSub?.unsubscribe(),this.targetSub?.unsubscribe()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275dir=De({type:n,inputs:{source:"source",target:"target"},features:[He]})}return n})(),yd=(()=>{class n{constructor(e){this.rendererService=e,this.animate=new Mt,this.enabled=!1,this.animationStep=this.animationStep.bind(this)}start(){this.enabled||(this.enabled=!0,this.animationStep())}stop(){this.enabled&&(this.enabled=!1)}animationStep(){this.enabled&&this.animate.observers&&(requestAnimationFrame(this.animationStep),this.animate.observers.length>0&&(this.animate.emit(),this.rendererService.render()))}static#e=this.\u0275fac=function(i){return new(i||n)(le(ii))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),Xz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[yd]})}return n})();var qz=function(n){return n.dashed="dash",n.solid="solid",n}(qz||{});let dye=(()=>{class n extends lye{constructor(e,i,r){super(e,i),this.rendererService=e,this.parent=i,this.animationService=r,this.materialColor=16777215,this.solid=!1,this.lineWidth=2,this.dashSize=3,this.gapSize=.5,this.opacity=1,this.lineType=qz.dashed,this.animated=!0,this.time=0,this.timeScale=5,this.clock=new B1}createLineMesh(){const e=this.getPositions(),i=new LV;return i.setPositions(e),this.matLine=new W1({color:this.materialColor,linewidth:this.lineWidth,vertexColors:!1,dashed:!this.solid,dashSize:this.dashSize,dashOffset:0,gapSize:this.gapSize,opacity:this.opacity,transparent:this.opacity<1,depthWrite:!0}),this.matLine.resolution.set(window.innerWidth,window.innerHeight),this.solid||(this.matLine.defines.USE_DASH=""),this.line=new dbe(i,this.matLine),this.line.computeLineDistances(),this.animated&&(this.animate=this.animate.bind(this),this.animation=this.animationService.animate.subscribe(this.animate)),this.line}updateLineGeometry(){const e=this.getPositions();this.line.geometry.dispose(),this.line.geometry.setPositions(e),this.line.computeLineDistances()}getPositions(){if(!this.source||!this.target)throw new Error("AbstractConnector: source or target inputs are missing!");const e=this.source.getObject().position,i=this.target.getObject().position,r=[];return r.push(e.x,e.y,e.z),r.push(i.x,i.y,i.z),r}ngOnDestroy(){super.ngOnDestroy(),this.animation&&this.animation.unsubscribe()}animate(){const e=this.line?.material;this.line?.material&&(this.time+=this.clock.getDelta(),e.dashOffset=-1*this.time*this.timeScale,this.line.computeLineDistances())}ngOnChanges(e){if(!this.object)return;super.ngOnChanges(e);let i=!1;["materialColor"].some(r=>r in e)&&(console.log("Changed color to",this.materialColor),this.line.material.color=new xt(this.materialColor),this.line.material.needsUpdate=!0,i=!0),i&&(this.changed.emit(),this.rendererService.render())}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12),D(yd))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-line-connector"]],inputs:{materialColor:"materialColor",solid:"solid",lineWidth:"lineWidth",dashSize:"dashSize",gapSize:"gapSize",opacity:"opacity",lineType:"lineType",animated:"animated"},features:[Ut([vi(n)]),He,jn],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),Zz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[si]})}return n})(),tf=(()=>{class n extends ti{constructor(e,i){super(e,i),this.rendererService=e,this.parent=i}newObject3DInstance(){return new pr}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-empty"]],features:[Ut([vi(n)]),He],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),Kz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[si]})}return n})(),uye=(()=>{class n extends ti{constructor(e,i){super(e,i),this.rendererService=e,this.parent=i,this.color="#FFFFFF",this.intensity=1,this.distance=500,this.castShadow=!1}newObject3DInstance(){const e=new oV(this.color,this.intensity,this.distance);return!0===this.castShadow&&(e.castShadow=this.castShadow,e.shadow.mapSize.width=1024,e.shadow.mapSize.height=1024,e.shadow.camera.near=.5,e.shadow.camera.far=500,e.shadow.bias=-.001,e.shadow.radius=1),e}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit()}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-point-light"]],inputs:{color:"color",intensity:"intensity",distance:"distance",castShadow:"castShadow"},features:[Ut([vi(n)]),He],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),hye=(()=>{class n extends ti{constructor(e,i){super(e,i),this.rendererService=e,this.parent=i,this.skyColor="#ffffff",this.groundColor="#444444",this.intensity=1}newObject3DInstance(){return new tV(this.skyColor,this.groundColor,this.intensity)}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-hemisphere-light"]],inputs:{skyColor:"skyColor",groundColor:"groundColor",intensity:"intensity"},features:[Ut([vi(n)]),He],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),Qz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[si]})}return n})(),Jz=(()=>{class n extends ti{constructor(){super(...arguments),this.parentInitialized=!1}afterInit(){super.afterInit(),this.parentInitialized=!0,this.startLoading()}startLoading(){this.loadLazyObject().then(e=>{this.lazyObject&&super.getObject().remove(this.lazyObject),this.lazyObject=e,super.getObject().add(e),this.rendererService.render(),setTimeout(()=>{this.rendererService.render()},10)}).catch(e=>{console.error(e)})}ngOnDestroy(){this.lazyObject&&super.getObject().remove(this.lazyObject)}newObject3DInstance(){return new pr}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275dir=De({type:n,features:[He]})}return n})(),eH=(()=>{class n extends Jz{set model(e){this._model=e,this.object&&super.startLoading()}get model(){return this._model}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275dir=De({type:n,inputs:{model:"model"},features:[He]})}return n})();class BA{constructor(){this.cache=new Map}load(t){var e=this;return Qn(function*(){const i=e.cache.get(t);if(yield i)return i||Promise.reject("Failed to get value from cache");{const r=e.getValue(t);return e.cache.set(t,r),r}})()}}let tH=(()=>{class n extends BA{constructor(){super(...arguments),this.loader=new bbe}getValue(e){return new Promise((i,r)=>{this.loader.load(e,o=>{i(o)},void 0,r)})}setMaterials(e){this.loader.setMaterials(e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),fye=(()=>{class n extends eH{set texturePath(e){this.resourcePath=e}constructor(e,i,r){super(e,i),this.rendererService=e,this.parent=i,this.objLoader=r,this.mtlLoader=new ube}loadLazyObject(){var e=this;return Qn(function*(){return e.material&&(yield new Promise((o,s)=>{e.mtlLoader.setResourcePath(e.resourcePath),e.mtlLoader.load(e.material,a=>{a.preload(),e.objLoader.setMaterials(a),o()},void 0,s)})),(yield e.objLoader.load(e.model)).clone()})()}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12),D(tH))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-obj-loader"]],inputs:{material:"material",texturePath:"texturePath",resourcePath:"resourcePath"},features:[Ut([vi(n)]),He],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),nH=(()=>{class n extends BA{getValue(e){return new Promise(i=>{(new vbe).load(e,i)})}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();class UA extends dd{constructor(t){super(t),this.defaultDPI=90,this.defaultUnit="px",this.defs=[],this.defaultDPI=90,this.defaultUnit="px"}load(t,e,i,r){const o=this,s=new cs(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(t,function(a){try{e(o.parse(a))}catch(c){r?r(c):console.error(c),o.manager.itemError(t)}},i,r)}parse(t){const e=this;function s(ce,Q,j,fe,K,Ye,Re,bt){if(0==Q||0==j)return void ce.lineTo(bt.x,bt.y);fe=fe*Math.PI/180,Q=Math.abs(Q),j=Math.abs(j);const rt=(Re.x-bt.x)/2,q=(Re.y-bt.y)/2,Oe=Math.cos(fe)*rt+Math.sin(fe)*q,de=-Math.sin(fe)*rt+Math.cos(fe)*q;let Ne=Q*Q,we=j*j;const ie=Oe*Oe,Y=de*de,Qe=ie/Ne+Y/we;if(Qe>1){const Bt=Math.sqrt(Qe);Ne=(Q*=Bt)*Q,we=(j*=Bt)*j}const pt=Ne*Y+we*ie;let Gn=Math.sqrt(Math.max(0,(Ne*we-pt)/pt));K===Ye&&(Gn=-Gn);const Z=Gn*Q*de/j,z=-Gn*j*Oe/Q,Ie=Math.cos(fe)*Z-Math.sin(fe)*z+(Re.x+bt.x)/2,dt=Math.sin(fe)*Z+Math.cos(fe)*z+(Re.y+bt.y)/2,it=a(1,0,(Oe-Z)/Q,(de-z)/j),ut=a((Oe-Z)/Q,(de-z)/j,(-Oe-Z)/Q,(-de-z)/j)%(2*Math.PI);ce.currentPath.absellipse(Ie,dt,Q,j,it,it+ut,0===Ye,fe)}function a(ce,Q,j,fe){const K=ce*j+Q*fe,Ye=Math.sqrt(ce*ce+Q*Q)*Math.sqrt(j*j+fe*fe);let Re=Math.acos(Math.max(-1,Math.min(1,K/Ye)));return ce*fe-Q*j<0&&(Re=-Re),Re}function v(ce,Q){Q=Object.assign({},Q);let j={};if(ce.hasAttribute("class")){const Re=ce.getAttribute("class").split(/\s/).filter(Boolean).map(bt=>bt.trim());for(let bt=0;bt<Re.length;bt++)j=Object.assign(j,_e["."+Re[bt]])}function fe(Re,bt,rt){void 0===rt&&(rt=function(Oe){if(Oe.startsWith("url")){let de=Oe.match(/url\(#(.*)\)/);return de&&de[1]?e.defs[de[1]]:Oe}return Oe}),ce.hasAttribute(Re)&&(Q[bt]=rt(ce.getAttribute(Re))),j[Re]&&(Q[bt]=rt(j[Re])),ce.style&&""!==ce.style[Re]&&(Q[bt]=rt(ce.style[Re]))}function K(Re){return Math.max(0,Math.min(1,E(Re)))}function Ye(Re){return Math.max(0,E(Re))}return ce.hasAttribute("id")&&(j=Object.assign(j,_e["#"+ce.getAttribute("id")])),fe("fill","fill"),fe("fill-opacity","fillOpacity",K),fe("opacity","opacity",K),fe("stroke","stroke"),fe("stroke-opacity","strokeOpacity",K),fe("stroke-width","strokeWidth",Ye),fe("stroke-linejoin","strokeLineJoin"),fe("stroke-linecap","strokeLineCap"),fe("stroke-miterlimit","strokeMiterLimit",Ye),fe("visibility","visibility"),Q}function g(ce,Q){return ce-(Q-ce)}function b(ce,Q,j){if("string"!=typeof ce)throw new TypeError("Invalid input: "+typeof ce);const fe={SEPARATOR:/[ \t\r\n\,.\-+]/,WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/};let rt=0,q=!0,Oe="",de="";const Ne=[];function we(pt,Yt,Gn){throw new SyntaxError('Unexpected character "'+pt+'" at index '+Yt+".")}function ie(){""!==Oe&&Ne.push(""===de?Number(Oe):Number(Oe)*Math.pow(10,Number(de))),Oe="",de=""}let Y;const Qe=ce.length;for(let pt=0;pt<Qe;pt++)if(Y=ce[pt],Array.isArray(Q)&&Q.includes(Ne.length%j)&&fe.FLAGS.test(Y))rt=1,Oe=Y,ie();else{if(0===rt){if(fe.WHITESPACE.test(Y))continue;if(fe.DIGIT.test(Y)||fe.SIGN.test(Y)){rt=1,Oe=Y;continue}if(fe.POINT.test(Y)){rt=2,Oe=Y;continue}fe.COMMA.test(Y)&&(q&&we(Y,pt),q=!0)}if(1===rt){if(fe.DIGIT.test(Y)){Oe+=Y;continue}if(fe.POINT.test(Y)){Oe+=Y,rt=2;continue}if(fe.EXP.test(Y)){rt=3;continue}fe.SIGN.test(Y)&&1===Oe.length&&fe.SIGN.test(Oe[0])&&we(Y,pt)}if(2===rt){if(fe.DIGIT.test(Y)){Oe+=Y;continue}if(fe.EXP.test(Y)){rt=3;continue}fe.POINT.test(Y)&&"."===Oe[Oe.length-1]&&we(Y,pt)}if(3===rt){if(fe.DIGIT.test(Y)){de+=Y;continue}if(fe.SIGN.test(Y)){if(""===de){de+=Y;continue}1===de.length&&fe.SIGN.test(de)&&we(Y,pt)}}fe.WHITESPACE.test(Y)?(ie(),rt=0,q=!1):fe.COMMA.test(Y)?(ie(),rt=0,q=!0):fe.SIGN.test(Y)?(ie(),rt=1,Oe=Y):fe.POINT.test(Y)?(ie(),rt=2,Oe=Y):we(Y,pt)}return ie(),Ne}const y=["mm","cm","in","pt","pc","px"],x={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:12,pc:1,px:-1},px:{px:1}};function E(ce){let j,Q="px";if("string"==typeof ce||ce instanceof String)for(let fe=0,K=y.length;fe<K;fe++){const Ye=y[fe];if(ce.endsWith(Ye)){Q=Ye,ce=ce.substring(0,ce.length-Ye.length);break}}return"px"===Q&&"px"!==e.defaultUnit?j=x.in[e.defaultUnit]/e.defaultDPI:(j=x[Q][e.defaultUnit],j<0&&(j=x[Q].in*e.defaultDPI)),j*parseFloat(ce)}function N(ce){const Q=ce.elements;return Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1])}function H(ce){const Q=ce.elements;return Math.sqrt(Q[3]*Q[3]+Q[4]*Q[4])}const ge=[],_e={},Be=[],ee=new ln,Me=new ln,pe=new ln,ne=new ln,te=new Ee,Ce=new G,Pe=new ln,ue=(new DOMParser).parseFromString(t,"image/svg+xml");return function i(ce,Q){if(1!==ce.nodeType)return;const j=function O(ce){if(!(ce.hasAttribute("transform")||"use"===ce.nodeName&&(ce.hasAttribute("x")||ce.hasAttribute("y"))))return null;const Q=function R(ce){const Q=new ln,j=ee;if("use"===ce.nodeName&&(ce.hasAttribute("x")||ce.hasAttribute("y"))){const fe=E(ce.getAttribute("x")),K=E(ce.getAttribute("y"));Q.translate(fe,K)}if(ce.hasAttribute("transform")){const fe=ce.getAttribute("transform").split(")");for(let K=fe.length-1;K>=0;K--){const Ye=fe[K].trim();if(""===Ye)continue;const Re=Ye.indexOf("("),bt=Ye.length;if(Re>0&&Re<bt){const rt=Ye.substr(0,Re),q=b(Ye.substr(Re+1,bt-Re-1));switch(j.identity(),rt){case"translate":if(q.length>=1){const Oe=q[0];let de=Oe;q.length>=2&&(de=q[1]),j.translate(Oe,de)}break;case"rotate":if(q.length>=1){let Oe=0,de=0,Ne=0;Oe=-q[0]*Math.PI/180,q.length>=3&&(de=q[1],Ne=q[2]),Me.identity().translate(-de,-Ne),pe.identity().rotate(Oe),ne.multiplyMatrices(pe,Me),Me.identity().translate(de,Ne),j.multiplyMatrices(Me,ne)}break;case"scale":if(q.length>=1){const Oe=q[0];let de=Oe;q.length>=2&&(de=q[1]),j.scale(Oe,de)}break;case"skewX":1===q.length&&j.set(1,Math.tan(q[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":1===q.length&&j.set(1,0,0,Math.tan(q[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":6===q.length&&j.set(q[0],q[2],q[4],q[1],q[3],q[5],0,0,1)}}Q.premultiply(j)}}return Q}(ce);return Be.length>0&&Q.premultiply(Be[Be.length-1]),Pe.copy(Q),Be.push(Q),Q}(ce);let fe=!0,K=null;switch(ce.nodeName){case"svg":break;case"style":!function o(ce){if(ce.sheet&&ce.sheet.cssRules&&ce.sheet.cssRules.length)for(let Q=0;Q<ce.sheet.cssRules.length;Q++){const j=ce.sheet.cssRules[Q];if(1!==j.type)continue;const fe=j.selectorText.split(/,/gm).filter(Boolean).map(K=>K.trim());for(let K=0;K<fe.length;K++)_e[fe[K]]=Object.assign(_e[fe[K]]||{},j.style)}}(ce);break;case"g":Q=v(ce,Q);break;case"path":Q=v(ce,Q),ce.hasAttribute("d")&&(K=function r(ce){const Q=new Kc,j=new Ee,fe=new Ee,K=new Ee;let Ye=!0,Re=!1;const rt=ce.getAttribute("d").match(/[a-df-z][^a-df-z]*/gi);for(let q=0,Oe=rt.length;q<Oe;q++){const de=rt[q],Ne=de.charAt(0),we=de.substr(1).trim();let ie;switch(!0===Ye&&(Re=!0,Ye=!1),Ne){case"M":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y+=2)j.x=ie[Y+0],j.y=ie[Y+1],fe.x=j.x,fe.y=j.y,0===Y?Q.moveTo(j.x,j.y):Q.lineTo(j.x,j.y),0===Y&&!0===Re&&K.copy(j);break;case"H":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y++)j.x=ie[Y],fe.x=j.x,fe.y=j.y,Q.lineTo(j.x,j.y),0===Y&&!0===Re&&K.copy(j);break;case"V":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y++)j.y=ie[Y],fe.x=j.x,fe.y=j.y,Q.lineTo(j.x,j.y),0===Y&&!0===Re&&K.copy(j);break;case"L":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y+=2)j.x=ie[Y+0],j.y=ie[Y+1],fe.x=j.x,fe.y=j.y,Q.lineTo(j.x,j.y),0===Y&&!0===Re&&K.copy(j);break;case"C":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y+=6)Q.bezierCurveTo(ie[Y+0],ie[Y+1],ie[Y+2],ie[Y+3],ie[Y+4],ie[Y+5]),fe.x=ie[Y+2],fe.y=ie[Y+3],j.x=ie[Y+4],j.y=ie[Y+5],0===Y&&!0===Re&&K.copy(j);break;case"S":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y+=4)Q.bezierCurveTo(g(j.x,fe.x),g(j.y,fe.y),ie[Y+0],ie[Y+1],ie[Y+2],ie[Y+3]),fe.x=ie[Y+0],fe.y=ie[Y+1],j.x=ie[Y+2],j.y=ie[Y+3],0===Y&&!0===Re&&K.copy(j);break;case"Q":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y+=4)Q.quadraticCurveTo(ie[Y+0],ie[Y+1],ie[Y+2],ie[Y+3]),fe.x=ie[Y+0],fe.y=ie[Y+1],j.x=ie[Y+2],j.y=ie[Y+3],0===Y&&!0===Re&&K.copy(j);break;case"T":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y+=2){const pt=g(j.x,fe.x),Yt=g(j.y,fe.y);Q.quadraticCurveTo(pt,Yt,ie[Y+0],ie[Y+1]),fe.x=pt,fe.y=Yt,j.x=ie[Y+0],j.y=ie[Y+1],0===Y&&!0===Re&&K.copy(j)}break;case"A":ie=b(we,[3,4],7);for(let Y=0,Qe=ie.length;Y<Qe;Y+=7){if(ie[Y+5]==j.x&&ie[Y+6]==j.y)continue;const pt=j.clone();j.x=ie[Y+5],j.y=ie[Y+6],fe.x=j.x,fe.y=j.y,s(Q,ie[Y],ie[Y+1],ie[Y+2],ie[Y+3],ie[Y+4],pt,j),0===Y&&!0===Re&&K.copy(j)}break;case"m":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y+=2)j.x+=ie[Y+0],j.y+=ie[Y+1],fe.x=j.x,fe.y=j.y,0===Y?Q.moveTo(j.x,j.y):Q.lineTo(j.x,j.y),0===Y&&!0===Re&&K.copy(j);break;case"h":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y++)j.x+=ie[Y],fe.x=j.x,fe.y=j.y,Q.lineTo(j.x,j.y),0===Y&&!0===Re&&K.copy(j);break;case"v":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y++)j.y+=ie[Y],fe.x=j.x,fe.y=j.y,Q.lineTo(j.x,j.y),0===Y&&!0===Re&&K.copy(j);break;case"l":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y+=2)j.x+=ie[Y+0],j.y+=ie[Y+1],fe.x=j.x,fe.y=j.y,Q.lineTo(j.x,j.y),0===Y&&!0===Re&&K.copy(j);break;case"c":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y+=6)Q.bezierCurveTo(j.x+ie[Y+0],j.y+ie[Y+1],j.x+ie[Y+2],j.y+ie[Y+3],j.x+ie[Y+4],j.y+ie[Y+5]),fe.x=j.x+ie[Y+2],fe.y=j.y+ie[Y+3],j.x+=ie[Y+4],j.y+=ie[Y+5],0===Y&&!0===Re&&K.copy(j);break;case"s":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y+=4)Q.bezierCurveTo(g(j.x,fe.x),g(j.y,fe.y),j.x+ie[Y+0],j.y+ie[Y+1],j.x+ie[Y+2],j.y+ie[Y+3]),fe.x=j.x+ie[Y+0],fe.y=j.y+ie[Y+1],j.x+=ie[Y+2],j.y+=ie[Y+3],0===Y&&!0===Re&&K.copy(j);break;case"q":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y+=4)Q.quadraticCurveTo(j.x+ie[Y+0],j.y+ie[Y+1],j.x+ie[Y+2],j.y+ie[Y+3]),fe.x=j.x+ie[Y+0],fe.y=j.y+ie[Y+1],j.x+=ie[Y+2],j.y+=ie[Y+3],0===Y&&!0===Re&&K.copy(j);break;case"t":ie=b(we);for(let Y=0,Qe=ie.length;Y<Qe;Y+=2){const pt=g(j.x,fe.x),Yt=g(j.y,fe.y);Q.quadraticCurveTo(pt,Yt,j.x+ie[Y+0],j.y+ie[Y+1]),fe.x=pt,fe.y=Yt,j.x=j.x+ie[Y+0],j.y=j.y+ie[Y+1],0===Y&&!0===Re&&K.copy(j)}break;case"a":ie=b(we,[3,4],7);for(let Y=0,Qe=ie.length;Y<Qe;Y+=7){if(0==ie[Y+5]&&0==ie[Y+6])continue;const pt=j.clone();j.x+=ie[Y+5],j.y+=ie[Y+6],fe.x=j.x,fe.y=j.y,s(Q,ie[Y],ie[Y+1],ie[Y+2],ie[Y+3],ie[Y+4],pt,j),0===Y&&!0===Re&&K.copy(j)}break;case"Z":case"z":Q.currentPath.autoClose=!0,Q.currentPath.curves.length>0&&(j.copy(K),Q.currentPath.currentPoint.copy(j),Ye=!0);break;default:console.warn(de)}Re=!1}return Q}(ce));break;case"rect":Q=v(ce,Q),K=function c(ce){const Q=E(ce.getAttribute("x")||0),j=E(ce.getAttribute("y")||0),fe=E(ce.getAttribute("rx")||0),K=E(ce.getAttribute("ry")||0),Ye=E(ce.getAttribute("width")),Re=E(ce.getAttribute("height")),bt=new Kc;return bt.moveTo(Q+2*fe,j),bt.lineTo(Q+Ye-2*fe,j),(0!==fe||0!==K)&&bt.bezierCurveTo(Q+Ye,j,Q+Ye,j,Q+Ye,j+2*K),bt.lineTo(Q+Ye,j+Re-2*K),(0!==fe||0!==K)&&bt.bezierCurveTo(Q+Ye,j+Re,Q+Ye,j+Re,Q+Ye-2*fe,j+Re),bt.lineTo(Q+2*fe,j+Re),(0!==fe||0!==K)&&bt.bezierCurveTo(Q,j+Re,Q,j+Re,Q,j+Re-2*K),bt.lineTo(Q,j+2*K),(0!==fe||0!==K)&&bt.bezierCurveTo(Q,j,Q,j,Q+2*fe,j),bt}(ce);break;case"polygon":Q=v(ce,Q),K=function l(ce){const fe=new Kc;let K=0;return ce.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function Q(Ye,Re,bt){const rt=E(Re),q=E(bt);0===K?fe.moveTo(rt,q):fe.lineTo(rt,q),K++}),fe.currentPath.autoClose=!0,fe}(ce);break;case"polyline":Q=v(ce,Q),K=function d(ce){const fe=new Kc;let K=0;return ce.getAttribute("points").replace(/(-?[\d\.?]+)[,|\s](-?[\d\.?]+)/g,function Q(Ye,Re,bt){const rt=E(Re),q=E(bt);0===K?fe.moveTo(rt,q):fe.lineTo(rt,q),K++}),fe.currentPath.autoClose=!1,fe}(ce);break;case"circle":Q=v(ce,Q),K=function u(ce){const Q=E(ce.getAttribute("cx")||0),j=E(ce.getAttribute("cy")||0),fe=E(ce.getAttribute("r")||0),K=new od;K.absarc(Q,j,fe,0,2*Math.PI,!0);const Ye=new Kc;return Ye.subPaths.push(K),Ye}(ce);break;case"ellipse":Q=v(ce,Q),K=function h(ce){const Q=E(ce.getAttribute("cx")||0),j=E(ce.getAttribute("cy")||0),fe=E(ce.getAttribute("rx")||0),K=E(ce.getAttribute("ry")||0),Ye=new od;Ye.absellipse(Q,j,fe,K,0,2*Math.PI,!0,0);const Re=new Kc;return Re.subPaths.push(Ye),Re}(ce);break;case"line":Q=v(ce,Q),K=function f(ce){const Q=E(ce.getAttribute("x1")||0),j=E(ce.getAttribute("y1")||0),fe=E(ce.getAttribute("x2")||0),K=E(ce.getAttribute("y2")||0),Ye=new Kc;return Ye.moveTo(Q,j),Ye.lineTo(fe,K),Ye.currentPath.autoClose=!1,Ye}(ce);break;case"defs":fe=!1,function m(ce){e.defs||(e.defs=[]);const Q=ce.childNodes;for(const j of Q){const fe=j.childNodes;for(const K of fe)if(K.hasAttribute&&K.hasAttribute("stop-color")){e.defs[j.id]=K.getAttribute("stop-color");break}}}(ce);break;case"use":Q=v(ce,Q);const Ye=ce.href.baseVal.substring(1),Re=ce.viewportElement.getElementById(Ye);Re?i(Re,Q):console.warn("SVGLoader: 'use node' references non-existent node id: "+Ye)}if(K&&(void 0!==Q.fill&&"none"!==Q.fill&&K.color.setStyle(Q.fill),function B(ce,Q){function j(Ye){Ce.set(Ye.x,Ye.y,1).applyMatrix3(Q),Ye.set(Ce.x,Ce.y)}const fe=function $(ce){return 0!==ce.elements[1]||0!==ce.elements[3]}(Q),K=ce.subPaths;for(let Ye=0,Re=K.length;Ye<Re;Ye++){const rt=K[Ye].curves;for(let q=0;q<rt.length;q++){const Oe=rt[q];Oe.isLineCurve?(j(Oe.v1),j(Oe.v2)):Oe.isCubicBezierCurve?(j(Oe.v0),j(Oe.v1),j(Oe.v2),j(Oe.v3)):Oe.isQuadraticBezierCurve?(j(Oe.v0),j(Oe.v1),j(Oe.v2)):Oe.isEllipseCurve&&(fe&&console.warn("SVGLoader: Elliptic arc or ellipse rotation or skewing is not implemented."),te.set(Oe.aX,Oe.aY),j(te),Oe.aX=te.x,Oe.aY=te.y,Oe.xRadius*=N(Q),Oe.yRadius*=H(Q))}}}(K,Pe),ge.push(K),K.userData={node:ce,style:Q}),fe){const Ye=ce.childNodes;for(let Re=0;Re<Ye.length;Re++)i(Ye[Re],Q)}j&&(Be.pop(),Be.length>0?Pe.copy(Be[Be.length-1]):Pe.identity())}(ue.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:ge,xml:ue.documentElement}}static createShapes(t){const r={loc:0,t:0};function o(g,b,y,x){const E=g.x,O=b.x,R=y.x,B=x.x,$=g.y,N=b.y,H=y.y,ge=x.y,_e=(B-R)*($-H)-(ge-H)*(E-R),ee=(ge-H)*(O-E)-(B-R)*(N-$),Me=_e/ee,pe=((O-E)*($-H)-(N-$)*(E-R))/ee;if(0===ee&&0!==_e||Me<=0||Me>=1||pe<0||pe>1)return null;if(0===_e&&0===ee){for(let ne=0;ne<2;ne++){if(s(0===ne?y:x,g,b),0==r.loc){const te=0===ne?y:x;return{x:te.x,y:te.y,t:r.t}}if(2==r.loc)return{x:+(E+r.t*(O-E)).toPrecision(10),y:+($+r.t*(N-$)).toPrecision(10),t:r.t}}return null}for(let Ce=0;Ce<2;Ce++)if(s(0===Ce?y:x,g,b),0==r.loc){const Pe=0===Ce?y:x;return{x:Pe.x,y:Pe.y,t:r.t}}return{x:+(E+Me*(O-E)).toPrecision(10),y:+($+Me*(N-$)).toPrecision(10),t:Me}}function s(g,b,y){const x=y.x-b.x,E=y.y-b.y,O=g.x-b.x,R=g.y-b.y,B=x*R-O*E;if(g.x===b.x&&g.y===b.y)return r.loc=0,void(r.t=0);if(g.x===y.x&&g.y===y.y)return r.loc=1,void(r.t=1);if(B<-Number.EPSILON)return void(r.loc=3);if(B>Number.EPSILON)return void(r.loc=4);if(x*O<0||E*R<0)return void(r.loc=5);if(Math.sqrt(x*x+E*E)<Math.sqrt(O*O+R*R))return void(r.loc=6);let $;$=0!==x?O/x:R/E,r.loc=2,r.t=$}let d=0,u=999999999,h=-999999999,f=t.subPaths.map(g=>{const b=g.getPoints();let y=-999999999,x=999999999,E=-999999999,O=999999999;for(let R=0;R<b.length;R++){const B=b[R];B.y>y&&(y=B.y),B.y<x&&(x=B.y),B.x>E&&(E=B.x),B.x<O&&(O=B.x)}return h<=E&&(h=E+1),u>=O&&(u=O-1),{points:b,isCW:aa.isClockWise(b),identifier:d++,boundingBox:new J_e(new Ee(O,x),new Ee(E,y))}});f=f.filter(g=>g.points.length>0);const m=f.map(g=>function l(g,b,y,x,E){(null==E||""===E)&&(E="nonzero");const O=new Ee;g.boundingBox.getCenter(O);const B=function c(g,b,y){const x=new Ee;b.getCenter(x);const E=[];return y.forEach(O=>{O.boundingBox.containsPoint(x)&&function a(g,b){const y=[],x=[];for(let E=1;E<g.length;E++){const O=g[E-1],R=g[E];for(let B=1;B<b.length;B++){const H=o(O,R,b[B-1],b[B]);null!==H&&void 0===y.find(ge=>ge.t<=H.t+Number.EPSILON&&ge.t>=H.t-Number.EPSILON)&&(y.push(H),x.push(new Ee(H.x,H.y)))}}return x}(g,O.points).forEach(B=>{E.push({identifier:O.identifier,isCW:O.isCW,point:B})})}),E.sort((O,R)=>O.point.x-R.point.x),E}([new Ee(y,O.y),new Ee(x,O.y)],g.boundingBox,b);B.sort((Be,ee)=>Be.point.x-ee.point.x);const $=[],N=[];B.forEach(Be=>{Be.identifier===g.identifier?$.push(Be):N.push(Be)});const H=$[0].point.x,ge=[];let _e=0;for(;_e<N.length&&N[_e].point.x<H;)ge.length>0&&ge[ge.length-1]===N[_e].identifier?ge.pop():ge.push(N[_e].identifier),_e++;if(ge.push(g.identifier),"evenodd"===E)return{identifier:g.identifier,isHole:ge.length%2==0,for:ge[ge.length-2]};if("nonzero"===E){let Be=!0,ee=null,Me=null;for(let pe=0;pe<ge.length;pe++){const ne=ge[pe];Be?(Me=b[ne].isCW,Be=!1,ee=ne):Me!==b[ne].isCW&&(Me=b[ne].isCW,Be=!0)}return{identifier:g.identifier,isHole:Be,for:ee}}console.warn('fill-rule: "'+E+'" is currently not implemented.')}(g,f,u,h,t.userData.style.fillRule)),v=[];return f.forEach(g=>{if(!m[g.identifier].isHole){const y=new tc(g.points);m.filter(E=>E.isHole&&E.for===g.identifier).forEach(E=>{y.holes.push(new od(f[E.identifier].points))}),v.push(y)}}),v}static getStrokeStyle(t,e,i,r,o){return{strokeColor:e=void 0!==e?e:"#000",strokeWidth:t=void 0!==t?t:1,strokeLineJoin:i=void 0!==i?i:"miter",strokeLineCap:r=void 0!==r?r:"butt",strokeMiterLimit:o=void 0!==o?o:4}}static pointsToStroke(t,e,i,r){const o=[],s=[],a=[];if(0===UA.pointsToStrokeWithBuffers(t,e,i,r,o,s,a))return null;const c=new gn;return c.setAttribute("position",new Tt(o,3)),c.setAttribute("normal",new Tt(s,3)),c.setAttribute("uv",new Tt(a,2)),c}static pointsToStrokeWithBuffers(t,e,i,r,o,s,a,c){const l=new Ee,d=new Ee,u=new Ee,h=new Ee,f=new Ee,m=new Ee,v=new Ee,g=new Ee,b=new Ee,y=new Ee,x=new Ee,E=new Ee,O=new Ee,R=new Ee,B=new Ee,$=new Ee,N=new Ee;i=void 0!==i?i:12,r=void 0!==r?r:.001,c=void 0!==c?c:0;const H=(t=function Oe(de){let Ne=!1;for(let ie=1,Y=de.length-1;ie<Y;ie++)if(de[ie].distanceTo(de[ie+1])<r){Ne=!0;break}if(!Ne)return de;const we=[];we.push(de[0]);for(let ie=1,Y=de.length-1;ie<Y;ie++)de[ie].distanceTo(de[ie+1])>=r&&we.push(de[ie]);return we.push(de[de.length-1]),we}(t)).length;if(H<2)return 0;const ge=t[0].equals(t[H-1]);let _e,ee,Be=t[0];const Me=e.strokeWidth/2,pe=1/(H-1);let te,Ce,Pe,ue,ne=0,Ue=!1,ce=0,Q=3*c,j=2*c;fe(t[0],t[1],l).multiplyScalar(Me),g.copy(t[0]).sub(l),b.copy(t[0]).add(l),y.copy(g),x.copy(b);for(let de=1;de<H;de++){_e=t[de],ee=de===H-1?ge?t[1]:void 0:t[de+1];const Ne=l;if(fe(Be,_e,Ne),u.copy(Ne).multiplyScalar(Me),E.copy(_e).sub(u),O.copy(_e).add(u),te=ne+pe,Ce=!1,void 0!==ee){fe(_e,ee,d),u.copy(d).multiplyScalar(Me),R.copy(_e).sub(u),B.copy(_e).add(u),Pe=!0,u.subVectors(ee,Be),Ne.dot(u)<0&&(Pe=!1),1===de&&(Ue=Pe),u.subVectors(ee,_e),u.normalize();const we=Math.abs(Ne.dot(u));if(0!==we){const ie=Me/we;u.multiplyScalar(-ie),h.subVectors(_e,Be),f.copy(h).setLength(ie).add(u),$.copy(f).negate();const Y=f.length(),Qe=h.length();h.divideScalar(Qe),m.subVectors(ee,_e);const pt=m.length();switch(m.divideScalar(pt),h.dot($)<Qe&&m.dot($)<pt&&(Ce=!0),N.copy(f).add(_e),$.add(_e),ue=!1,Ce?Pe?(B.copy($),O.copy($)):(R.copy($),E.copy($)):Re(),e.strokeLineJoin){case"bevel":bt(Pe,Ce,te);break;case"round":rt(Pe,Ce),Pe?Ye(_e,E,R,te,0):Ye(_e,B,O,te,1);break;default:const Yt=Me*e.strokeMiterLimit/Y;if(Yt<1){if("miter-clip"!==e.strokeLineJoin){bt(Pe,Ce,te);break}rt(Pe,Ce),Pe?(m.subVectors(N,E).multiplyScalar(Yt).add(E),v.subVectors(N,R).multiplyScalar(Yt).add(R),K(E,te,0),K(m,te,0),K(_e,te,.5),K(_e,te,.5),K(m,te,0),K(v,te,0),K(_e,te,.5),K(v,te,0),K(R,te,0)):(m.subVectors(N,O).multiplyScalar(Yt).add(O),v.subVectors(N,B).multiplyScalar(Yt).add(B),K(O,te,1),K(m,te,1),K(_e,te,.5),K(_e,te,.5),K(m,te,1),K(v,te,1),K(_e,te,.5),K(v,te,1),K(B,te,1))}else Ce?(Pe?(K(b,ne,1),K(g,ne,0),K(N,te,0),K(b,ne,1),K(N,te,0),K($,te,1)):(K(b,ne,1),K(g,ne,0),K(N,te,1),K(g,ne,0),K($,te,0),K(N,te,1)),Pe?R.copy(N):B.copy(N)):Pe?(K(E,te,0),K(N,te,0),K(_e,te,.5),K(_e,te,.5),K(N,te,0),K(R,te,0)):(K(O,te,1),K(N,te,1),K(_e,te,.5),K(_e,te,.5),K(N,te,1),K(B,te,1)),ue=!0}}else Re()}else Re();!ge&&de===H-1&&q(t[0],y,x,Pe,!0,ne),ne=te,Be=_e,g.copy(R),b.copy(B)}if(ge){if(Ce&&o){let de=N,Ne=$;Ue!==Pe&&(de=$,Ne=N),Pe?(ue||Ue)&&(Ne.toArray(o,0),Ne.toArray(o,9),ue&&de.toArray(o,3)):(ue||!Ue)&&(Ne.toArray(o,3),Ne.toArray(o,9),ue&&de.toArray(o,0))}}else q(_e,E,O,Pe,!1,te);return ce;function fe(de,Ne,we){return we.subVectors(Ne,de),we.set(-we.y,we.x).normalize()}function K(de,Ne,we){o&&(o[Q]=de.x,o[Q+1]=de.y,o[Q+2]=0,s&&(s[Q]=0,s[Q+1]=0,s[Q+2]=1),Q+=3,a&&(a[j]=Ne,a[j+1]=we,j+=2)),ce+=3}function Ye(de,Ne,we,ie,Y){l.copy(Ne).sub(de).normalize(),d.copy(we).sub(de).normalize();let Qe=Math.PI;const pt=l.dot(d);Math.abs(pt)<1&&(Qe=Math.abs(Math.acos(pt))),Qe/=i,u.copy(Ne);for(let Yt=0,Gn=i-1;Yt<Gn;Yt++)h.copy(u).rotateAround(de,Qe),K(u,ie,Y),K(h,ie,Y),K(de,ie,.5),u.copy(h);K(h,ie,Y),K(we,ie,Y),K(de,ie,.5)}function Re(){K(b,ne,1),K(g,ne,0),K(E,te,0),K(b,ne,1),K(E,te,1),K(O,te,0)}function bt(de,Ne,we){Ne?de?(K(b,ne,1),K(g,ne,0),K(E,te,0),K(b,ne,1),K(E,te,0),K($,te,1),K(E,we,0),K(R,we,0),K($,we,.5)):(K(b,ne,1),K(g,ne,0),K(O,te,1),K(g,ne,0),K($,te,0),K(O,te,1),K(O,we,1),K(B,we,0),K($,we,.5)):de?(K(E,we,0),K(R,we,0),K(_e,we,.5)):(K(O,we,1),K(B,we,0),K(_e,we,.5))}function rt(de,Ne){Ne&&(de?(K(b,ne,1),K(g,ne,0),K(E,te,0),K(b,ne,1),K(E,te,0),K($,te,1),K(E,ne,0),K(_e,te,.5),K($,te,1),K(_e,te,.5),K(R,ne,0),K($,te,1)):(K(b,ne,1),K(g,ne,0),K(O,te,1),K(g,ne,0),K($,te,0),K(O,te,1),K(O,ne,1),K($,te,0),K(_e,te,.5),K(_e,te,.5),K($,te,0),K(B,ne,1)))}function q(de,Ne,we,ie,Y,Qe){switch(e.strokeLineCap){case"round":Y?Ye(de,we,Ne,Qe,.5):Ye(de,Ne,we,Qe,.5);break;case"square":if(Y)l.subVectors(Ne,de),d.set(l.y,-l.x),u.addVectors(l,d).add(de),h.subVectors(d,l).add(de),ie?(u.toArray(o,3),h.toArray(o,0),h.toArray(o,9)):(u.toArray(o,3),u.toArray(o,9),h.toArray(o,0));else{l.subVectors(we,de),d.set(l.y,-l.x),u.addVectors(l,d).add(de),h.subVectors(d,l).add(de);const pt=o.length;ie?(u.toArray(o,pt-3),h.toArray(o,pt-6),h.toArray(o,pt-12)):(u.toArray(o,pt-6),h.toArray(o,pt-3),h.toArray(o,pt-12))}}}}}let iH=(()=>{class n extends BA{getValue(e){return new Promise((i,r)=>{(new UA).load(e,s=>{i(s.paths)},void 0,r)})}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),oH=(()=>{class n{constructor(){this.providers=new Map,this.init()}registerProvider(e,i){this.providers.set(e,i)}setDefaultProvider(e){this.defaultProvider=e}getSource(e){if(e){if(e.indexOf(":")>0){const i=e.split(":");return this.getSourceByNamespace(i[0],i[1])}return this.getSourceByNamespace(this.defaultProvider,e)}return this.defaultIfNotFound(e)}getSourceByNamespace(e,i){const r=this.providers.get(e);if(!r)return console.warn("Icon provider not found",r),this.defaultIfNotFound(i);const o=r.url.replace("?",i);return this.getFinalResult(o,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),sH=(()=>{class n extends oH{constructor(){super(...arguments),this.defaultProvider="md"}init(){this.registerProvider("md",{url:"https://raw.githubusercontent.com/material-icons/material-icons/master/svg/?/baseline.svg",allowColorOverride:!0,isCCW:!1,noHoles:!1}),this.registerProvider("a",{url:"assets/svg/?.svg",allowColorOverride:!0,isCCW:!1,noHoles:!1}),this.registerProvider("az",{url:"https://raw.githubusercontent.com/makimenko/files/master/azure-icons/?.svg",allowColorOverride:!1,isCCW:!1,noHoles:!1}),this.registerProvider("g",{url:"https://raw.githubusercontent.com/makimenko/files/master/google-cloud-icons/?.svg",allowColorOverride:!0,isCCW:!1,noHoles:!1}),this.registerProvider("aws",{url:"https://raw.githubusercontent.com/makimenko/files/master/aws-icons/?.svg",allowColorOverride:!1,isCCW:!1,noHoles:!0})}defaultIfNotFound(e){return{url:e,allowColorOverride:!0,isCCW:!1,noHoles:!1}}getFinalResult(e,i){return{url:e,allowColorOverride:i.allowColorOverride,isCCW:i.isCCW,noHoles:i.noHoles}}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),aH=(()=>{class n extends oH{constructor(){super(...arguments),this.defaultProvider="3d"}init(){this.registerProvider("3d",{url:"https://raw.githubusercontent.com/makimenko/files/master/actor-models/?.obj"})}defaultIfNotFound(e){return{url:e}}getFinalResult(e,i){return{url:e}}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),C0=(()=>{class n extends eH{get overrideMaterialColor(){return this._overrideMaterialColor}set overrideMaterialColor(e){this._overrideMaterialColor=e,this.object&&this.startLoading()}set icon(e){const i=this.iconService.getSource(e);this.model=i.url,this.isCCW=i.isCCW,this.noHoles=i.noHoles,i.allowColorOverride||(this.overrideMaterialColor=void 0)}get icon(){return this.model}constructor(e,i,r,o){super(e,i),this.rendererService=e,this.parent=i,this.svgLoader=r,this.iconService=o,this._overrideMaterialColor=void 0,this.material="basic",this.depthWrite=!0,this.centered=!0,this.isCCW=!1,this.noHoles=!1}loadLazyObject(){var e=this;return Qn(function*(){const i=yield e.svgLoader.load(e.model),r=new rd;for(const o of i){const a=LA(e._overrideMaterialColor?e._overrideMaterialColor:o.color,e.material,e.depthWrite),c=o.toShapes(e.isCCW);for(const l of c){const d=new cd(l),u=new ei(d,a);r.add(u)}}return(e.maxX||e.maxY)&&function aye(n,t){const e=function sye(n){const t=(new xo).setFromObject(n);return new G(t.max.x-t.min.x,t.max.y-t.min.y,t.max.z-t.min.z)}(n),i=t.x/e.x,r=t.y/e.y,o=t.z/e.z;n.scale.set(i<1?i:1,r<1?r:1,o<1?o:1)}(r,new G(e.maxX,e.maxY,0)),e.centered&&$z(r),r})()}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12),D(iH),D(sH))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-svg-loader"]],inputs:{overrideMaterialColor:"overrideMaterialColor",icon:"icon",material:"material",depthWrite:"depthWrite",maxX:"maxX",maxY:"maxY",centered:"centered",isCCW:"isCCW",noHoles:"noHoles"},features:[Ut([vi(n)]),He],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),cH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[si]})}return n})(),Zm=(()=>{class n extends ti{constructor(){super(...arguments),this.materialColor="#5DADE2",this.castShadow=!0,this.receiveShadow=!0,this.depthWrite=!0}getMaterial(){return LA(this.materialColor,this.material,this.depthWrite)}applyShadowProps(e){e.castShadow=this.castShadow,e.receiveShadow=this.receiveShadow}ngOnChanges(e){if(super.ngOnChanges(e),!this.getObject())return;let i=!1;["material","materialColor","depthWrite"].some(r=>r in e)&&(this.applyMaterial(),i=!0),i&&this.rendererService.render()}applyMaterial(){this.getObject().material=this.getMaterial()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275dir=De({type:n,inputs:{material:"material",materialColor:"materialColor",castShadow:"castShadow",receiveShadow:"receiveShadow",depthWrite:"depthWrite"},features:[He,jn]})}return n})(),VA=(()=>{class n extends Zm{constructor(e,i){super(e,i),this.rendererService=e,this.parent=i,this.width=1,this.height=1,this.depth=1,this.widthSegments=1,this.heightSegments=1,this.depthSegments=1}newObject3DInstance(){const e=new ed(this.width,this.height,this.depth,this.widthSegments,this.heightSegments,this.depthSegments),i=this.getMaterial(),r=new ei(e,i);return this.applyShadowProps(r),r}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-box-mesh"]],inputs:{width:"width",height:"height",depth:"depth",widthSegments:"widthSegments",heightSegments:"heightSegments",depthSegments:"depthSegments"},features:[Ut([vi(n)]),He],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),mye=(()=>{class n extends Zm{constructor(e,i){super(e,i),this.rendererService=e,this.parent=i,this.radiusTop=1,this.radiusBottom=1,this.height=1,this.radialSegments=8,this.heightSegments=1,this.openEnded=!1,this.thetaStart=0,this.thetaLength=2*Math.PI}newObject3DInstance(){const e=new Fh(this.radiusTop,this.radiusBottom,this.height,this.radialSegments,this.heightSegments,this.openEnded,this.thetaStart,this.thetaLength),i=this.getMaterial(),r=new ei(e,i);return this.applyShadowProps(r),r}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-cylinder-mesh"]],inputs:{radiusTop:"radiusTop",radiusBottom:"radiusBottom",height:"height",radialSegments:"radialSegments",heightSegments:"heightSegments",openEnded:"openEnded",thetaStart:"thetaStart",thetaLength:"thetaLength"},features:[Ut([vi(n)]),He],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),xd=(()=>{class n extends Zm{constructor(e,i){super(e,i),this.rendererService=e,this.parent=i,this.thickness=2,this.sizeX=20,this.sizeY=20}getGeometry(){const e=(this.sizeX??1)/2,i=(this.sizeY??1)/2,r=this.thickness??1,o=new tc;return o.moveTo(-e,i),o.lineTo(-e-r,i+r),o.lineTo(e+r,i+r),o.lineTo(e+r,-i-r),o.lineTo(-e-r,-i-r),o.lineTo(-e-r,i+r),o.lineTo(-e,i),o.lineTo(-e,-i),o.lineTo(e,-i),o.lineTo(e,i),o.lineTo(-e,i),new cd(o)}newObject3DInstance(){const e=this.getMaterial(),i=new ei(this.getGeometry(),e);return this.applyShadowProps(i),i}ngOnChanges(e){if(!this.object)return;super.ngOnChanges(e);let i=!1;if(["sizeX","sizeY","thickness"].some(r=>r in e)&&this.getObject()instanceof ei){const r=this.getObject();if(r.geometry instanceof cd){const o=r.geometry,s=this.getGeometry();o.attributes=s.attributes}i=!0}i&&(this.changed.emit(),this.rendererService.render())}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-frame-mesh"]],inputs:{thickness:"thickness",sizeX:"sizeX",sizeY:"sizeY"},features:[Ut([vi(n)]),He,jn],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),lH=(()=>{class n extends Zm{constructor(e,i){super(e,i),this.rendererService=e,this.parent=i,this.width=1,this.height=1,this.widthSegments=1,this.heightSegments=1}newObject3DInstance(){const e=new qc(this.width,this.height,this.widthSegments,this.heightSegments),i=this.getMaterial(),r=new ei(e,i);return this.applyShadowProps(r),r}ngOnChanges(e){if(!this.object)return;super.ngOnChanges(e);let i=!1;if(["width","height","widthSegments","heightSegments"].some(r=>r in e)){if(this.getObject()instanceof ei){const r=this.getObject();if(r.geometry instanceof qc){const o=r.geometry,s=new qc(this.width,this.height,this.widthSegments,this.heightSegments);o.attributes=s.attributes}}i=!0}i&&(this.changed.emit(),this.rendererService.render())}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-plane-mesh"]],inputs:{width:"width",height:"height",widthSegments:"widthSegments",heightSegments:"heightSegments"},features:[Ut([vi(n)]),He,jn],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),gye=(()=>{class n extends Zm{constructor(e,i,r){super(e,i),this.rendererService=e,this.parent=i,this.animationService=r,this.width=1,this.height=1,this.type="video/mp4",this.autoplay=!0,this.loop=!0,this.muted=!0,this.video=document.createElement("video"),this.widthSegments=1,this.heightSegments=1,this.videoPlaybackStarted=!1,this.playbackError=!1}newObject3DInstance(){const e=new qc(this.width,this.height,this.widthSegments,this.heightSegments),i=this.getMaterial(),r=new ei(e,i);return this.applyShadowProps(r),r}getMaterial(){const e=document.createElement("source");e.src=this.videoSrc,e.type=this.type,this.video.appendChild(e),this.video.crossOrigin="anonymous",this.video.autoplay=!1,this.video.loop=this.loop,this.video.muted=this.muted;const i=new Age(this.video);return new os({color:16777215,map:i})}animate(){}ngAfterViewInit(){super.ngAfterViewInit(),this.autoplay&&(this.animationService.start(),this.animate=this.animate.bind(this),this.animation=this.animationService.animate.subscribe(this.animate),this.video.load(),this.video.addEventListener("canplay",()=>{this.video&&this.video.play().then(()=>{this.videoPlaybackStarted=!0},()=>{this.playbackError=!0})}))}ngOnDestroy(){this.video&&(this.animation?.unsubscribe(),this.video.pause(),this.video.remove())}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12),D(yd))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-video-mesh"]],inputs:{width:"width",height:"height",videoSrc:"videoSrc",type:"type",autoplay:"autoplay",loop:"loop",muted:"muted"},features:[Ut([vi(n)]),He],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),dH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[si]})}return n})(),wd=(()=>{class n extends Jz{set materialColor(e){this._materialColor=e,this.object&&this.startLoading()}get materialColor(){return this._materialColor}set text(e){this._text=e,this.object&&this.startLoading()}get text(){return this._text}constructor(e,i,r){super(e,i),this.rendererService=e,this.parent=i,this.font=r,this.material="basic",this._materialColor="#DADADA",this._text="Text",this.size=10,this.height=.3,this.curveSegments=2,this.bevelEnabled=!1,this.bevelThickness=.1,this.bevelSize=.1,this.bevelOffset=0,this.bevelSegments=1,this.fontUrl="./assets/font/helvetiker_regular.typeface.json",this.castShadow=!0,this.receiveShadow=!0,this.depthWrite=!0,this.centered=!0}getMaterial(){return LA(this.materialColor,this.material,this.depthWrite)}loadLazyObject(){var e=this;return Qn(function*(){const i=yield e.font.load(e.fontUrl);return e.getTextMesh(i)})()}getTextMesh(e){if(this.text){const i=new Cbe(this.text,{font:e,size:this.size,height:this.height,curveSegments:this.curveSegments,bevelEnabled:this.bevelEnabled,bevelThickness:this.bevelThickness,bevelSize:this.bevelSize,bevelOffset:this.bevelOffset,bevelSegments:this.bevelOffset}),r=this.getMaterial(),o=new ei(i,r);return o.castShadow=this.castShadow,o.receiveShadow=this.receiveShadow,this.centered&&$z(o),o}return new ei}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12),D(nH))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-text-mesh"]],inputs:{material:"material",materialColor:"materialColor",text:"text",size:"size",height:"height",curveSegments:"curveSegments",bevelEnabled:"bevelEnabled",bevelThickness:"bevelThickness",bevelSize:"bevelSize",bevelOffset:"bevelOffset",bevelSegments:"bevelSegments",fontUrl:"fontUrl",castShadow:"castShadow",receiveShadow:"receiveShadow",depthWrite:"depthWrite",centered:"centered"},features:[Ut([vi(n)]),He],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),uH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[si]})}return n})(),_ye=(()=>{class n extends ti{constructor(e,i){super(e,i),this.rendererService=e,this.parent=i,this.background="#ffffff",e.setScene(this)}newObject3DInstance(){const e=new dU;return e.background=new xt(this.background),e}updateParent(){}ngOnChanges(e){if(super.ngOnChanges(e),!this.object)return;let i=!1;["background"].some(r=>r in e)&&(this.getObject().background=new xt(this.background),i=!0),i&&this.rendererService.render()}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-scene"]],inputs:{background:"background"},features:[Ut([vi(n)]),He,jn],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),hH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[nH,iH,sH,tH,aH],imports:[si,Zz,Kz,Qz,cH,dH,uH,Zz,Kz,Qz,cH,dH,uH]})}return n})(),zA=(()=>{class n{constructor(e){this.rendererService=e,this.preserveDrawingBuffer=!1,this.onResize=this.onResize.bind(this)}ngOnInit(){this.rendererService.initialize(this.canvas,this.preserveDrawingBuffer),this.resetCanvas()}get renderPane(){return this.canvasRef}get canvas(){return this.canvasRef.nativeElement}onResize(e){this.resetCanvas()}resetCanvas(){this.rendererService.resize(this.canvas,"100px"),this.rendererService.resize(this.canvas,"100%")}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-renderer-canvas"]],viewQuery:function(i,r){if(1&i&&Tn(Hve,7),2&i){let o;Ht(o=Gt())&&(r.canvasRef=o.first)}},hostBindings:function(i,r){1&i&&Rt("resize",function(s){return r.onResize(s)},0,vc)},inputs:{preserveDrawingBuffer:"preserveDrawingBuffer"},ngContentSelectors:dr,decls:6,vars:0,consts:[["canvas",""]],template:function(i,r){1&i&&(Sn(),he(0,"canvas",null,0),re(2,"\n  "),$t(3),re(4,"\n"),ae(),re(5,"\n"))},styles:["[_nghost-%COMP%]{display:flex;flex:1;height:100%}canvas[_ngcontent-%COMP%]{flex:1;outline:none}"]})}return n})();var Ns=function(n){return n.mouseEnter="mouseEnter",n.mouseExit="mouseExit",n.click="click",n}(Ns||{});let M0=(()=>{class n{constructor(){this.raycaster=new Q_e,this.enabled=!1,this.groups=[],this.paused=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onClick=this.onClick.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.subscribe()}ngOnDestroy(){this.disable(),this.unsubscribe()}subscribe(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("click",this.onClick),window.addEventListener("touchstart",this.onTouchStart)}unsubscribe(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("click",this.onClick),window.removeEventListener("touchstart",this.onTouchStart)}enable(){this.enabled=!0}disable(){this.enabled=!1}pause(){this.paused=!0}resume(){this.paused=!1}get isEnabled(){return this.enabled}setCamera(e){this.camera=e}addGroup(e){this.groups.push(e)}onMouseMove(e){if(!this.isReady())return;const i=this.getFirstIntersectedGroup(e.layerX,e.layerY);(i&&(!this.selected||this.selected!==i.object)||!i)&&(this.selected&&(this.selected.dispatchEvent({type:Ns.mouseExit}),this.selected=void 0),i&&i.object&&(this.selected=i.object,this.selected.dispatchEvent({type:Ns.mouseEnter,face:i.face})))}onClick(e){if(!this.isReady(!0))return;const i=this.getFirstIntersectedGroup(e.layerX,e.layerY);i&&i.object&&i.object.dispatchEvent({type:Ns.click,face:i.face})}onTouchStart(e){if(!this.isReady())return;const i=this.getFirstIntersectedGroup(e.touches[0].clientX,e.touches[0].clientY);i&&i.object&&i.object.dispatchEvent({type:Ns.click,face:i.face})}isReady(e){return this.enabled&&(e||!this.paused)&&this.camera&&this.camera.camera&&this.groups&&this.groups.length>0}getFirstIntersectedGroup(e,i){e=e/window.innerWidth*2-1,i=-i/window.innerHeight*2+1;const r=new Ee(e,i);let o,s,a;this.raycaster.setFromCamera(r,this.camera.camera);for(let c=0;c<this.groups.length;c++){const l=this.groups[c].getObject(),d=this.raycaster.intersectObject(l,!0);d.length>0&&(!s||s.distance>d[0].distance)&&(s=d[0],s.face&&(o=s.face),a=l)}if(a)return{object:a,face:o}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),bye=(()=>{class n{constructor(e,i){this.rendererService=e,this.raycasterService=i}ngOnChanges(e){this.controls&&e.listeningControlElement&&(this.controls.dispose(),this.setUpControls())}ngOnDestroy(){this.controls&&this.controls.dispose()}configureListeners(){this.controls.addEventListener("change",()=>{this.rendererService.render()}),this.raycasterService.isEnabled&&(this.controls.addEventListener("start",()=>{this.raycasterService.pause()}),this.controls.addEventListener("end",()=>{this.raycasterService.resume()}))}ngAfterViewInit(){if(void 0===this.childCameras||void 0===this.childCameras.first)throw new Error("Camera is not found");if(!this.webGlRenderer)throw new Error("webGlRenderer is not found");this.listeningControlElement=this.webGlRenderer.renderPane,this.setUpControls(),this.configureListeners(),this.rendererService.render()}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(M0))};static#t=this.\u0275dir=De({type:n,contentQueries:function(i,r,o){if(1&i&&(Ti(o,zA,5),Ti(o,NA,5)),2&i){let s;Ht(s=Gt())&&(r.webGlRenderer=s.first),Ht(s=Gt())&&(r.childCameras=s)}},inputs:{listeningControlElement:"listeningControlElement"},features:[jn]})}return n})(),vye=(()=>{class n extends bye{constructor(e,i,r){super(e,i),this.rendererService=e,this.raycasterService=i,this.animationService=r,this.rotateSpeed=1,this.zoomSpeed=1.2,this.autoRotate=!1,this.autoRotateSpeed=.5,this.enableDamping=!1,this.dampingFactor=.1,this.screenSpacePanning=!1,this.minDistance=20,this.maxDistance=200,this.maxPolarAngle=Math.PI/2-.1,this.panSpeed=1.2,this.minZoom=0,this.maxZoom=1/0}ngOnChanges(e){this.controls&&(super.ngOnChanges(e),e.rotateSpeed&&(this.controls.rotateSpeed=this.rotateSpeed),e.zoomSpeed&&(this.controls.zoomSpeed=this.zoomSpeed))}setUpControls(){this.controls=new Ebe(this.childCameras.first.camera,this.listeningControlElement&&this.listeningControlElement.nativeElement),this.controls.rotateSpeed=this.rotateSpeed,this.controls.zoomSpeed=this.zoomSpeed,this.controls.panSpeed=this.panSpeed,this.controls.autoRotate=this.autoRotate,this.controls.autoRotateSpeed=this.autoRotateSpeed,this.controls.enableDamping=this.enableDamping,this.controls.dampingFactor=this.dampingFactor,this.controls.screenSpacePanning=this.screenSpacePanning,this.controls.minDistance=this.minDistance,this.controls.maxDistance=this.maxDistance,this.controls.maxPolarAngle=this.maxPolarAngle,this.controls.minZoom=this.minZoom,this.controls.maxZoom=this.maxZoom,this.controls.update(),(this.autoRotate||this.enableDamping)&&(this.animation=this.animationService.animate.subscribe(()=>{this.controls.update()}),this.controls.addEventListener("change",()=>{this.rendererService.render()}),this.animationService.start()),this.rendererService.render()}ngOnDestroy(){super.ngOnDestroy(),this.animation?.unsubscribe()}reset(){this.controls.reset()}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(M0),D(yd))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-map-controls"]],inputs:{rotateSpeed:"rotateSpeed",zoomSpeed:"zoomSpeed",autoRotate:"autoRotate",autoRotateSpeed:"autoRotateSpeed",enableDamping:"enableDamping",dampingFactor:"dampingFactor",screenSpacePanning:"screenSpacePanning",minDistance:"minDistance",maxDistance:"maxDistance",maxPolarAngle:"maxPolarAngle",panSpeed:"panSpeed",minZoom:"minZoom",maxZoom:"maxZoom"},features:[He,jn],ngContentSelectors:dr,decls:2,vars:0,template:function(i,r){1&i&&(Sn(),re(0,"\n    "),$t(1))},styles:["[_nghost-%COMP%]{display:flex;flex:1;height:100%}"]})}return n})(),fH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[si]})}return n})(),Km=(()=>{class n{transform(e){return e/180*Math.PI}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=$r({name:"deg2rad",type:n,pure:!0})}return n})(),pH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[si]})}return n})(),Cye=(()=>{class n{constructor(){this.materials=[],this.darkMaterial=new os({color:"black"}),this.bloomLayer=new qv,this.initialized=!1}init(e,i,r){if(e&&i&&r){this.scene=i,this.bloomLayer.set(1);const o=new Ibe(i,r),s=new zh(new Ee(window.innerWidth,window.innerHeight),2,.1,.1);s.clear=!0;const a=new Z1(Rbe),c=e.getPixelRatio();a.material.uniforms.resolution.value.x=1/(window.innerWidth*c),a.material.uniforms.resolution.value.y=1/(window.innerHeight*c),this.bloomComposer=new $V(e),this.bloomComposer.renderToScreen=!1,this.bloomComposer.addPass(o),this.bloomComposer.addPass(s);const l=new Z1(new zr({uniforms:{baseTexture:{value:null},bloomTexture:{value:this.bloomComposer.renderTarget2.texture}},vertexShader:"\n  varying vec2 vUv;\n  void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  }",fragmentShader:"\n  uniform sampler2D baseTexture;\n  uniform sampler2D bloomTexture;\n  varying vec2 vUv;\n  void main() {\n    gl_FragColor = ( texture2D( baseTexture, vUv ) + vec4( 1.0 ) * texture2D( bloomTexture, vUv ) );\n  }",defines:{}}),"baseTexture");l.needsSwap=!0,this.finalComposer=new $V(e),this.finalComposer.addPass(o),this.finalComposer.addPass(l),this.finalComposer.addPass(a),this.initialized=!0}else console.warn("BloomService.init not all parameters settled")}render(){this.initialized&&(this.scene.traverse(e=>{this.darkenNonBloomed(e)}),this.bloomComposer.render(),this.scene.traverse(e=>{this.restoreMaterial(e)}),this.finalComposer.render())}darkenNonBloomed(e){this.initialized&&e.isMesh&&!1===this.bloomLayer.test(e.layers)&&(this.materials[e.uuid]=e.material,e.material=this.darkMaterial)}restoreMaterial(e){this.initialized&&e.isMesh&&this.materials[e.uuid]&&(e.material=this.materials[e.uuid],delete this.materials[e.uuid])}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),mH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[ii,Cye],imports:[si]})}return n})(),Cd=(()=>{class n{constructor(e,i){this.host=e,this.raycasterService=i,this.mouseEnter=new Mt,this.mouseExit=new Mt,this.click=new Mt,this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseExit=this.onMouseExit.bind(this),this.onClick=this.onClick.bind(this)}ngAfterViewInit(){this.raycasterService.addGroup(this.host),this.subscribeEvents()}subscribeEvents(){const e=this.host.getObject();e.addEventListener(Ns.mouseEnter,this.onMouseEnter),e.addEventListener(Ns.mouseExit,this.onMouseExit),e.addEventListener(Ns.click,this.onClick)}unSubscribeEvents(){const e=this.host.getObject();e&&(e.removeEventListener(Ns.mouseEnter,this.onMouseEnter),e.removeEventListener(Ns.mouseExit,this.onMouseExit),e.removeEventListener(Ns.click,this.onClick))}onMouseExit(){this.mouseExit.emit({component:this.host})}onMouseEnter(e){this.mouseEnter.emit({component:this.host,face:e.face})}onClick(e){this.click.emit({component:this.host,face:e.face})}ngOnDestroy(){this.unSubscribeEvents()}static#e=this.\u0275fac=function(i){return new(i||n)(D(ti),D(M0))};static#t=this.\u0275dir=De({type:n,selectors:[["","atft-raycaster-group",""]],outputs:{mouseEnter:"mouseEnter",mouseExit:"mouseExit",click:"click"}})}return n})(),gH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[M0],imports:[si]})}return n})(),_H=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[FA],imports:[si]})}return n})(),Qm=(()=>{class n extends ti{newObject3DInstance(){return new pr}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275dir=De({type:n,features:[He]})}return n})(),bH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[si]})}return n})(),vH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[Yz,hH,fH,pH,mH,Xz,gH,_H,bH,Yz,hH,fH,pH,mH,Xz,gH,_H,bH]})}return n})(),nf=(()=>{class n extends Qm{constructor(){super(...arguments),this.render=new Mt,this.selected=new Mt,this.deselected=new Mt,this.actorClick=new Mt,this.color="#ffffff",this.showFrame=!0}onSelected(){this.color="#fff0f0"}onDeselected(){this.color="#ffffff"}onClick(){console.log("ServerActorComponent.onClick"),this.color="#ffa0a0",this.actorClick.emit()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275dir=De({type:n,inputs:{label:"label",icon:"icon",showFrame:"showFrame"},outputs:{render:"render",selected:"selected",deselected:"deselected",actorClick:"actorClick"},features:[He]})}return n})(),Mye=(()=>{class n extends nf{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-server-barrel-actor"]],features:[Ut([vi(n)]),He],decls:17,vars:13,consts:[["name","server-box"],["atft-raycaster-group","",3,"mouseEnter","mouseExit","click"],["overrideMaterialColor","#ffffff","material","basic",3,"icon","maxX","maxY","translateZ","rotateZ","rotateY",4,"ngIf"],["material","phong",3,"height","radiusTop","radiusBottom","radialSegments","openEnded","materialColor","translateZ","rotateX",4,"ngFor","ngForOf"],[3,"text","size","bevelEnabled","height","centered","material","materialColor","translateY","translateZ"],["material","basic",3,"thickness","sizeX","sizeY","translateZ","materialColor",4,"ngIf"],["overrideMaterialColor","#ffffff","material","basic",3,"icon","maxX","maxY","translateZ","rotateZ","rotateY"],["material","phong",3,"height","radiusTop","radiusBottom","radialSegments","openEnded","materialColor","translateZ","rotateX"],["material","basic",3,"thickness","sizeX","sizeY","translateZ","materialColor"]],template:function(i,r){1&i&&(re(0,"\n    "),he(1,"atft-empty",0),re(2,"\n\n      "),re(3,"\n      "),he(4,"atft-empty",1),Rt("mouseEnter",function(){return r.onSelected()})("mouseExit",function(){return r.onDeselected()})("click",function(){return r.onClick()}),re(5,"\n        "),Ot(6,Gve,4,10,"atft-svg-loader",2),re(7,"\n\n        "),Ot(8,jve,3,10,"atft-cylinder-mesh",3),re(9,"\n      "),ae(),re(10,"\n\n      "),he(11,"atft-text-mesh",4),re(12,"\n      "),ae(),re(13,"\n      "),Ot(14,Wve,2,5,"atft-frame-mesh",5),re(15,"\n    "),ae(),re(16,"\n  ")),2&i&&(et(6),Ge("ngIf",r.icon),et(2),Ge("ngForOf",function qO(n,t,e){const i=qr()+n,r=Je();return r[i]===un?Xs(r,i,e?t.call(e):t()):function Qf(n,t){return n[t]}(r,i)}(12,$ve)),et(3),Ge("text",r.label)("size",2)("bevelEnabled",!1)("height",0)("centered",!0)("material","basic")("materialColor","0xDADADA")("translateY",-11)("translateZ",.2),et(3),Ge("ngIf",r.showFrame))},dependencies:[Du,sr,tf,C0,mye,xd,wd,Cd,Km],encapsulation:2})}return n})(),Sye=(()=>{class n extends nf{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-server-stand-actor"]],features:[Ut([vi(n)]),He],decls:18,vars:15,consts:[["name","server-box"],["atft-raycaster-group","",3,"mouseEnter","mouseExit","click"],["material","phong","atft-raycaster-group","",3,"height","width","depth","materialColor","translateZ","mouseEnter","mouseExit","click"],["overrideMaterialColor","#ffffff","material","basic",3,"icon","maxX","maxY","translateZ","translateY","rotateX","rotateZ","rotateY",4,"ngIf"],["material","basic","materialColor","#DADADA",3,"text","size","bevelEnabled","height","centered","translateY","translateZ","depthWrite"],["material","basic",3,"thickness","sizeX","sizeY","translateZ","depthWrite","materialColor",4,"ngIf"],["overrideMaterialColor","#ffffff","material","basic",3,"icon","maxX","maxY","translateZ","translateY","rotateX","rotateZ","rotateY"],["material","basic",3,"thickness","sizeX","sizeY","translateZ","depthWrite","materialColor"]],template:function(i,r){1&i&&(re(0,"\n    "),he(1,"atft-empty",0),re(2,"\n\n      "),re(3,"\n      "),he(4,"atft-empty",1),Rt("mouseEnter",function(){return r.onSelected()})("mouseExit",function(){return r.onDeselected()})("click",function(){return r.onClick()}),re(5,"\n        "),he(6,"atft-box-mesh",2),Rt("mouseEnter",function(){return r.onSelected()})("mouseExit",function(){return r.onDeselected()})("click",function(){return r.onClick()}),re(7,"\n          "),Ot(8,Yve,5,14,"atft-svg-loader",3),re(9,"\n        "),ae(),re(10,"\n      "),ae(),re(11,"\n\n      "),he(12,"atft-text-mesh",4),re(13,"\n      "),ae(),re(14,"\n      "),Ot(15,Xve,2,6,"atft-frame-mesh",5),re(16,"\n    "),ae(),re(17,"\n  ")),2&i&&(et(6),Ge("height",10)("width",10)("depth",14)("materialColor",r.color)("translateZ",7),et(2),Ge("ngIf",r.icon),et(4),Ge("text",r.label)("size",2)("bevelEnabled",!1)("height",0)("centered",!0)("translateY",-11)("translateZ",.1)("depthWrite",!0),et(3),Ge("ngIf",r.showFrame))},dependencies:[sr,tf,C0,VA,xd,wd,Cd,Km],encapsulation:2})}return n})(),Eye=(()=>{class n extends nf{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-server-compact-actor"]],features:[Ut([vi(n)]),He],decls:18,vars:14,consts:[["name","server-box"],["atft-raycaster-group","",3,"mouseEnter","mouseExit","click"],["material","phong","atft-raycaster-group","",3,"height","width","depth","materialColor","translateZ","mouseEnter","mouseExit","click"],["overrideMaterialColor","#ffffff","material","basic",3,"icon","maxX","maxY","translateZ","translateY","rotateZ","rotateY",4,"ngIf"],["material","basic","materialColor","#DADADA",3,"text","size","bevelEnabled","height","centered","translateY","translateZ"],["material","basic",3,"thickness","sizeX","sizeY","translateZ","materialColor",4,"ngIf"],["overrideMaterialColor","#ffffff","material","basic",3,"icon","maxX","maxY","translateZ","translateY","rotateZ","rotateY"],["svg",""],["material","basic",3,"thickness","sizeX","sizeY","translateZ","materialColor"]],template:function(i,r){1&i&&(re(0,"\n      "),he(1,"atft-empty",0),re(2,"\n\n          "),re(3,"\n          "),he(4,"atft-empty",1),Rt("mouseEnter",function(){return r.onSelected()})("mouseExit",function(){return r.onDeselected()})("click",function(){return r.onClick()}),re(5,"\n              "),he(6,"atft-box-mesh",2),Rt("mouseEnter",function(){return r.onSelected()})("mouseExit",function(){return r.onDeselected()})("click",function(){return r.onClick()}),re(7,"\n                  "),Ot(8,qve,5,11,"atft-svg-loader",3),re(9,"\n              "),ae(),re(10,"\n          "),ae(),re(11,"\n\n          "),he(12,"atft-text-mesh",4),re(13,"\n          "),ae(),re(14,"\n          "),Ot(15,Zve,2,5,"atft-frame-mesh",5),re(16,"\n      "),ae(),re(17,"\n  ")),2&i&&(et(6),Ge("height",10)("width",10)("depth",3)("materialColor",r.color)("translateZ",1.5),et(2),Ge("ngIf",r.icon),et(4),Ge("text",r.label)("size",2)("bevelEnabled",!1)("height",0)("centered",!0)("translateY",-11)("translateZ",.2),et(3),Ge("ngIf",r.showFrame))},dependencies:[sr,tf,C0,VA,xd,wd,Cd,Km],encapsulation:2})}return n})(),Aye=(()=>{class n extends nf{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-server-icon-actor"]],features:[Ut([vi(n)]),He],decls:14,vars:9,consts:[["name","server-box"],["atft-raycaster-group","",3,"mouseEnter","mouseExit","click"],["overrideMaterialColor","#ffffff","material","basic",3,"icon","translateZ","maxX","maxY","translateY","rotateZ","rotateY",4,"ngIf"],["material","basic","materialColor","#DADADA",3,"text","size","bevelEnabled","height","centered","translateY","translateZ"],["material","basic",3,"thickness","sizeX","sizeY","translateZ","materialColor",4,"ngIf"],["overrideMaterialColor","#ffffff","material","basic",3,"icon","translateZ","maxX","maxY","translateY","rotateZ","rotateY"],["svg",""],["material","basic",3,"thickness","sizeX","sizeY","translateZ","materialColor"]],template:function(i,r){1&i&&(re(0,"\n    "),he(1,"atft-empty",0),re(2,"\n\n      "),he(3,"atft-empty",1),Rt("mouseEnter",function(){return r.onSelected()})("mouseExit",function(){return r.onDeselected()})("click",function(){return r.onClick()}),re(4,"\n        "),Ot(5,Kve,5,11,"atft-svg-loader",2),re(6,"\n      "),ae(),re(7,"\n\n      "),he(8,"atft-text-mesh",3),re(9,"\n      "),ae(),re(10,"\n      "),Ot(11,Qve,2,5,"atft-frame-mesh",4),re(12,"\n\n    "),ae(),re(13,"\n  ")),2&i&&(et(5),Ge("ngIf",r.icon),et(3),Ge("text",r.label)("size",2)("bevelEnabled",!1)("height",0)("centered",!0)("translateY",-11)("translateZ",.2),et(3),Ge("ngIf",r.showFrame))},dependencies:[sr,tf,C0,xd,wd,Cd,Km],encapsulation:2})}return n})(),Tye=(()=>{class n extends nf{constructor(){super(...arguments),this.videoSrc="https://raw.githubusercontent.com/makimenko/files/master/angular-template-for-threejs/videos/ui/retro_futuristic_ui_360p.mp4"}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-workstation-actor"]],inputs:{videoSrc:"videoSrc"},features:[Ut([vi(n)]),He],decls:24,vars:23,consts:[["name","server-box"],["atft-raycaster-group","",3,"mouseEnter","mouseExit","click"],["material","phong",3,"height","width","depth","materialColor","translateZ"],["material","phong",3,"height","width","depth","materialColor","rotateX","translateZ"],[3,"height","width","translateZ","videoSrc",4,"ngIf"],["materialColor","#ffffff",3,"height","width","depth","translateZ","depthWrite",4,"ngIf"],["material","basic","materialColor","#DADADA",3,"text","size","bevelEnabled","height","centered","translateY","translateZ"],["material","basic",3,"thickness","sizeX","sizeY","translateZ","materialColor",4,"ngIf"],[3,"height","width","translateZ","videoSrc"],["materialColor","#ffffff",3,"height","width","depth","translateZ","depthWrite"],["material","basic",3,"thickness","sizeX","sizeY","translateZ","materialColor"]],template:function(i,r){1&i&&(re(0,"\n    "),he(1,"atft-empty",0),re(2,"\n\n      "),re(3,"\n      "),he(4,"atft-empty",1),Rt("mouseEnter",function(){return r.onSelected()})("mouseExit",function(){return r.onDeselected()})("click",function(){return r.onClick()}),re(5,"\n        "),he(6,"atft-box-mesh",2),re(7,"\n        "),ae(),re(8,"\n        "),he(9,"atft-box-mesh",3),Ko(10,"deg2rad"),re(11,"\n\n          "),Ot(12,Jve,2,4,"atft-video-mesh",4),re(13,"\n          "),Ot(14,eye,2,5,"atft-box-mesh",5),re(15,"\n\n        "),ae(),re(16,"\n      "),ae(),re(17,"\n\n      "),he(18,"atft-text-mesh",6),re(19,"\n      "),ae(),re(20,"\n      "),Ot(21,tye,2,5,"atft-frame-mesh",7),re(22,"\n    "),ae(),re(23,"\n  ")),2&i&&(et(6),Ge("height",10)("width",10)("depth",.5)("materialColor",r.color)("translateZ",.5),et(3),Ge("height",12.25)("width",21)("depth",1)("materialColor",r.color)("rotateX",Qo(10,21,80))("translateZ",7),et(3),Ge("ngIf",r.videoSrc),et(2),Ge("ngIf",!r.videoSrc),et(4),Ge("text",r.label)("size",2)("bevelEnabled",!1)("height",0)("centered",!0)("translateY",-11)("translateZ",.2),et(3),Ge("ngIf",r.showFrame))},dependencies:[sr,tf,VA,xd,gye,wd,Cd,Km],encapsulation:2})}return n})();class Dye{static modelToGraph(t){const e=new YV.graphlib.Graph({compound:!0,multigraph:!0});return e.setGraph(this.getLayout(t)),e.setDefaultEdgeLabel(function(){return{}}),this.updateGraph(e,t),YV.layout(e),e}static updateBaseInfo(t,e){e&&e.forEach(i=>{t.setNode(i.name,{label:i.label,width:18,height:18}),i.composition&&t.setParent(i.name,i.composition)})}static updateEdges(t,e){e.edges&&e.edges.forEach(i=>{t.setEdge(i.from,i.to,{name:i.name})})}static updateGraph(t,e){this.updateBaseInfo(t,e.compositions),this.updateBaseInfo(t,e.nodes),this.updateEdges(t,e)}static getLayout(t){return t.layout}}const MH="network-simplex";let E0=(()=>{class n extends Qm{constructor(e,i){super(e,i),this.rendererService=e,this.parent=i,this.align="DL",this.rankdir="BT",this.nodesep=15,this.edgesep=1,this.ranksep=15,this.marginx=0,this.marginy=0,this.ranker=MH,this.centered=!0,this.updated=new Mt,this.graphModel={layout:{},nodes:[],edges:[]}}ngAfterViewInit(){super.ngAfterViewInit()}ngAfterContentInit(){this.layout()}layout(){this.graphModel.layout={align:this.align??"DL",rankdir:this.rankdir??"BT",nodesep:this.nodesep??15,edgesep:this.edgesep??1,ranksep:this.ranksep??15,marginx:this.marginx??0,marginy:this.marginy??0,ranker:this.ranker??MH},this.graph=Dye.modelToGraph(this.graphModel),this.graph&&this.syncGraphContainer(this.graph),this.updated.emit(),this.rendererService.render()}syncGraphContainer(e){const i=e.graph().height,r=e.graph().width;this.object&&this.centered&&r&&i&&(this.translateX=-r/2,this.translateY=-i/2,this.applyTranslation())}ngOnChanges(e){if(super.ngOnChanges(e),!this.object)return;let i=!1;["align","rankdir","ranksep","nodesep","edgesep","marginx","marginy","ranker"].some(r=>r in e)&&(this.layout(),i=!0),i&&this.changed.emit()}getGraphModel(){return this.graphModel}refreshLayout(){this.graph&&this.layout()}getGraph(){return this.graph}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-dagre-layout"]],inputs:{align:"align",rankdir:"rankdir",nodesep:"nodesep",edgesep:"edgesep",ranksep:"ranksep",marginx:"marginx",marginy:"marginy",ranker:"ranker",centered:"centered"},outputs:{updated:"updated"},features:[Ut([vi(n)]),He,jn],ngContentSelectors:dr,decls:2,vars:0,template:function(i,r){1&i&&(Sn(),re(0,"\n    "),$t(1))},encapsulation:2})}return n})(),Oye=(()=>{class n extends Qm{constructor(e,i,r){super(e,i),this.rendererService=e,this.parent=i,this.injector=r,this.translateZ=0,this.dagreLayout=this.injector.get(E0),this.dagreLayout||console.warn("DagreNodeComponent.constructor: atft-dagre-layout not found!"),this.syncGraph=this.syncGraph.bind(this),this.graphUpdated=this.dagreLayout.updated.subscribe(this.syncGraph)}ngOnInit(){super.ngOnInit(),this.addNode()}addNode(){this.dagreLayout&&this.dagreLayout.getGraphModel()&&(this.dagreLayout.getChildren().push(this),this.dagreLayout.getGraphModel().nodes?.push({name:this.name,label:this.name,composition:this.composition}),this.dagreLayout.refreshLayout())}ngOnDestroy(){super.ngOnDestroy(),this.removeNode()}removeNode(){this.dagreLayout&&this.dagreLayout.getGraphModel()&&(this.graphUpdated?.unsubscribe(),this.dagreLayout.removeChildByName(this.name),this.dagreLayout.getGraphModel().nodes=this.dagreLayout.getGraphModel().nodes?.filter(e=>e.name!==this.name),this.dagreLayout.refreshLayout())}syncGraphNodes(e){e.nodes().forEach(i=>{if(i===this.name){const r=e.node(i);this.translateX=r.x,this.translateY=r.y,this.applyTranslation()}})}syncGraph(){this.object&&this.syncGraphNodes(this.dagreLayout.getGraph())}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12),D(ri))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-dagre-node"]],viewQuery:function(i,r){if(1&i&&Tn(Wz,7,ji),2&i){let o;Ht(o=Gt())&&(r.container=o.first)}},inputs:{composition:"composition",translateZ:"translateZ"},features:[Ut([vi(n)]),He],ngContentSelectors:dr,decls:3,vars:0,consts:[["container",""]],template:function(i,r){1&i&&(Sn(),wn(0,"template",null,0),$t(2))},encapsulation:2})}return n})();var ao=function(n){return n.none="none",n.circle="circle",n.arrow="arrow",n}(ao||{}),Jm=function(n){return n.sequence="sequence",n.association="association",n.message="message",n.line="line",n}(Jm||{});let Rye=(()=>{class n extends dye{set type(e){switch(e){case Jm.association:this.animated=!1,this.solid=!1,this.startType=ao.none,this.endType=ao.arrow;break;case Jm.message:this.animated=!0,this.solid=!1,this.dashSize=1,this.startType=ao.circle,this.endType=ao.arrow;break;case Jm.line:this.animated=!1,this.solid=!0,this.startType=ao.none,this.endType=ao.none;break;case Jm.sequence:this.animated=!1,this.solid=!0,this.startType=ao.none,this.endType=ao.arrow;break;default:this.animated=!0,this.solid=!1,this.dashSize=4,this.startType=ao.circle,this.endType=ao.arrow}}constructor(e,i,r,o){super(e,i,r),this.rendererService=e,this.parent=i,this.animationService=r,this.injector=o,this.startType=ao.circle,this.endType=ao.arrow,this.dagreLayout=this.injector.get(E0),this.dagreLayout||console.warn("DagreEdgeComponent.constructor: atft-dagre-layout not found!"),this.syncGraph=this.syncGraph.bind(this),this.graphUpdated=this.dagreLayout.updated.subscribe(this.syncGraph)}newObject3DInstance(){const e=super.newObject3DInstance();return this.appendLineEnds(e),e}appendLineEnds(e){const i=new os({color:this.materialColor,opacity:this.opacity,transparent:this.opacity<1,depthWrite:!0}),r=this.getConnectorEndGeometry(this.startType);r&&(this.lineStart=new ei(r,i),e.add(this.lineStart));const o=this.getConnectorEndGeometry(this.endType);o&&(this.lineEnd=new ei(o,i),e.add(this.lineEnd))}getConnectorEndGeometry(e){switch(e){case ao.circle:return new Ty(.7,16);case ao.arrow:const i=new tc;return i.moveTo(0,-.5),i.lineTo(1,2),i.lineTo(0,1.7),i.lineTo(-1,2),new cd(i);default:return}}ngOnInit(){super.ngOnInit(),this.addEdge()}addEdge(){this.dagreLayout&&this.dagreLayout.getGraphModel()&&(this.dagreLayout.getChildren().push(this),this.from&&this.to?this.dagreLayout.getGraphModel().edges?.push({name:this.name,from:this.from,to:this.to}):console.warn("DagreEdgeComponent.addChild: edge source/target is undefined"),this.dagreLayout.refreshLayout())}ngOnDestroy(){super.ngOnDestroy(),this.removeEdge()}removeEdge(){this.dagreLayout&&this.dagreLayout.getGraphModel()&&(this.graphUpdated?.unsubscribe(),this.dagreLayout.removeChildByName(this.name),this.dagreLayout.getGraphModel().edges=this.dagreLayout.getGraphModel().edges?.filter(e=>e.name!==this.name),this.dagreLayout.refreshLayout())}syncGraph(){this.object&&this.syncGraphEdges(this.dagreLayout.getGraph())}syncGraphEdges(e){e.edges().forEach(i=>{const r=e.edge(i);r.name===this.name&&(this.positions=[],r.points.forEach(o=>{!Number.isNaN(o.x)&&!Number.isNaN(o.y)&&this.positions.push(o.x,o.y,.1)}),this.updateEnds(),this.updateLineGeometry())})}updateEnds(){const e=this.positions;e?.length>=9&&(this.updateEnd(this.lineStart,new G(e[3],e[4],e[5]),new G(e[0],e[1],e[2])),this.updateEnd(this.lineEnd,new G(e[e.length-6],e[e.length-5],e[e.length-4]),new G(e[e.length-3],e[e.length-2],e[e.length-1])))}updateEnd(e,i,r){if(e){let s=i.clone().sub(r).angleTo(new G(0,1,0));s=i.x<r.x?s:-s,e.rotation.set(0,0,s),e.position.set(r.x||0,r.y||0,r.z||0)}}getPositions(){return this.positions?this.positions:[0,0,0,0,0,0]}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12),D(yd),D(ri))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-dagre-edge"]],inputs:{from:"from",to:"to",startType:"startType",endType:"endType",type:"type"},features:[Ut([vi(n)]),He],ngContentSelectors:dr,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},encapsulation:2})}return n})(),kye=(()=>{class n extends Qm{set height(e){this._height=e,this.translateLabelY=this._height/2-3,this.cdRef.destroyed||this.cdRef.detectChanges()}get height(){return this._height}constructor(e,i,r,o){super(e,i),this.rendererService=e,this.parent=i,this.injector=r,this.cdRef=o,this.border="plane",this.render=new Mt,this.selected=new Mt,this.deselected=new Mt,this.color="#A0A0A0",this.translateLabelY=0,this.dagreLayout=this.injector.get(E0),this.dagreLayout||console.warn("DagreCompositionComponent.constructor: atft-dagre-layout not found!"),this.syncGraph=this.syncGraph.bind(this),this.graphUpdated=this.dagreLayout.updated.subscribe(this.syncGraph)}onSelected(){this.color="#A4A4A4"}onDeselected(){this.color="#A0A0A0"}onClick(){this.color="#A0A0A0"}ngOnInit(){super.ngOnInit(),this.addNode()}addNode(){this.dagreLayout&&this.dagreLayout.getGraphModel()&&(this.dagreLayout.getChildren().push(this),this.dagreLayout.getGraphModel().nodes?.push({name:this.name,label:this.label,composition:this.composition}),this.dagreLayout.refreshLayout())}ngOnDestroy(){super.ngOnDestroy(),this.removeNode()}removeNode(){this.dagreLayout&&this.dagreLayout.getGraphModel()&&(this.graphUpdated?.unsubscribe(),this.dagreLayout.removeChildByName(this.name),this.dagreLayout.getGraphModel().nodes=this.dagreLayout.getGraphModel().nodes?.filter(e=>e.name!==this.name),this.dagreLayout.refreshLayout())}syncGraphNodes(e){e.nodes().forEach(i=>{if(i===this.name){const r=e.node(i);this.translateX=r.x,this.translateY=r.y,this.applyTranslation(),this.width=r.width,this.height=r.height}})}syncGraph(){this.object&&this.syncGraphNodes(this.dagreLayout.getGraph())}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12),D(ri),D(Ci))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-dagre-composition"]],inputs:{label:"label",border:"border",height:"height",width:"width",composition:"composition"},outputs:{render:"render",selected:"selected",deselected:"deselected"},features:[Ut([vi(n)]),He],decls:5,vars:2,consts:[["atft-raycaster-group","",3,"width","height","materialColor","depthWrite","mouseEnter","mouseExit",4,"ngIf"],["atft-raycaster-group","",3,"sizeX","sizeY","thickness","materialColor","depthWrite","mouseEnter","mouseExit",4,"ngIf"],["atft-raycaster-group","",3,"width","height","materialColor","depthWrite","mouseEnter","mouseExit"],["materialColor","#E0E0E0",3,"centered","text","size","translateY"],["atft-raycaster-group","",3,"sizeX","sizeY","thickness","materialColor","depthWrite","mouseEnter","mouseExit"]],template:function(i,r){1&i&&(re(0,"\n    "),Ot(1,nye,5,8,"atft-plane-mesh",0),re(2,"\n\n    "),Ot(3,iye,5,9,"atft-frame-mesh",1),re(4,"\n\n  ")),2&i&&(et(1),Ge("ngIf","frame"!==r.border),et(2),Ge("ngIf","frame"===r.border))},dependencies:[sr,xd,lH,wd,Cd],encapsulation:2})}return n})(),Lye=(()=>{class n extends nf{set model(e){const i=this.modelService.getSource(e);this.modelPath=i.url}get model(){return this.model}constructor(e,i,r){super(e,i),this.rendererService=e,this.parent=i,this.modelService=r}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12),D(aH))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-model-actor"]],inputs:{model:"model"},features:[Ut([vi(n)]),He],decls:14,vars:9,consts:[["atft-raycaster-group","",3,"mouseEnter","mouseExit","click"],[3,"model",4,"ngIf"],["material","basic","materialColor","#DADADA",3,"text","size","bevelEnabled","height","centered","translateY","translateZ"],["material","basic",3,"thickness","sizeX","sizeY","translateZ","materialColor",4,"ngIf"],[3,"model"],["material","basic",3,"thickness","sizeX","sizeY","translateZ","materialColor"]],template:function(i,r){1&i&&(re(0,"\n    "),he(1,"atft-empty"),re(2,"\n\n      "),he(3,"atft-empty",0),Rt("mouseEnter",function(){return r.onSelected()})("mouseExit",function(){return r.onDeselected()})("click",function(){return r.onClick()}),re(4,"\n        "),Ot(5,rye,2,1,"atft-obj-loader",1),re(6,"\n      "),ae(),re(7,"\n\n      "),he(8,"atft-text-mesh",2),re(9,"\n      "),ae(),re(10,"\n      "),Ot(11,oye,2,5,"atft-frame-mesh",3),re(12,"\n\n    "),ae(),re(13,"\n  ")),2&i&&(et(5),Ge("ngIf",r.modelPath),et(3),Ge("text",r.label)("size",2)("bevelEnabled",!1)("height",0)("centered",!0)("translateY",-11)("translateZ",.2),et(3),Ge("ngIf",r.showFrame))},dependencies:[sr,tf,fye,xd,wd,Cd],encapsulation:2})}return n})(),SH=(()=>{class n{constructor(e){this.resolver=e,this.list=new Map,this.register("stand",Sye),this.register("compact",Eye),this.register("barrel",Mye),this.register("icon",Aye),this.register("workstation",Tye),this.register("model",Lye)}register(e,i){this.defaultId||(this.defaultId=e),this.list.set(e,i)}getComponentFactory(e){const r=this.list.get(e||this.defaultId);if(r)return this.resolver.resolveComponentFactory(r)}static#e=this.\u0275fac=function(i){return new(i||n)(le(Ea))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),Fye=(()=>{class n extends Qm{constructor(e,i,r,o){super(e,i),this.rendererService=e,this.parent=i,this.resolver=r,this.actorRepository=o,this.status=new Mt,this.instances=[]}ngAfterViewInit(){super.ngAfterViewInit(),this.parseAndCreate()}ngOnChanges(e){super.ngOnChanges(e),this.object&&["yaml"].some(i=>i in e)&&this.parseAndCreate()}parseAndCreate(){if(this.yaml)try{this.destroyAll();const e=zve(this.yaml);e&&e.nodes&&e.nodes.length>0&&(e.compositions?.forEach(i=>this.createComposition(i)),e.nodes?.forEach(i=>this.createNode(i)),e.edges?.forEach(i=>this.createEdge(i))),this.status.emit(!0)}catch(e){throw console.warn("DagreYamlParserComponent.parseAndCreate failed",e),this.status.emit(!1),e}}getNodeComponent(e){return this.actorRepository.getComponentFactory(e)}createNode(e){const i=this.resolver.resolveComponentFactory(Oye),r=this.container.createComponent(i);r.instance.name=e.name,r.instance.composition=e.composition,this.instances.push(r);const s=this.getNodeComponent(e.model?"model":e.type),a=r.instance.container.createComponent(s);a.instance.name=e.name,a.instance.label=e.label?e.label:e.name,a.instance.icon=e.icon,a.instance.model=e.model,this.instances.push(a)}createEdge(e){const i=this.resolver.resolveComponentFactory(Rye),r=this.container.createComponent(i);r.instance.from=e.from,r.instance.to=e.to,e.type&&(r.instance.type=e.type),e.color&&(r.instance.materialColor=e.color),this.instances.push(r)}destroyAll(){this.instances.forEach(e=>{e.destroy()}),this.instances=[]}createComposition(e){const i=this.resolver.resolveComponentFactory(kye),r=this.container.createComponent(i);r.instance.name=e.name,r.instance.label=e.label?e.label:e.name,r.instance.composition=e.composition,r.instance.border=e.border,this.instances.push(r)}static#e=this.\u0275fac=function(i){return new(i||n)(D(ii),D(ti,12),D(Ea),D(SH))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["atft-dagre-yaml-parser"]],viewQuery:function(i,r){if(1&i&&Tn(Wz,5,ji),2&i){let o;Ht(o=Gt())&&(r.container=o.first)}},inputs:{yaml:"yaml"},outputs:{status:"status"},features:[Ut([vi(n)]),He,jn],decls:3,vars:0,consts:[["container",""]],template:function(i,r){1&i&&(re(0,"\n    "),wn(1,"template",null,0))},encapsulation:2})}return n})(),Nye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[SH],imports:[si,vH]})}return n})();const Bye=new qe("MAT_PROGRESS_BAR_DEFAULT_OPTIONS"),Vye=tm(class{constructor(n){this._elementRef=n}},"primary");let HA=(()=>{class n extends Vye{constructor(e,i,r,o,s){super(e),this._ngZone=i,this._changeDetectorRef=r,this._animationMode=o,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new Mt,this._mode="determinate",this._transitionendHandler=a=>{0===this.animationEnd.observers.length||!a.target||!a.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===o,s&&(s.color&&(this.color=this.defaultColor=s.color),this.mode=s.mode||this.mode)}get value(){return this._value}set value(e){this._value=EH(Sr(e)),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=EH(Sr(e)),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(It),D(Ci),D(Gi,8),D(Bye,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:8,hostBindings:function(i,r){2&i&&(Wn("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),Cn("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[He],decls:7,vars:4,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){1&i&&(he(0,"div",0),wn(1,"div",1)(2,"div",2),ae(),he(3,"div",3),wn(4,"span",4),ae(),he(5,"div",5),wn(6,"span",4),ae()),2&i&&(et(1),pl("flex-basis",r._getBufferBarFlexBasis()),et(2),pl("transform",r._getPrimaryBarTransform()))},styles:["@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half))}100%{transform:translateX(var(--mdc-linear-progress-primary-full))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(var(--mdc-linear-progress-primary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-primary-full-neg))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg))}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(var(--mdc-linear-progress-secondary-half-neg))}100%{transform:translateX(var(--mdc-linear-progress-secondary-full-neg))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}@media screen and (forced-colors: active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots,.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}.mdc-linear-progress__bar-inner{border-color:var(--mdc-linear-progress-active-indicator-color)}@media(forced-colors: active){.mdc-linear-progress__buffer-dots{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-color:rgba(0,0,0,0);background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill=''/%3E%3C/svg%3E\")}}.mdc-linear-progress{height:max(var(--mdc-linear-progress-track-height), var(--mdc-linear-progress-active-indicator-height))}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress{height:4px}}.mdc-linear-progress__bar{height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__bar-inner{border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{height:var(--mdc-linear-progress-track-height)}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mdc-linear-progress__buffer-dots{background-size:10px var(--mdc-linear-progress-track-height)}}.mdc-linear-progress__buffer{border-radius:var(--mdc-linear-progress-track-shape)}.mat-mdc-progress-bar{--mdc-linear-progress-active-indicator-height:4px;--mdc-linear-progress-track-height:4px;--mdc-linear-progress-track-shape:0}.mat-mdc-progress-bar{display:block;text-align:left;--mdc-linear-progress-primary-half: 83.67142%;--mdc-linear-progress-primary-full: 200.611057%;--mdc-linear-progress-secondary-quarter: 37.651913%;--mdc-linear-progress-secondary-half: 84.386165%;--mdc-linear-progress-secondary-full: 160.277782%;--mdc-linear-progress-primary-half-neg: -83.67142%;--mdc-linear-progress-primary-full-neg: -200.611057%;--mdc-linear-progress-secondary-quarter-neg: -37.651913%;--mdc-linear-progress-secondary-half-neg: -84.386165%;--mdc-linear-progress-secondary-full-neg: -160.277782%}[dir=rtl] .mat-mdc-progress-bar{text-align:right}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}"],encapsulation:2,changeDetection:0})}return n})();function EH(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let AH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[Vn]})}return n})();class GA{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class rf extends GA{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class sf extends GA{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Hye extends GA{constructor(t){super(),this.element=t instanceof vt?t.nativeElement:t}}class A0{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof rf?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof sf?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Hye?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Gye extends A0{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||ri.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let jye=(()=>{class n extends sf{constructor(e,i){super(e,i)}static#e=this.\u0275fac=function(i){return new(i||n)(D(Cr),D(ji))};static#t=this.\u0275dir=De({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[He]})}return n})(),el=(()=>{class n extends A0{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Mt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(D(Ea),D(ji),D(Zt))};static#t=this.\u0275dir=De({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[He]})}return n})(),af=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({})}return n})();const TH=j5();class Wye{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=qi(-this._previousScrollPosition.left),t.style.top=qi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),TH&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),TH&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class $ye{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(qn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class DH{enable(){}disable(){}attach(){}}function jA(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function IH(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Yye{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();jA(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Xye=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new DH,this.close=s=>new $ye(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Wye(this._viewportRuler,this._document),this.reposition=s=>new Yye(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(le(Sv),le(zl),le(It),le(Zt))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class T0{constructor(t){if(this.scrollStrategy=new DH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class qye{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let PH=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(le(Zt))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zye=(()=>{class n extends PH{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(le(Zt),le(It,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kye=(()=>{class n extends PH{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Lc(o)},this._clickListener=o=>{const s=Lc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(o)):u.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(le(Zt),le(hi),le(It,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),D0=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||OS()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),OS()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(le(Zt),le(hi))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class eg{constructor(t,e,i,r,o,s,a,c,l,d=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new Et,this._attachments=new Et,this._detachments=new Et,this._locationChanges=w.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new Et,this._outsidePointerEvents=new Et,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Xi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=qi(this._config.width),t.height=qi(this._config.height),t.minWidth=qi(this._config.minWidth),t.minHeight=qi(this._config.minHeight),t.maxWidth=qi(this._config.maxWidth),t.maxHeight=qi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=qb(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(cn(So(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const OH="cdk-overlay-connected-position-bounding-box",Qye=/([A-Za-z%]+)$/;class Jye{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Et,this._resizeSubscription=w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(OH),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),l=this._getOverlayPoint(c,e,a),d=this._getOverlayFit(l,e,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(d,l,i)?o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Md(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(OH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=kH(e);let{x:s,y:a}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let h=0-a,f=a+o.height-i.height,m=this._subtractOverflows(o.width,0-s,s+o.width-i.width),v=this._subtractOverflows(o.height,h,f),g=m*v;return{visibleArea:g,isCompletelyWithinViewport:o.width*o.height===g,fitsInViewportVertically:v===o.height,fitsInViewportHorizontally:m==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=RH(this._overlayRef.getConfig().minHeight),a=RH(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=kH(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-i.top-t.y,0),l=Math.max(o.left-i.left-t.x,0);let d=0,u=0;return d=r.width<=o.width?l||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,u=r.height<=o.height?c||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new qye(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,d,u,h;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-t.y+i.top,t.y),m=this._lastBoundingBoxSize.height;o=2*f,s=t.y-f,o>m&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-m/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)h=i.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)u=t.x,d=i.right-t.x;else{const f=Math.min(i.right-t.x+i.left,t.x),m=this._lastBoundingBoxSize.width;d=2*f,u=t.x-f,d>m&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-m/2)}return{top:s,left:u,bottom:a,right:h,width:d,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=qi(i.height),r.top=qi(i.top),r.bottom=qi(i.bottom),r.width=qi(i.width),r.left=qi(i.left),r.right=qi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=qi(o)),s&&(r.maxWidth=qi(s))}this._lastBoundingBoxSize=i,Md(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Md(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Md(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();Md(i,this._getExactOverlayY(e,t,d)),Md(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=qi(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=qi(s.maxWidth):o&&(i.maxWidth="")),Md(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=qi(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=qi(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:IH(t,i),isOriginOutsideView:jA(t,i),isOverlayClipped:IH(e,i),isOverlayOutsideView:jA(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&qb(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof vt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Md(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function RH(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Qye);return e&&"px"!==e?null:parseFloat(t)}return n||null}function kH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const LH="cdk-global-overlay-wrapper";class e0e{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(LH),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,u=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",m="",v="";c?v="flex-start":"center"===d?(v="center",h?m=u:f=u):h?"left"===d||"end"===d?(v="flex-end",f=u):("right"===d||"start"===d)&&(v="flex-start",m=u):"left"===d||"start"===d?(v="flex-start",f=u):("right"===d||"end"===d)&&(v="flex-end",m=u),t.position=this._cssPosition,t.marginLeft=c?"0":f,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":m,e.justifyContent=v,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(LH),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let t0e=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new e0e}flexibleConnectedTo(e){return new Jye(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(le(zl),le(Zt),le(hi),le(D0))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),n0e=0,ps=(()=>{class n{constructor(e,i,r,o,s,a,c,l,d,u,h,f){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=u,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new T0(e);return s.direction=s.direction||this._directionality.value,new eg(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+n0e++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Cc)),new Gye(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(le(Xye),le(D0),le(Ea),le(t0e),le(Zye),le(ri),le(It),le(Zt),le(Er),le(pp),le(Kye),le(Gi,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const i0e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],FH=new qe("cdk-connected-overlay-scroll-strategy");let WA=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt))};static#t=this.\u0275dir=De({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),NH=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=hn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=hn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=hn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=hn(e)}get push(){return this._push}set push(e){this._push=hn(e)}constructor(e,i,r,o,s){this._overlay=e,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=w.EMPTY,this._attachSubscription=w.EMPTY,this._detachSubscription=w.EMPTY,this._positionSubscription=w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new Mt,this.positionChange=new Mt,this.attach=new Mt,this.detach=new Mt,this.overlayKeydown=new Mt,this.overlayOutsideClick=new Mt,this._templatePortal=new sf(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=i0e);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!ia(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new T0({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof WA?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function zye(n,t=!1){return Le((e,i)=>{let r=0;e.subscribe(Ze(i,o=>{const s=n(o,r++);(s||t)&&i.next(o),!s&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(D(ps),D(Cr),D(ji),D(FH),D(Er,8))};static#t=this.\u0275dir=De({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[jn]})}return n})();const o0e={provide:FH,deps:[ps],useFactory:function r0e(n){return()=>n.scrollStrategies.reposition()}};let tg=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[ps,o0e],imports:[qu,af,fB,fB]})}return n})();function s0e(n,t){}class I0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let BH=(()=>{class n extends A0{constructor(e,i,r,o,s,a,c,l){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const u=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),u},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=PS(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=PS();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=PS())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(ov),D(Zt,8),D(I0),D(em),D(It),D(eg),D(Nl))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&Tn(el,7),2&i){let o;Ht(o=Gt())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Wn("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},features:[He],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&Ot(0,s0e,0,0,"ng-template",0)},dependencies:[el],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class $A{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Et,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!ia(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const UH=new qe("DialogScrollStrategy"),a0e=new qe("DialogData"),c0e=new qe("DefaultDialogConfig"),d0e={provide:UH,deps:[ps],useFactory:function l0e(n){return()=>n.scrollStrategies.block()}};let u0e=0,VH=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,s,a){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Et,this._afterOpenedAtThisLevel=new Et,this._ariaHiddenElements=new Map,this.afterAllClosed=Pp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(As(void 0))),this._scrollStrategy=a}open(e,i){(i={...this._defaultOptions||new I0,...i}).id=i.id||"cdk-dialog-"+u0e++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new $A(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(e,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){YA(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){YA(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),YA(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new T0({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:I0,useValue:r},{provide:$A,useValue:i},{provide:eg,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=BH;const c=new rf(a,r.viewContainerRef,ri.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,i,r,o){if(e instanceof Cr){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new sf(e,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new rf(e,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,r,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:a0e,useValue:e.data},{provide:$A,useValue:i}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(i,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(Er,null,{optional:!0}))&&a.push({provide:Er,useValue:{value:e.direction,change:Wt()}}),ri.create({parent:s||o,providers:a})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(le(ps),le(ri),le(c0e,8),le(n,12),le(D0),le(UH))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();function YA(n,t){let e=n.length;for(;e--;)t(n[e])}let h0e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[VH,d0e],imports:[tg,af,YS,af]})}return n})();function f0e(n,t){}class P0{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const XA="mdc-dialog--open",zH="mdc-dialog--opening",HH="mdc-dialog--closing";let g0e=(()=>{class n extends BH{constructor(e,i,r,o,s,a,c,l){super(e,i,r,o,s,a,c,l),this._animationStateChanged=new Mt}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(ov),D(Zt,8),D(P0),D(em),D(It),D(eg),D(Nl))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["ng-component"]],features:[He],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();const GH="--mat-dialog-transition-duration";function jH(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?Sr(n.substring(0,n.length-2)):n.endsWith("s")?1e3*Sr(n.substring(0,n.length-1)):"0"===n?0:null}let _0e=(()=>{class n extends g0e{constructor(e,i,r,o,s,a,c,l,d){super(e,i,r,o,s,a,c,d),this._animationMode=l,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?jH(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?jH(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(GH,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(zH,XA)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(XA),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(XA),this._animationsEnabled?(this._hostElement.style.setProperty(GH,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(HH)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(zH,HH)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(ov),D(Zt,8),D(P0),D(em),D(It),D(eg),D(Gi,8),D(Nl))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(i,r){2&i&&(xc("id",r._config.id),Wn("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),Cn("_mat-animation-noopable",!r._animationsEnabled))},features:[He],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(he(0,"div",0)(1,"div",1),Ot(2,f0e,0,0,"ng-template",2),ae()())},dependencies:[el],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{--mdc-dialog-container-elevation-shadow:0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);--mdc-dialog-container-shadow-color:#000;--mdc-dialog-container-shape:4px;--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();class cf{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Et,this._beforeClosed=new Et,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(qn(r=>"opened"===r.state),Xi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(qn(r=>"closed"===r.state),Xi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),So(this.backdropClick(),this.keydownEvents().pipe(qn(r=>27===r.keyCode&&!this.disableClose&&!ia(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),WH(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(qn(e=>"closing"===e.state),Xi(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function WH(n,t,e){return n._closeInteractionType=t,n.close(e)}const O0=new qe("MatMdcDialogData"),b0e=new qe("mat-mdc-dialog-default-options"),$H=new qe("mat-mdc-dialog-scroll-strategy"),y0e={provide:$H,deps:[ps],useFactory:function v0e(n){return()=>n.scrollStrategies.block()}};let x0e=0,w0e=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,s,a,c,l,d,u){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=c,this._dialogContainerType=l,this._dialogDataToken=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Et,this._afterOpenedAtThisLevel=new Et,this._idPrefix="mat-dialog-",this.dialogConfigClass=P0,this.afterAllClosed=Pp(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(As(void 0))),this._scrollStrategy=a,this._dialog=i.get(VH)}open(e,i){let r;(i={...this._defaultOptions||new P0,...i}).id=i.id||`${this._idPrefix}${x0e++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:I0,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static#e=this.\u0275fac=function(i){cu()};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),lf=(()=>{class n extends w0e{constructor(e,i,r,o,s,a,c,l){super(e,i,o,a,c,s,cf,_0e,O0,l),this._idPrefix="mat-mdc-dialog-"}static#e=this.\u0275fac=function(i){return new(i||n)(le(ps),le(ri),le(pp,8),le(b0e,8),le($H),le(n,12),le(D0),le(Gi,8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),C0e=0,qA=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=YH(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){WH(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(i){return new(i||n)(D(cf,8),D(vt),D(lf))};static#t=this.\u0275dir=De({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){1&i&&Rt("click",function(s){return r._onButtonClick(s)}),2&i&&Wn("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[jn]})}return n})(),ZA=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+C0e++}ngOnInit(){this._dialogRef||(this._dialogRef=YH(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._dialogRef._containerInstance?._ariaLabelledByQueue?.push(this.id)})}ngOnDestroy(){const e=this._dialogRef?._containerInstance?._ariaLabelledByQueue;e&&Promise.resolve().then(()=>{const i=e.indexOf(this.id);i>-1&&e.splice(i,1)})}static#e=this.\u0275fac=function(i){return new(i||n)(D(cf,8),D(vt),D(lf))};static#t=this.\u0275dir=De({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&xc("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]})}return n})(),KA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]})}return n})(),QA=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(i,r){2&i&&Cn("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"}})}return n})();function YH(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let JA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[lf,y0e],imports:[h0e,tg,af,Vn,Vn]})}return n})();const M0e=["tooltip"],qH=new qe("mat-tooltip-scroll-strategy"),A0e={provide:qH,deps:[ps],useFactory:function E0e(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},D0e=new qe("mat-tooltip-default-options",{providedIn:"root",factory:function T0e(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),ZH="tooltip-panel",KH=kl({passive:!0});let L0e=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=hn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=hn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Sr(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Sr(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,s,a,c,l,d,u,h,f){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=c,this._focusMonitor=l,this._dir=u,this._defaultOptions=h,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Et,this._scrollStrategy=d,this._document=f,h&&(this._showDelay=h.showDelay,this._hideDelay=h.hideDelay,h.position&&(this.position=h.position),h.positionAtOrigin&&(this.positionAtOrigin=h.positionAtOrigin),h.touchGestures&&(this.touchGestures=h.touchGestures)),u.change.pipe(cn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(cn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,KH)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new rf(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(cn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof vt)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(cn(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${ZH}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(cn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(cn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(cn(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!ia(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Xi(1),cn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const c=`${this._cssClassPrefix}-${ZH}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,KH)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){cu()};static#t=this.\u0275dir=De({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return n})(),QH=(()=>{class n extends L0e{constructor(e,i,r,o,s,a,c,l,d,u,h,f){super(e,i,r,o,s,a,c,l,d,u,h,f),this._tooltipComponent=N0e,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}static#e=this.\u0275fac=function(i){return new(i||n)(D(ps),D(vt),D(Sv),D(ji),D(It),D(hi),D(Cae),D(Nl),D(qH),D(Er,8),D(D0e,8),D(Zt))};static#t=this.\u0275dir=De({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[He]})}return n})(),F0e=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Et,this._animationsDisabled="NoopAnimations"===i}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static#e=this.\u0275fac=function(i){return new(i||n)(D(Ci),D(Gi,8))};static#t=this.\u0275dir=De({type:n})}return n})(),N0e=(()=>{class n extends F0e{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}static#e=this.\u0275fac=function(i){return new(i||n)(D(Ci),D(vt),D(Gi,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&Tn(M0e,7),2&i){let o;Ht(o=Gt())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&Rt("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&pl("zoom",r.isVisible()?1:null)},features:[He],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){1&i&&(he(0,"div",0,1),Rt("animationend",function(s){return r._handleAnimationEnd(s)}),he(2,"div",2),re(3),ae()()),2&i&&(Cn("mdc-tooltip--multiline",r._isMultiline),Ge("ngClass",r.tooltipClass),et(3),Zo(r.message))},dependencies:[Tu],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),B0e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[A0e],imports:[YS,si,tg,Vn,Vn,eh]})}return n})();function U0e(n,t){}const V0e=function(n){return{animationDuration:n}},z0e=function(n,t){return{value:n,params:t}};function H0e(n,t){1&n&&$t(0)}const JH=["*"],G0e=["tabListContainer"],j0e=["tabList"],W0e=["tabListInner"],$0e=["nextPaginator"],Y0e=["previousPaginator"],X0e=["tabBodyWrapper"],q0e=["tabHeader"];function Z0e(n,t){}function K0e(n,t){1&n&&Ot(0,Z0e,0,0,"ng-template",14),2&n&&Ge("cdkPortalOutlet",zt().$implicit.templateLabel)}function Q0e(n,t){1&n&&re(0),2&n&&Zo(zt().$implicit.textLabel)}function J0e(n,t){if(1&n){const e=qo();he(0,"div",6,7),Rt("click",function(){const r=zi(e),o=r.$implicit,s=r.index,a=zt(),c=ys(1);return Hi(a._handleClick(o,c,s))})("cdkFocusChange",function(r){const s=zi(e).index;return Hi(zt()._tabFocusChanged(r,s))}),wn(2,"span",8)(3,"div",9),he(4,"span",10)(5,"span",11),Ot(6,K0e,1,1,"ng-template",12),Ot(7,Q0e,1,1,"ng-template",null,13,hC),ae()()()}if(2&n){const e=t.$implicit,i=t.index,r=ys(1),o=ys(8),s=zt();Cn("mdc-tab--active",s.selectedIndex===i),Ge("id",s._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("fitInkBarToContent",s.fitInkBarToContent),Wn("tabIndex",s._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(i))("aria-selected",s.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),et(3),Ge("matRippleTrigger",r)("matRippleDisabled",e.disabled||s.disableRipple),et(3),Ge("ngIf",e.templateLabel)("ngIfElse",o)}}function exe(n,t){if(1&n){const e=qo();he(0,"mat-tab-body",15),Rt("_onCentered",function(){return zi(e),Hi(zt()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return zi(e),Hi(zt()._setTabBodyWrapperHeight(r))}),ae()}if(2&n){const e=t.$implicit,i=t.index,r=zt();Cn("mat-mdc-tab-body-active",r.selectedIndex===i),Ge("id",r._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),Wn("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))("aria-hidden",r.selectedIndex!==i)}}const txe={translateTab:Ss("translateTab",[Mr("center, void, left-origin-center, right-origin-center",Nn({transform:"none"})),Mr("left",Nn({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Mr("right",Nn({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Yi("* => left, * => right, left => center, right => center",$i("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Yi("void => left-origin-center",[Nn({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),$i("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Yi("void => right-origin-center",[Nn({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),$i("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let nxe=(()=>{class n extends el{constructor(e,i,r,o){super(e,i,o),this._host=r,this._centeringSub=w.EMPTY,this._leavingSub=w.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(As(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(D(Ea),D(ji),D(Kn(()=>e8)),D(Zt))};static#t=this.\u0275dir=De({type:n,selectors:[["","matTabBodyHost",""]],features:[He]})}return n})(),ixe=(()=>{class n{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=w.EMPTY,this._translateTabComplete=new Et,this._onCentering=new Mt,this._beforeCentering=new Mt,this._afterLeavingCenter=new Mt,this._onCentered=new Mt(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(pf((o,s)=>o.fromState===s.fromState&&o.toState===s.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(Er,8),D(Ci))};static#t=this.\u0275dir=De({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}})}return n})(),e8=(()=>{class n extends ixe{constructor(e,i,r){super(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(Er,8),D(Ci))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-tab-body"]],viewQuery:function(i,r){if(1&i&&Tn(el,5),2&i){let o;Ht(o=Gt())&&(r._portalHost=o.first)}},hostAttrs:[1,"mat-mdc-tab-body"],features:[He],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-mdc-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(i,r){1&i&&(he(0,"div",0,1),Rt("@translateTab.start",function(s){return r._onTranslateTabStarted(s)})("@translateTab.done",function(s){return r._translateTabComplete.next(s)}),Ot(2,U0e,0,0,"ng-template",2),ae()),2&i&&Ge("@translateTab",KO(3,z0e,r._position,function ZO(n,t,e,i){return QO(Je(),qr(),n,t,e,i)}(1,V0e,r.animationDuration)))},dependencies:[nxe],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[txe.translateTab]}})}return n})();const rxe=new qe("MatTabContent");let t8=(()=>{class n{constructor(e){this.template=e}static#e=this.\u0275fac=function(i){return new(i||n)(D(Cr))};static#t=this.\u0275dir=De({type:n,selectors:[["","matTabContent",""]],features:[Ut([{provide:rxe,useExisting:n}])]})}return n})();const oxe=new qe("MatTabLabel"),n8=new qe("MAT_TAB");let sxe=(()=>{class n extends jye{constructor(e,i,r){super(e,i),this._closestTab=r}static#e=this.\u0275fac=function(i){return new(i||n)(D(Cr),D(ji),D(n8,8))};static#t=this.\u0275dir=De({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Ut([{provide:oxe,useExisting:n}]),He]})}return n})();const eT="mdc-tab-indicator--active",i8="mdc-tab-indicator--no-transition";class axe{constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar())}alignToElement(t){const e=this._items.find(r=>r.elementRef.nativeElement===t),i=this._currentItem;if(e!==i&&(i?.deactivateInkBar(),e)){const r=i?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}}function cxe(n){return class extends n{constructor(...t){super(...t),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(t){const e=hn(t);this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(t){const e=this.elementRef.nativeElement;if(!t||!e.getBoundingClientRect||!this._inkBarContentElement)return void e.classList.add(eT);const i=e.getBoundingClientRect(),r=t.width/i.width,o=t.left-i.left;e.classList.add(i8),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${r})`),e.getBoundingClientRect(),e.classList.remove(i8),e.classList.add(eT),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this.elementRef.nativeElement.classList.remove(eT)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const t=this.elementRef.nativeElement.ownerDocument||document;this._inkBarElement=t.createElement("span"),this._inkBarContentElement=t.createElement("span"),this._inkBarElement.className="mdc-tab-indicator",this._inkBarContentElement.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",this._inkBarElement.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this.elementRef.nativeElement.querySelector(".mdc-tab__content"):this.elementRef.nativeElement).appendChild(this._inkBarElement)}}}const dxe=av(class{}),uxe=cxe((()=>{class n extends dxe{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt))};static#t=this.\u0275dir=De({type:n,features:[He]})}return n})());let r8=(()=>{class n extends uxe{static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275dir=De({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,r){2&i&&(Wn("aria-disabled",!!r.disabled),Cn("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:"disabled",fitInkBarToContent:"fitInkBarToContent"},features:[He]})}return n})();const hxe=av(class{}),o8=new qe("MAT_TAB_GROUP");let fxe=(()=>{class n extends hxe{get content(){return this._contentPortal}constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new Et,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new sf(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static#e=this.\u0275fac=function(i){return new(i||n)(D(ji),D(o8,8))};static#t=this.\u0275dir=De({type:n,viewQuery:function(i,r){if(1&i&&Tn(Cr,7),2&i){let o;Ht(o=Gt())&&(r._implicitContent=o.first)}},inputs:{textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},features:[He,jn]})}return n})(),s8=(()=>{class n extends fxe{constructor(){super(...arguments),this._explicitContent=void 0}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-tab"]],contentQueries:function(i,r,o){if(1&i&&(Ti(o,t8,7,Cr),Ti(o,sxe,5)),2&i){let s;Ht(s=Gt())&&(r._explicitContent=s.first),Ht(s=Gt())&&(r.templateLabel=s.first)}},inputs:{disabled:"disabled"},exportAs:["matTab"],features:[Ut([{provide:n8,useExisting:n}]),He],ngContentSelectors:JH,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),Ot(0,H0e,1,0,"ng-template"))},encapsulation:2})}return n})();const a8=kl({passive:!0});let gxe=(()=>{class n{get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=hn(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Sr(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}constructor(e,i,r,o,s,a,c){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=o,this._ngZone=s,this._platform=a,this._animationMode=c,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Et,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Et,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Mt,this.indexFocused=new Mt,s.runOutsideAngular(()=>{Ua(e.nativeElement,"mouseleave").pipe(cn(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){Ua(this._previousPaginator.nativeElement,"touchstart",a8).pipe(cn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Ua(this._nextPaginator.nativeElement,"touchstart",a8).pipe(cn(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Wt("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Sae(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Xi(1)).subscribe(r),So(e,i,this._items.changes,this._itemsResized()).pipe(cn(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?Ho:this._items.changes.pipe(As(this._items),ho(e=>new Jt(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(o=>i.next(o));return e.forEach(o=>r.observe(o.elementRef.nativeElement)),()=>{r.disconnect()}}))),US(1),qn(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!ia(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=i.elementRef.nativeElement;let a,c;"ltr"==this._getLayoutDirection()?(a=o,c=a+s):(c=this._tabListInner.nativeElement.offsetWidth-o,a=c-s);const l=this.scrollDistance,d=this.scrollDistance+r;a<l?this.scrollDistance-=l-a:c>d&&(this.scrollDistance+=Math.min(c-d,a-l))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),lB(650,100).pipe(cn(So(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(Ci),D(zl),D(Er,8),D(It),D(hi),D(Gi,8))};static#t=this.\u0275dir=De({type:n,inputs:{disablePagination:"disablePagination"}})}return n})(),_xe=(()=>{class n extends gxe{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=hn(e)}constructor(e,i,r,o,s,a,c){super(e,i,r,o,s,a,c),this._disableRipple=!1}_itemSelected(e){e.preventDefault()}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(Ci),D(zl),D(Er,8),D(It),D(hi),D(Gi,8))};static#t=this.\u0275dir=De({type:n,inputs:{disableRipple:"disableRipple"},features:[He]})}return n})(),bxe=(()=>{class n extends _xe{constructor(e,i,r,o,s,a,c){super(e,i,r,o,s,a,c)}ngAfterContentInit(){this._inkBar=new axe(this._items),super.ngAfterContentInit()}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(Ci),D(zl),D(Er,8),D(It),D(hi),D(Gi,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-tab-header"]],contentQueries:function(i,r,o){if(1&i&&Ti(o,r8,4),2&i){let s;Ht(s=Gt())&&(r._items=s)}},viewQuery:function(i,r){if(1&i&&(Tn(G0e,7),Tn(j0e,7),Tn(W0e,7),Tn($0e,5),Tn(Y0e,5)),2&i){let o;Ht(o=Gt())&&(r._tabListContainer=o.first),Ht(o=Gt())&&(r._tabList=o.first),Ht(o=Gt())&&(r._tabListInner=o.first),Ht(o=Gt())&&(r._nextPaginator=o.first),Ht(o=Gt())&&(r._previousPaginator=o.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,r){2&i&&Cn("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[He],ngContentSelectors:JH,decls:13,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-mdc-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(i,r){1&i&&(Sn(),he(0,"button",0,1),Rt("click",function(){return r._handlePaginatorClick("before")})("mousedown",function(s){return r._handlePaginatorPress("before",s)})("touchend",function(){return r._stopInterval()}),wn(2,"div",2),ae(),he(3,"div",3,4),Rt("keydown",function(s){return r._handleKeydown(s)}),he(5,"div",5,6),Rt("cdkObserveContent",function(){return r._onContentChanges()}),he(7,"div",7,8),$t(9),ae()()(),he(10,"button",9,10),Rt("mousedown",function(s){return r._handlePaginatorPress("after",s)})("click",function(){return r._handlePaginatorClick("after")})("touchend",function(){return r._stopInterval()}),wn(12,"div",2),ae()),2&i&&(Cn("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),Ge("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),et(3),Cn("_mat-animation-noopable","NoopAnimations"===r._animationMode),et(7),Cn("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),Ge("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[lv,bae],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0;--mdc-tab-indicator-active-indicator-height:2px;--mdc-tab-indicator-active-indicator-shape:0;--mdc-secondary-navigation-tab-container-height:48px}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}return n})();const c8=new qe("MAT_TABS_CONFIG");let vxe=0;const yxe=tm(XS(class{constructor(n){this._elementRef=n}}),"primary");let xxe=(()=>{class n extends yxe{get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=hn(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Sr(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=Sr(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=hn(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=hn(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,i,r,o){super(e),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new _l,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=w.EMPTY,this._tabLabelSubscription=w.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new Mt,this.focusChange=new Mt,this.animationDone=new Mt,this.selectedTabChange=new Mt(!0),this._groupId=vxe++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=r?.contentTabIndex??null,this.preserveContent=!!r?.preserveContent}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(As(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new Cxe;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=So(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){i.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(Ci),D(c8,8),D(Gi,8))};static#t=this.\u0275dir=De({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[He]})}return n})(),wxe=(()=>{class n extends xxe{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=hn(e),this._changeDetectorRef.markForCheck()}get stretchTabs(){return this._stretchTabs}set stretchTabs(e){this._stretchTabs=hn(e)}constructor(e,i,r,o){super(e,i,r,o),this._fitInkBarToContent=!1,this._stretchTabs=!0,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent,this.stretchTabs=!r||null==r.stretchTabs||r.stretchTabs}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(Ci),D(c8,8),D(Gi,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-tab-group"]],contentQueries:function(i,r,o){if(1&i&&Ti(o,s8,5),2&i){let s;Ht(s=Gt())&&(r._allTabs=s)}},viewQuery:function(i,r){if(1&i&&(Tn(X0e,5),Tn(q0e,5)),2&i){let o;Ht(o=Gt())&&(r._tabBodyWrapper=o.first),Ht(o=Gt())&&(r._tabHeader=o.first)}},hostAttrs:["ngSkipHydration","",1,"mat-mdc-tab-group"],hostVars:8,hostBindings:function(i,r){2&i&&(pl("--mat-tab-animation-duration",r.animationDuration),Cn("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",disableRipple:"disableRipple",fitInkBarToContent:"fitInkBarToContent",stretchTabs:["mat-stretch-tabs","stretchTabs"]},exportAs:["matTabGroup"],features:[Ut([{provide:o8,useExisting:n}]),He],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mdc-tab mat-mdc-tab mat-mdc-focus-indicator","role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",3,"id","mdc-tab--active","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-mdc-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-mdc-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","ngClass","disabled","fitInkBarToContent","click","cdkFocusChange"],["tabNode",""],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(i,r){1&i&&(he(0,"mat-tab-header",0,1),Rt("indexFocused",function(s){return r._focusChanged(s)})("selectFocusedIndex",function(s){return r.selectedIndex=s}),Ot(2,J0e,9,17,"div",2),ae(),he(3,"div",3,4),Ot(5,exe,1,12,"mat-tab-body",5),ae()),2&i&&(Ge("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),et(2),Ge("ngForOf",r._tabs),et(1),Cn("_mat-animation-noopable","NoopAnimations"===r._animationMode),et(2),Ge("ngForOf",r._tabs))},dependencies:[Tu,Du,sr,el,lv,Wae,e8,r8,bxe],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return n})();class Cxe{}let Mxe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[si,Vn,af,qS,VS,YS,Vn]})}return n})();class Sxe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Et,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(o=>this._markSelected(o)),e.filter(o=>!i.has(o)).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t){if(this.compareWith){for(let e of this._selection)if(this.compareWith(t,e))return e;return t}return t}}const Exe=["trigger"],Axe=["panel"];function Txe(n,t){if(1&n&&(he(0,"span",10),re(1),ae()),2&n){const e=zt();et(1),Zo(e.placeholder)}}function Dxe(n,t){if(1&n&&(he(0,"span",14),re(1),ae()),2&n){const e=zt(2);et(1),Zo(e.triggerValue)}}function Ixe(n,t){1&n&&$t(0,0,["*ngSwitchCase","true"])}function Pxe(n,t){1&n&&(he(0,"span",11),Ot(1,Dxe,2,1,"span",12),Ot(2,Ixe,1,0,"ng-content",13),ae()),2&n&&(Ge("ngSwitch",!!zt().customTrigger),et(2),Ge("ngSwitchCase",!0))}function Oxe(n,t){if(1&n){const e=qo();yx(),function LD(){!function D6(){tn.lFrame.currentNamespace=null}()}(),he(0,"div",15,16),Rt("@transformPanel.done",function(r){return zi(e),Hi(zt()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return zi(e),Hi(zt()._handleKeydown(r))}),$t(2,1),ae()}if(2&n){const e=zt();nO("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),Ge("ngClass",e.panelClass)("@transformPanel","showing"),Wn("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Rxe=[[["mat-select-trigger"]],"*"],kxe=["mat-select-trigger","*"],Lxe={transformPanelWrap:Ss("transformPanelWrap",[Yi("* => void",AM("@transformPanel",[EM()],{optional:!0}))]),transformPanel:Ss("transformPanel",[Mr("void",Nn({opacity:0,transform:"scale(1, 0.8)"})),Yi("void => showing",$i("120ms cubic-bezier(0, 0, 0.2, 1)",Nn({opacity:1,transform:"scale(1, 1)"}))),Yi("* => void",$i("100ms linear",Nn({opacity:0})))])};let l8=0;const d8=new qe("mat-select-scroll-strategy"),Nxe=new qe("MAT_SELECT_CONFIG"),Bxe={provide:d8,deps:[ps],useFactory:function Fxe(n){return()=>n.scrollStrategies.reposition()}},Uxe=new qe("MatSelectTrigger");class Vxe{constructor(t,e){this.source=t,this.value=e}}const zxe=XS(ece(av(f3(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Et}}))));let Hxe=(()=>{class n extends zxe{get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Iu.required)??!1}set required(e){this._required=hn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=hn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=hn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Sr(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}constructor(e,i,r,o,s,a,c,l,d,u,h,f,m,v){super(s,o,c,l,u),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=a,this._parentFormField=d,this._liveAnnouncer=m,this._defaultOptions=v,this._panelOpen=!1,this._compareWith=(g,b)=>g===b,this._uid="mat-select-"+l8++,this._triggerAriaLabelledBy=null,this._destroy=new Et,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+l8++,this._panelDoneAnimatingStream=new Et,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=Pp(()=>{const g=this.options;return g?g.changes.pipe(As(g),ho(()=>So(...g.map(b=>b.onSelectionChange)))):this._ngZone.onStable.pipe(Xi(1),ho(()=>this.optionSelectionChanges))}),this.openedChange=new Mt,this._openedStream=this.openedChange.pipe(qn(g=>g),tt(()=>{})),this._closedStream=this.openedChange.pipe(qn(g=>!g),tt(()=>{})),this.selectionChange=new Mt,this.valueChange=new Mt,this._trackedModal=null,this.ngControl&&(this.ngControl.valueAccessor=this),null!=v?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=v.typeaheadDebounceInterval),this._scrollStrategyFactory=f,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Sxe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(pf(),cn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(cn(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(As(null),cn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&HS(this._trackedModal,"aria-owns",i),Q5(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(HS(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!ia(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(e);const c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||ia(e))if(!s&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&o&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Xi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_skipPredicate(e){return e.disabled}_initKeyManager(){this._keyManager=new Mae(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=So(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(cn(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),So(...this.options.map(i=>i._stateChanges)).pipe(cn(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(D(zl),D(Ci),D(It),D(p3),D(vt),D(Er,8),D(Ru,8),D(Ml,8),D(tE,8),D(Js,10),al("tabindex"),D(d8),D(WS),D(Nxe,8))};static#t=this.\u0275dir=De({type:n,viewQuery:function(i,r){if(1&i&&(Tn(Exe,5),Tn(Axe,5),Tn(NH,5)),2&i){let o;Ht(o=Gt())&&(r.trigger=o.first),Ht(o=Gt())&&(r.panel=o.first),Ht(o=Gt())&&(r._overlayDir=o.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[He,jn]})}return n})(),Gxe=(()=>{class n extends Hxe{constructor(){super(...arguments),this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._skipPredicate=e=>!this.panelOpen&&e.disabled}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(cn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}open(){this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),super.open(),this.stateChanges.next()}close(){super.close(),this.stateChanges.next()}_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,o=function uce(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}(e,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===e&&1===o?0:function hce(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Vxe(this,e)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof WA?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=hn(e),this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&(Ti(o,Uxe,5),Ti(o,M3,5),Ti(o,C3,5)),2&i){let s;Ht(s=Gt())&&(r.customTrigger=s.first),Ht(s=Gt())&&(r.options=s),Ht(s=Gt())&&(r.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox","ngSkipHydration","",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&Rt("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(Wn("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Cn("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",panelWidth:"panelWidth",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matSelect"],features:[Ut([{provide:eE,useExisting:n},{provide:w3,useExisting:n}]),He],ngContentSelectors:kxe,decls:11,vars:10,consts:[["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],[1,"mat-mdc-select-value",3,"ngSwitch"],["class","mat-mdc-select-placeholder mat-mdc-select-min-line",4,"ngSwitchCase"],["class","mat-mdc-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","backdropClick","attach","detach"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text",3,"ngSwitch"],["class","mat-mdc-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,r){if(1&i&&(Sn(Rxe),he(0,"div",0,1),Rt("click",function(){return r.toggle()}),he(3,"div",2),Ot(4,Txe,2,1,"span",3),Ot(5,Pxe,3,2,"span",4),ae(),he(6,"div",5)(7,"div",6),yx(),he(8,"svg",7),wn(9,"path",8),ae()()()(),Ot(10,Oxe,3,9,"ng-template",9),Rt("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&i){const o=ys(1);et(3),Ge("ngSwitch",r.empty),Wn("id",r._valueId),et(1),Ge("ngSwitchCase",!0),et(1),Ge("ngSwitchCase",!1),et(5),Ge("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Tu,_p,$C,Ok,NH,WA],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(-8px)}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12);width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Lxe.transformPanel]},changeDetection:0})}return n})(),u8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[Bxe],imports:[si,tg,ZS,Vn,eh,fv,ZS,Vn]})}return n})(),jxe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({providers:[yd,ii,FA],imports:[si,vH,Nye,kde,gB,aB,im,fv,uB,z5,pF,$b,AH,JA,B0e,Mxe,u8]})}return n})(),h8=(()=>{class n{constructor(){}getBoolean(e,i){return/true/i.test(sessionStorage.getItem(e))||i}setBoolean(e,i){sessionStorage.setItem(e,String(i))}invertBoolean(e,i){const r=!i;return this.setBoolean(e,r),r}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();const f8=[{id:"template-1",name:"Basic Sample",description:"Demonstrates basic functionality of vect application",diagramSource:"compositions:\n  - name: backend\n    label: Backend\n    border: frame\n  - name: data\n    label: Data Layer\n    composition: backend\n\nnodes:\n  - name: user\n    model: user\n  - name: spa\n    type: compact\n    icon: connected_tv\n  - name: api\n    icon: video_settings\n    composition: backend\n  - name: db1\n    label: PostgreSQL\n    type: barrel\n    composition: data\n  - name: db2\n    label: MongoDB\n    type: barrel\n    composition: data\n\nedges:\n  - from: user\n    to: spa\n  - from: spa\n    to: api\n  - from: api\n    to: db1\n  - from: api\n    to: db2"},{id:"template-2",name:"Azure Sample",description:"Demonstrates sample of Azure resources",diagramSource:"compositions:\n  - name: cnt\n    label: Containers\n  - name: data\n    label: Data Layer\n\nnodes:\n  - name: web\n    type: workstation\n    label: Web User\n  - name: spa\n    type: icon\n    icon: az:App-Services\n    composition: cnt\n  - name: aks\n    type: icon\n    icon: az:Kubernetes-Services\n    composition: cnt\n  - name: db\n    type: icon\n    icon: az:SQL-Server\n    label: SQL Server\n    composition: data\n  - name: db2\n    type: icon\n    icon: az:Azure-Cosmos-DB\n    label: CosmosDB\n    composition: data\n  - name: kv\n    icon: az:Key-Vaults\n    type: icon\n    label: KeyVault\n  - name: aad\n    label: Azure Active Directory\n    icon: az:Azure-Active-Directory\n    type: icon\n\nedges:\n  - from: web\n    to: spa\n  - from: spa\n    to: aks\n  - from: spa\n    to: kv\n  - from: aks\n    to: kv\n  - from: spa\n    to: aad\n  - from: aks\n    to: db\n  - from: aks\n    to: db2"},{id:"template-3",name:"AWS Sample",description:"Demonstrates sample of AWS resources",diagramSource:"compositions:\n  - name: data\n    label: Data Layer\n\nnodes:\n  - name: api\n    icon: aws:API-Gateway\n    type: compact\n  - name: eck\n    icon: aws:Elastic-Kubernetes-Service\n    label: Kuberentes\n    type: compact\n  - name: s\n    icon: aws:Secrets-Manager\n    label: Secrets\n    type: icon\n  - name: db\n    icon: aws:DynamoDB\n    type: barrel\n    composition: data\n  - name: fs\n    icon: aws:Elastic-File-System\n    type: icon\n    composition: data\n\nedges:\n  - from: api\n    to: eck\n  - from: eck\n    to: s\n  - from: eck\n    to: db\n  - from: eck\n    to: fs"},{id:"template-4",name:"Google Cloud Sample",description:"Demonstrates sample of Google Cloud resources",diagramSource:"compositions:\n  - name: compute\n    label: Computing\n    composition: cloud\n  - name: cloud\n    label: Google Cloud\n    border: frame\n\nnodes:\n  - name: mob\n    label: Mobile Devices\n    type: icon\n    icon: md:important_devices\n  - name: api\n    icon: g:App-Engine\n    type: icon\n    label: App Engine\n    composition: cloud\n  - name: fn\n    icon: g:cloud-functions\n    type: compact\n    label: Cloud Functions\n    composition: compute\n  - name: cmp\n    icon: g:compute-engine\n    type: compact\n    label: Compute Engine\n    composition: compute\n  - name: st\n    icon: g:cloud-storage\n    type: barrel\n    label: Cloud Storage\n    composition: cloud\n\nedges:\n  - from: mob\n    to: api\n  - from: api\n    to: fn\n  - from: api\n    to: cmp\n  - from: cmp\n    to: st\n  - from: fn\n    to: st"}];let ng=(()=>{class n{constructor(){}getTemplateList(){return f8.map(e=>({id:e.id,name:e.name}))}getTemplate(e){const i=f8.find(r=>r.id===e);if(!i)throw new Error("Diagram not found");return i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wxe(n,t){if(1&n&&(he(0,"pre"),re(1),ae()),2&n){const e=zt().$implicit,i=zt();et(1),Zo(i.templateService.getTemplate(e.id).diagramSource)}}function $xe(n,t){1&n&&(he(0,"mat-tab",13),Ot(1,Wxe,2,1,"ng-template",14),ae()),2&n&&Ge("label",t.$implicit.name)}let p8=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.templateService=r}ngOnInit(){this.templates=this.templateService.getTemplateList()}static#e=this.\u0275fac=function(i){return new(i||n)(D(cf),D(O0),D(ng))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-editor-help-dialog"]],decls:148,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["label","Basics"],["href","https://en.wikipedia.org/wiki/YAML","target","_blank"],["href","https://material.io/resources/icons","target","_blank"],["href","https://github.com/makimenko/files/tree/master/azure-icons","target","_blank"],["href","https://github.com/makimenko/files/tree/master/aws-icons","target","_blank"],["href","https://github.com/makimenko/files/tree/master/google-cloud-icons","target","_blank"],["label","Shotcuts"],["label","Examples"],[3,"label",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],[3,"label"],["matTabContent",""]],template:function(i,r){1&i&&(he(0,"h1",0),re(1,"About Diagram Syntax"),ae(),he(2,"div",1)(3,"mat-tab-group")(4,"mat-tab",2)(5,"p"),re(6,"Diagram syntax is in "),he(7,"a",3),re(8,"YAML"),ae()(),he(9,"p"),re(10,"Data structure:"),ae(),he(11,"ul")(12,"li")(13,"b"),re(14,"nodes"),ae(),re(15," is array of Node: "),he(16,"ul")(17,"li")(18,"b"),re(19,"name"),ae(),re(20,": graph node identifier (could be referenced in edges from/to)"),ae(),he(21,"li")(22,"b"),re(23,"label"),ae(),re(24,": business name of the node"),ae(),he(25,"li")(26,"b"),re(27,"type"),ae(),re(28,": (default: stand) possible values: stand | compact | barrel | user | workstation. Will be enhanced."),ae(),he(29,"li")(30,"b"),re(31,"icon"),ae(),re(32,": Icon namespace and name. Separated by semicolon. The following icon namespaces are supported by default:"),ae(),he(33,"ul")(34,"li")(35,"b"),re(36,"md"),ae(),re(37,": (Default) "),he(38,"a",4),re(39,"Material Icon"),ae(),re(40,'. For example: "alarm_on" or "md:alarm_on"'),ae(),he(41,"li")(42,"b"),re(43,"az"),ae(),re(44,": "),he(45,"a",5),re(46,"Azure Icons"),ae(),re(47,'. For example: "az:App-Services"'),ae(),he(48,"li")(49,"b"),re(50,"aws"),ae(),re(51,": "),he(52,"a",6),re(53,"AWS Icons"),ae(),re(54,'. For example: "aws:Elastic-Container-Kubernetes"'),ae(),he(55,"li")(56,"b"),re(57,"g"),ae(),re(58,": "),he(59,"a",7),re(60,"Google Cloud Icons"),ae(),re(61,'. For example: "g:App-Engine"'),ae(),he(62,"li")(63,"b"),re(64,"a"),ae(),re(65,': Project assets folder "assets/svg". For example: "a:sitemap-solid"'),ae()(),he(66,"li")(67,"b"),re(68,"composition"),ae(),re(69,": if node belongs to composition (parent), then provide name of composition"),ae()()(),he(70,"li")(71,"b"),re(72,"compositions"),ae(),re(73," is array of Composition: "),he(74,"ul")(75,"li")(76,"b"),re(77,"name"),ae(),re(78,": composition identifier (could be referenced from Node and Composition)"),ae(),he(79,"li")(80,"b"),re(81,"label"),ae(),re(82,": business name of the composition (eg Data Access Layer)"),ae(),he(83,"li")(84,"b"),re(85,"border"),ae(),re(86,": (default: plane) possible values: plane | frame. Will be enhanced."),ae(),he(87,"li")(88,"b"),re(89,"composition"),ae(),re(90,": if composition is embedded into parent composition, then provide name of parent composition "),ae()()(),he(91,"li")(92,"b"),re(93,"edges"),ae(),re(94," is array of Edge: "),he(95,"ul")(96,"li")(97,"b"),re(98,"from"),ae(),re(99,": name of Node (start of the connection)"),ae(),he(100,"li")(101,"b"),re(102,"to"),ae(),re(103,": name of Node (end of the connection)"),ae(),he(104,"li")(105,"b"),re(106,"name"),ae(),re(107,": identifier of edge. Very optional."),ae(),he(108,"li")(109,"b"),re(110,"label"),ae(),re(111,": business label, which describes meaning of connection"),ae(),he(112,"li")(113,"b"),re(114,"type"),ae(),re(115,": line type: association | message | line | sequence "),ae(),he(116,"li")(117,"b"),re(118,"color"),ae(),re(119,": color hex number. For example: 0xff0000 is red"),ae()()()()(),he(120,"mat-tab",8)(121,"p"),re(122,"Shortcuts"),ae(),he(123,"ul")(124,"li")(125,"b"),re(126,"Ctrl+Enter"),ae(),re(127,": Save diagram source and draw diagram"),ae(),he(128,"li")(129,"b"),re(130,"Ctrl+E"),ae(),re(131,": Show/hide diagram editor"),ae(),he(132,"li")(133,"b"),re(134,"Ctrl+R"),ae(),re(135,": Reset camera position and zoom level"),ae(),he(136,"li")(137,"b"),re(138,"F1"),ae(),re(139,": Help"),ae()()(),he(140,"mat-tab",9)(141,"p"),re(142,"If you want to create diagram with sample source, then please select template in a new diagram dialog."),ae(),he(143,"mat-tab-group"),Ot(144,$xe,2,1,"mat-tab",10),ae()()()(),he(145,"div",11)(146,"button",12),re(147,"OK"),ae()()),2&i&&(et(144),Ge("ngForOf",r.templates),et(2),Ge("mat-dialog-close",!0))},dependencies:[Du,Bl,qA,ZA,KA,QA,t8,s8,wxe]})}return n})();function ig(n,t){n.preventDefault();const e=t._elementRef.nativeElement;e.disabled||e.click()}const R0="text/yaml",m8="trashed=false";function tT(n,t){return":1=':2'".replace(/:1/i,n).replace(/:2/i,t)}function qxe(n,t){return"':2' in :1".replace(/:1/i,n).replace(/:2/i,t)}let g8=(()=>{class n{constructor(e,i){this.auth=e,this.http=i,this.initialized=!1}init(){var e=this;return Qn(function*(){e.initialized||(yield gapi.client.load("drive","v3"),e.initialized=!0)})()}list(e){var i=this;return Qn(function*(){return yield i.init(),gapi.client.drive.files.list({q:e.join(" and "),fields:"*"})})()}uploadFile(e,i,r,o,s,a){var c=this;return Qn(function*(){yield c.init();const l=new Blob([s],{type:r}),d={name:i,mimeType:r,parents:e?void 0:[o],properties:a},u=new FormData;return u.append("metadata",new Blob([JSON.stringify(d)],{type:"application/json"})),u.append("file",l),(yield c.saveOfUpdate(e,u)).id})()}saveOfUpdate(e,i){var r=this;return Qn(function*(){return e?r.http.patch("https://www.googleapis.com/upload/drive/v3/files/"+e+"?uploadType=multipart&fields=id",i,{headers:{Authorization:r.auth.getAuthorizationHeader()}}).toPromise():r.http.post("https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",i,{headers:{Authorization:r.auth.getAuthorizationHeader()}}).toPromise()})()}create(e,i,r){var o=this;return Qn(function*(){yield o.init();let s="";return yield gapi.client.drive.files.create({resource:{name:e,mimeType:i,parents:r?[r]:void 0}}).then(a=>{s=a.result.id}),s})()}createIfAbsent(e,i){var r=this;return Qn(function*(){yield r.init();const o=yield r.list([m8,tT("mimeType",i),tT("name",e)]);return o.result.files&&o.result.files.length>0?{id:yield o.result.files[0].id,created:!1}:{id:yield r.create(e,i),created:!0}})()}readFileMeta(e){var i=this;return Qn(function*(){yield i.init();try{return yield gapi.client.drive.files.get({fileId:e,fields:"*"})}catch{return console.warn("Can not download google file",e),Promise.reject("File not found")}})()}downloadFile(e){return Qn(function*(){try{return(yield gapi.client.drive.files.get({fileId:e,alt:"media",mimeType:R0})).body}catch{return console.warn("Can not download google file",e),Promise.reject("File not found")}})()}delete(e){var i=this;return Qn(function*(){yield i.init(),yield gapi.client.drive.files.delete({fileId:e})})()}static#e=this.\u0275fac=function(i){return new(i||n)(le(Lu),le(_v))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zxe(n,t){if(1&n){const e=qo();he(0,"div",2)(1,"button",3),Rt("click",function(){return zi(e),Hi(zt().action())}),re(2),ae()()}if(2&n){const e=zt();et(2),xu(" ",e.data.action," ")}}const Kxe=["label"];function Qxe(n,t){}const Jxe=Math.pow(2,31)-1;class nT{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Et,this._afterOpened=new Et,this._onAction=new Et,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Jxe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const _8=new qe("MatSnackBarData");class k0{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let ewe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),twe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),nwe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),iwe=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||n)(D(nT),D(_8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(he(0,"div",0),re(1),ae(),Ot(2,Zxe,3,1,"div",1)),2&i&&(et(1),xu(" ",r.data.message,"\n"),et(1),Ge("ngIf",r.hasAction))},dependencies:[sr,Bl,ewe,twe,nwe],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const rwe={snackBarState:Ss("state",[Mr("void, hidden",Nn({transform:"scale(0.8)",opacity:0})),Mr("visible",Nn({transform:"scale(1)",opacity:1})),Yi("* => visible",$i("150ms cubic-bezier(0, 0, 0.2, 1)")),Yi("* => void, * => hidden",$i("75ms cubic-bezier(0.4, 0.0, 1, 1)",Nn({opacity:0})))])};let owe=0,swe=(()=>{class n extends A0{constructor(e,i,r,o,s){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=lt(Zt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Et,this._onExit=new Et,this._onEnter=new Et,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+owe++,this.attachDomPortal=a=>{this._assertNotAttached();const c=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),c},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Xi(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),this._exposeToModals()}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||n)(D(It),D(vt),D(Ci),D(hi),D(k0))};static#t=this.\u0275dir=De({type:n,viewQuery:function(i,r){if(1&i&&Tn(el,7),2&i){let o;Ht(o=Gt())&&(r._portalOutlet=o.first)}},features:[He]})}return n})(),awe=(()=>{class n extends swe{_afterPortalAttached(){super._afterPortalAttached();const e=this._label.nativeElement,i="mdc-snackbar__label";e.classList.toggle(i,!e.querySelector(`.${i}`))}static#e=this.\u0275fac=function(){let e;return function(r){return(e||(e=Ct(n)))(r||n)}}();static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&Tn(Kxe,7),2&i){let o;Ht(o=Gt())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&b_("@state.done",function(s){return r.onAnimationEnd(s)}),2&i&&x_("@state",r._animationState)},features:[He],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(he(0,"div",0)(1,"div",1,2)(3,"div",3),Ot(4,Qxe,0,0,"ng-template",4),ae(),wn(5,"div"),ae()()),2&i&&(et(5),Wn("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[el],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[rwe.snackBarState]}})}return n})(),b8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[tg,af,si,im,Vn,Vn]})}return n})();const v8=new qe("mat-snack-bar-default-options",{providedIn:"root",factory:function cwe(){return new k0}});let lwe=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,o,s,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=ri.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:k0,useValue:i}]}),s=new rf(this.snackBarContainerComponent,i.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r={...new k0,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new nT(s,o);if(e instanceof Cr){const c=new sf(e,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{const c=this._createInjector(r,a),l=new rf(e,void 0,c),d=s.attachComponentPortal(l);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(cn(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new T0;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,a=!s&&"center"!==e.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return ri.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:nT,useValue:i},{provide:_8,useValue:e.data}]})}static#e=this.\u0275fac=function(i){return new(i||n)(le(ps),le(WS),le(ri),le(zS),le(n,12),le(v8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),dwe=(()=>{class n extends lwe{constructor(e,i,r,o,s,a){super(e,i,r,o,s,a),this.simpleSnackBarComponent=iwe,this.snackBarContainerComponent=awe,this.handsetCssClass="mat-mdc-snack-bar-handset"}static#e=this.\u0275fac=function(i){return new(i||n)(le(ps),le(WS),le(ri),le(zS),le(n,12),le(v8))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:b8})}return n})();function y8(n){return{id:n.id,name:n.name,description:n.properties?.description,image:n.properties?.image}}let rg=(()=>{class n{constructor(e,i,r){this.drive=e,this.templateService=i,this.snackBar=r,this.initialized=!1}init(){var e=this;return Qn(function*(){if(!e.initialized){const i=yield e.drive.createIfAbsent("Vect","application/vnd.google-apps.folder");if(i.created){e.snackBar.open("Creating sample diagrams. Please wait...","Ok",{duration:5e3});for(const r of e.templateService.getTemplateList())yield e.create({template:r,name:r.name,description:"This diagram was automatically created from a template to demonstrate basic functionality"})}e.vectFolderId=i.id,e.initialized=!0}})()}list(){var e=this;return Qn(function*(){return yield e.init(),yield(yield e.drive.list([m8,tT("mimeType",R0),qxe("parents",e.vectFolderId)])).result.files.map(r=>y8(r))})()}get(e){var i=this;return Qn(function*(){yield i.init();const o=y8((yield i.drive.readFileMeta(e)).result),s=yield i.drive.downloadFile(e);return o.diagramSource=s,o})()}create(e){var i=this;return Qn(function*(){yield i.init();const r={description:e.description,image:"assets/svg/sitemap-solid.svg"},o=e.template?.id?i.templateService.getTemplate(e.template.id).diagramSource:"";return{id:yield i.drive.uploadFile(void 0,e.name,R0,i.vectFolderId,o,r),name:e.name,description:e.description,diagramSource:""}})()}save(e){var i=this;return Qn(function*(){yield i.init();const r={description:e.description,image:"assets/svg/sitemap-solid.svg"};yield i.drive.uploadFile(e.id,e.name,R0,i.vectFolderId,e.diagramSource,r)})()}delete(e){var i=this;return Qn(function*(){yield i.init(),yield i.drive.delete(e)})()}static#e=this.\u0275fac=function(i){return new(i||n)(le(g8),le(ng),le(dwe))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();const hwe=["submitButton"],fwe=["helpButton"];function pwe(n,t){1&n&&(he(0,"mat-error",9),re(1,"Error in diagram code"),ae())}function mwe(n,t){1&n&&wn(0,"mat-progress-bar",10)}let gwe=(()=>{class n{set dirty(e){e!==this._dirty&&(this._dirty=e,this.dirtyEvent.emit(e))}constructor(e,i,r,o){this.fb=e,this.diagramService=i,this.dialog=r,this.ref=o,this.diagramSourceUpdated=new Mt,this.loadingEvent=new Mt,this.dirtyEvent=new Mt,this._dirty=!1,this.initialized=!1,this.saveInProgress=!1,this.diagramStatus=!0}ngOnInit(){this.form=this.fb.group({id:"",name:"",description:"",diagramSource:"",image:""}),setTimeout(()=>{this.refresh()},100)}ngAfterViewInit(){}refresh(){var e=this;return Qn(function*(){e.loadingEvent.emit(!0),e.item=yield e.diagramService.get(e.id),console.log("EditorSideComponent.refresh item",e.item),e.form=e.fb.group(e.item),e.form.get("diagramSource")?.valueChanges.subscribe(i=>{e.dirty=!0}),console.log("EditorSideComponent.refresh before setTimeout"),setTimeout(i=>{console.log("EditorSideComponent.refresh insideTimeout"),e.initialized=!0,e.diagramSourceUpdated.emit(e.item),e.loadingEvent.emit(!1),console.log("EditorSideComponent.refresh endOfTimeout")},100)})()}onSubmit(){var e=this;return Qn(function*(){e.loadingEvent.emit(!0);const i={id:e.item.id,name:e.item.name,description:e.item.description,image:e.item.image,diagramSource:e.form.get("diagramSource")?.value};e.saveInProgress=!0,e.diagramService.save(i).then(()=>{e.saveInProgress=!1,e.dirty=!1,e.form.markAsPristine()}),yield e.diagramSourceUpdated.emit(i),e.loadingEvent.emit(!1)})()}shortCutSave(e){ig(e,this.submitButton)}shortCutHelp(e){ig(e,this.helpButton)}processDiagramStatus(e){this.diagramStatus=e}showHelp(){this.helpDialogRef||(this.helpDialogRef=this.dialog.open(p8,{}),this.helpDialogRef.afterClosed().subscribe(()=>{this.helpDialogRef=void 0}))}static#e=this.\u0275fac=function(i){return new(i||n)(D(bJ),D(rg),D(lf),D(Ci))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-editor-side"]],viewQuery:function(i,r){if(1&i&&(Tn(hwe,5),Tn(fwe,5)),2&i){let o;Ht(o=Gt())&&(r.submitButton=o.first),Ht(o=Gt())&&(r.helpButton=o.first)}},hostBindings:function(i,r){1&i&&Rt("keydown.control.enter",function(s){return r.shortCutSave(s)},0,vc)("keydown.f1",function(s){return r.shortCutHelp(s)},!1,vc)},inputs:{id:"id"},outputs:{diagramSourceUpdated:"diagramSourceUpdated",loadingEvent:"loadingEvent",dirtyEvent:"dirtyEvent"},decls:16,vars:6,consts:[["fxLayout","column","fxFlex","",3,"formGroup","ngSubmit"],["fxFlex","","color","accent",1,"source"],["matInput","","cdkTextareaAutosize","","formControlName","diagramSource",3,"readonly"],["matSuffix","",4,"ngIf"],["mat-raised-button","","type","submit","color","primary","matTooltip","Save and redraw diagram (Ctrl+Enter)",3,"disabled"],["submitButton",""],["mode","buffer",4,"ngIf"],["mat-icon-button","","aria-label","Edit","type","button","matTooltip","Help (F1)",1,"help",3,"click"],["helpButton",""],["matSuffix",""],["mode","buffer"]],template:function(i,r){1&i&&(he(0,"form",0),Rt("ngSubmit",function(){return r.onSubmit()}),he(1,"mat-form-field",1)(2,"mat-label"),re(3,"Diagram source code"),ae(),wn(4,"textarea",2),ae(),Ot(5,pwe,2,0,"mat-error",3),he(6,"button",4,5),re(8,"Save "),he(9,"mat-hint"),re(10,"Ctrl+Enter"),ae(),Ot(11,mwe,1,0,"mat-progress-bar",6),ae(),he(12,"button",7,8),Rt("click",function(){return r.showHelp()}),he(14,"mat-icon"),re(15,"help_outline"),ae()()()),2&i&&(Ge("formGroup",r.form),et(1),Ge("@diagramStatus",r.diagramStatus),et(3),Ge("readonly",!r.initialized),et(1),Ge("ngIf",!r.diagramStatus),et(1),Ge("disabled",!r.form.valid||r.saveInProgress||!r.initialized||!r.form.dirty),et(5),Ge("ngIf",r.saveInProgress))},dependencies:[sr,wv,Bl,uv,nE,rm,JS,I3,nle,cE,ide,Zb,qp,cb,yp,uM,J_,Ml,lb,HA,QH],styles:[".source[_ngcontent-%COMP%]{font-family:Courier New}.help[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px}"],data:{animation:[Ss("diagramStatus",[Mr("true",Nn({})),Mr("false",Nn({background:"#aa2b1d",opacity:.7})),Yi("true -> false",[$i("200ms",Nn({background:"#aa2b1d",opacity:.7}))]),Yi("true -> false",[$i("600ms",Nn({background:"blue"}))])])]}})}return n})();const x8="DiagramLayoutService.";let w8=(()=>{class n{constructor(){this.alignValues=["UL","UR","DL","DR"],this.rankdirValues=["TB","BT","LR","RL"],this.rankerValues=["network-simplex","tight-tree","longest-path"],this.init()}init(){this.align=this.getString("align","DR"),this.rankdir=this.getString("rankdir","TB"),this.ranker=this.getString("ranker","network-simplex")}getString(e,i){return localStorage.getItem(x8+e)||i}changeValue(e,i,r){const o=r.indexOf(i),a=r[o>=r.length-1?0:o+1];return localStorage.setItem(x8+e,a),a}changeAlign(){this.align=this.changeValue("align",this.align,this.alignValues)}changeRankdir(){this.rankdir=this.changeValue("rankdir",this.rankdir,this.rankdirValues)}changeRanker(){this.ranker=this.changeValue("ranker",this.ranker,this.rankerValues)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _we=["controls"],bwe=["buttonEditor"],vwe=["buttonReset"],ywe=["buttonImage"];function xwe(n,t){if(1&n){const e=qo();he(0,"atft-dagre-yaml-parser",19),Rt("status",function(r){return zi(e),Hi(zt().diagramStatus.emit(r))}),ae()}2&n&&Ge("yaml",zt().yaml)}let wwe=(()=>{class n{constructor(e,i,r){this.animation=e,this.layout=i,this.ref=r,this.editorToggle=new Mt,this.diagramStatus=new Mt,this.positionX=15,this.animation.start()}ngOnInit(){}mouseEnter(){}click(){}mouseExit(){}resetCamera(){this.controls.reset()}shortCutEditor(e){ig(e,this.buttonEditor)}shortCutReset(e){ig(e,this.buttonReset)}shortCutImage(e){ig(e,this.buttonImage)}doImage(){const e=this.atftRenderCanvas?.renderPane?.nativeElement;if(e){const i=e.toDataURL("doImage/png"),r=document.createElement("a");r.target="_blank",r.href=i,r.download="vect.png",r.click()}}doEditorShowHide(){this.editorToggle.emit()}updateDiagram(e){console.log("EditorCanvasComponent.updateDiagram"),this.yaml=e.diagramSource,this.ref.detectChanges()}static#e=this.\u0275fac=function(i){return new(i||n)(D(yd),D(w8),D(Ci))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-editor-canvas"]],viewQuery:function(i,r){if(1&i&&(Tn(_we,5),Tn(bwe,5),Tn(vwe,5),Tn(ywe,5),Tn(zA,5)),2&i){let o;Ht(o=Gt())&&(r.controls=o.first),Ht(o=Gt())&&(r.buttonEditor=o.first),Ht(o=Gt())&&(r.buttonReset=o.first),Ht(o=Gt())&&(r.buttonImage=o.first),Ht(o=Gt())&&(r.atftRenderCanvas=o.first)}},hostBindings:function(i,r){1&i&&Rt("keydown.control.e",function(s){return r.shortCutEditor(s)},0,vc)("keydown.control.r",function(s){return r.shortCutReset(s)},!1,vc)("keydown.control.i",function(s){return r.shortCutImage(s)},!1,vc)},inputs:{yaml:"yaml"},outputs:{editorToggle:"editorToggle",diagramStatus:"diagramStatus"},decls:31,vars:37,consts:[[3,"rotateSpeed","zoomSpeed","dampingFactor","enableDamping","autoRotate","minZoom","maxZoom"],["controls",""],[3,"preserveDrawingBuffer"],[3,"positionX","positionY","positionZ","zoom","zAxisUp"],["name","scene","background","#a0a0a0"],["name","ground","materialColor","#999999","material","phong",3,"height","width","depthWrite","castShadow","receiveShadow","heightSegments","widthSegments","translateZ"],["name","hemi-light","skyColor","#ffffff","groundColor","#ffffff",3,"intensity","translateX","translateY","translateZ"],["name","point-light",3,"intensity","translateX","translateY","translateZ","castShadow"],[3,"align","rankdir","ranker"],[3,"yaml","status",4,"ngIf"],["mat-icon-button","","matTooltip","Show/Hide diagram editor (Ctrl+E)",1,"btn","editor",3,"click"],["buttonEditor",""],["mat-icon-button","","matTooltip","Reset camera position (Ctrl+R)",1,"btn","center",3,"click"],["buttonReset",""],["mat-icon-button","","matTooltip","Image (Ctrl+I)",1,"btn","screenshot",3,"click"],["buttonImage",""],["mat-icon-button","",1,"btn","align",3,"matTooltip","click"],["mat-icon-button","",1,"btn","rankdir",3,"matTooltip","click"],["mat-icon-button","",1,"btn","ranker",3,"matTooltip","click"],[3,"yaml","status"]],template:function(i,r){1&i&&(he(0,"atft-map-controls",0,1)(2,"atft-renderer-canvas",2),wn(3,"atft-orthographic-camera",3),he(4,"atft-scene",4),wn(5,"atft-plane-mesh",5)(6,"atft-hemisphere-light",6)(7,"atft-point-light",7),he(8,"atft-dagre-layout",8),Ot(9,xwe,1,1,"atft-dagre-yaml-parser",9),ae()()()(),he(10,"button",10,11),Rt("click",function(){return r.doEditorShowHide()}),he(12,"mat-icon"),re(13,"create"),ae()(),he(14,"button",12,13),Rt("click",function(){return r.resetCamera()}),he(16,"mat-icon"),re(17,"center_focus_strong"),ae()(),he(18,"button",14,15),Rt("click",function(){return r.doImage()}),he(20,"mat-icon"),re(21,"camera_alt"),ae()(),he(22,"button",16),Rt("click",function(){return r.layout.changeAlign()}),he(23,"mat-icon"),re(24,"format_align_center"),ae()(),he(25,"button",17),Rt("click",function(){return r.layout.changeRankdir()}),he(26,"mat-icon"),re(27,"rotate_90_degrees_ccw"),ae()(),he(28,"button",18),Rt("click",function(){return r.layout.changeRanker()}),he(29,"mat-icon"),re(30,"alt_route"),ae()()),2&i&&(Ge("rotateSpeed",0)("zoomSpeed",1.2)("dampingFactor",.1)("enableDamping",!1)("autoRotate",!1)("minZoom",3)("maxZoom",100),et(2),Ge("preserveDrawingBuffer",!0),et(1),Ge("positionX",r.positionX)("positionY",-50)("positionZ",100)("zoom",6)("zAxisUp",!0),et(2),Ge("height",2e3)("width",2e3)("depthWrite",!0)("castShadow",!1)("receiveShadow",!1)("heightSegments",1)("widthSegments",1)("translateZ",-.1),et(1),Ge("intensity",.4)("translateX",-20)("translateY",-20)("translateZ",100),et(1),Ge("intensity",.8)("translateX",-100)("translateY",-100)("translateZ",200)("castShadow",!0),et(1),Ge("align",r.layout.align)("rankdir",r.layout.rankdir)("ranker",r.layout.ranker),et(1),Ge("ngIf",r.yaml),et(13),vu("matTooltip","",r.layout.align,": Alignment for rank nodes. Can be UL, UR, DL, or DR, where U = up, D = down, L = left, and R = right."),et(3),vu("matTooltip","",r.layout.rankdir,": Direction for rank nodes. Can be TB, BT, LR, or RL, where T = top, B = bottom, L = left, and R = right."),et(3),vu("matTooltip","",r.layout.ranker,": Type of algorithm to assigns a rank to each node in the input graph. Possible values: network-simplex, tight-tree or longest-path"))},dependencies:[sr,cye,_ye,hye,uye,lH,vye,zA,E0,Fye,wv,uv,QH],styles:["[_nghost-%COMP%]{flex:1 1 auto}.btn[_ngcontent-%COMP%]{z-index:3;position:absolute}.editor[_ngcontent-%COMP%]{top:5px;left:5px}.center[_ngcontent-%COMP%]{bottom:5px;left:5px}.screenshot[_ngcontent-%COMP%]{bottom:30px;left:5px}.align[_ngcontent-%COMP%]{bottom:5px;left:75px}.rankdir[_ngcontent-%COMP%]{bottom:5px;left:105px}.ranker[_ngcontent-%COMP%]{bottom:5px;left:135px}"]})}return n})();const C8="EditorContentComponent.sidePanelOpened";let Cwe=(()=>{class n{constructor(e){this.pref=e,this.loadingEvent=new Mt,this.dirtyEvent=new Mt,this.sidePanelOpened=this.pref.getBoolean(C8,!1)}toggleSidePanel(){this.sidePanelOpened=this.pref.invertBoolean(C8,this.sidePanelOpened)}static#e=this.\u0275fac=function(i){return new(i||n)(D(h8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-editor-content"]],inputs:{id:"id"},outputs:{loadingEvent:"loadingEvent",dirtyEvent:"dirtyEvent"},decls:8,vars:3,consts:[[3,"hasBackdrop"],["mode","push","position","start",3,"opened"],["drawer",""],[3,"id","diagramSourceUpdated","loadingEvent","dirtyEvent"],["editor",""],[3,"editorToggle","diagramStatus"],["diagram",""]],template:function(i,r){if(1&i){const o=qo();he(0,"mat-drawer-container",0)(1,"mat-drawer",1,2)(3,"app-editor-side",3,4),Rt("diagramSourceUpdated",function(a){return zi(o),Hi(ys(7).updateDiagram(a))})("loadingEvent",function(a){return r.loadingEvent.emit(a)})("dirtyEvent",function(a){return r.dirtyEvent.emit(a)}),ae()(),he(5,"mat-drawer-content")(6,"app-editor-canvas",5,6),Rt("editorToggle",function(){return r.toggleSidePanel()})("diagramStatus",function(a){return zi(o),Hi(ys(4).processDiagramStatus(a))}),ae()()()}2&i&&(Ge("hasBackdrop",!1),et(1),Ge("opened",r.sidePanelOpened),et(2),Ge("id",r.id))},dependencies:[uE,hE,lm,gwe,wwe],styles:["[_nghost-%COMP%]{flex:1 0 auto;display:flex}.mat-drawer-container[_ngcontent-%COMP%]{flex:1 1 auto;display:flex}.mat-drawer-content[_ngcontent-%COMP%]{flex:1 0 auto;display:flex}.mat-drawer-push[_ngcontent-%COMP%]{width:350px}"]})}return n})();function Mwe(n,t){1&n&&wn(0,"mat-progress-bar",3)}let Swe=(()=>{class n{constructor(){this.loading=!1}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-editor-toolbar"]],inputs:{loading:"loading"},decls:8,vars:1,consts:[[1,"example-spacer"],["mat-icon-button","","routerLink","/list"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){1&i&&(he(0,"mat-toolbar")(1,"span"),re(2,"Vect"),ae(),wn(3,"span",0),he(4,"button",1)(5,"mat-icon"),re(6,"close"),ae()(),Ot(7,Mwe,1,0,"mat-progress-bar",2),ae()),2&i&&(et(7),Ge("ngIf",r.loading))},dependencies:[sr,Rde,wv,uv,Wb,HA],styles:["[_nghost-%COMP%]{flex:0 1 auto}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-progress-bar[_ngcontent-%COMP%]{position:absolute;top:60px;left:0}"]})}return n})();function Ewe(n,t){if(1&n){const e=qo();he(0,"app-editor-content",2),Rt("loadingEvent",function(r){return zi(e),zt(),Hi(ys(1).loading=r)})("dirtyEvent",function(r){return zi(e),Hi(zt().dirty=r)}),ae()}2&n&&Ge("id",zt().id)}let Awe=(()=>{class n{constructor(e){this.activatedRoute=e,this.dirty=!1,this.activatedRoute.paramMap.subscribe(i=>{this.id=i.get("id")})}ngOnInit(){}canDeactivate(){return!this.dirty}static#e=this.\u0275fac=function(i){return new(i||n)(D(Ol))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-editor-layout"]],hostBindings:function(i,r){1&i&&Rt("beforeunload",function(){return r.canDeactivate()},0,vc)},decls:3,vars:1,consts:[["toolbar",""],[3,"id","loadingEvent","dirtyEvent",4,"ngIf"],[3,"id","loadingEvent","dirtyEvent"]],template:function(i,r){1&i&&(wn(0,"app-editor-toolbar",null,0),Ot(2,Ewe,1,1,"app-editor-content",1)),2&i&&(et(2),Ge("ngIf",r.id))},dependencies:[sr,Cwe,Swe],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column}.content[_ngcontent-%COMP%]{max-height:500px}"]})}return n})(),M8=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)(D(cf),D(O0))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-confirm-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""]],template:function(i,r){1&i&&(he(0,"h1",0),re(1,"Confirmation"),ae(),he(2,"div",1)(3,"p"),re(4),ae()(),he(5,"div",2)(6,"button",3),re(7,"Yes"),ae(),he(8,"button",4),re(9,"No"),ae()()),2&i&&(et(4),Zo(r.data.message),et(2),Ge("mat-dialog-close",!0))},dependencies:[qA,ZA,KA,QA,Bl]})}return n})();const Twe=["*"],Pwe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Owe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Rwe=new qe("MAT_CARD_CONFIG");let iT=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(D(Rwe,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&Cn("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:Twe,decls:1,vars:0,template:function(i,r){1&i&&(Sn(),$t(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),rT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return n})(),oT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return n})(),S8=(()=>{class n{constructor(){this.align="start"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=De({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(i,r){2&i&&Cn("mat-mdc-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return n})(),sT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:Owe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(Sn(Pwe),$t(0),he(1,"div",0),$t(2,1),ae(),$t(3,2))},encapsulation:2,changeDetection:0})}return n})(),E8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[Vn,si,Vn]})}return n})();var fa=function(n){return n.active="active",n.warn="warn",n.deleted="deleted",n.clicked="clicked",n}(fa||{});let Fwe=(()=>{class n{constructor(e,i,r){this.diagramService=e,this.dialog=i,this.router=r,this.loadingEvent=new Mt,this.reloadRequired=new Mt,this.itemState=fa.active}ngOnInit(){}doDelete(e,i){var r=this;return Qn(function*(){r.itemState=fa.warn,e.stopPropagation(),r.dialog.open(M8,{data:{message:"Delete diagram?"}}).afterClosed().subscribe(function(){var s=Qn(function*(a){a?(r.itemState=fa.deleted,r.loadingEvent.emit(!0),yield r.diagramService.delete(i),r.loadingEvent.emit(!1),r.reloadRequired.emit()):r.itemState=fa.active});return function(a){return s.apply(this,arguments)}}())})()}open(e,i){e.stopPropagation(),this.itemState=fa.clicked,setTimeout(()=>{this.router.navigate(["/editor",i])},80)}static#e=this.\u0275fac=function(i){return new(i||n)(D(rg),D(lf),D(Br))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-manager-list-item"]],inputs:{item:"item"},outputs:{loadingEvent:"loadingEvent",reloadRequired:"reloadRequired"},decls:11,vars:5,consts:[["fxLayout","column","fxLayoutAlign","space-around center",3,"click"],["fxFlex","10"],["mat-icon-button","",1,"delete",3,"click"],["fxFlex","90","fxLayout","column"],["fxFlex","70",3,"src"],["fxFlex","30",1,"description"]],template:function(i,r){1&i&&(he(0,"mat-card",0),Rt("click",function(s){return r.open(s,r.item.id)}),he(1,"mat-card-header",1)(2,"mat-card-title"),re(3),ae(),he(4,"button",2),Rt("click",function(s){return r.doDelete(s,r.item.id)}),he(5,"mat-icon"),re(6,"delete_forever"),ae()()(),he(7,"mat-card-content",3),wn(8,"img",4),he(9,"p",5),re(10),ae()()()),2&i&&(Ge("@enterLeaveTrigger",void 0)("@itemState",r.itemState),et(3),Zo(r.item.name),et(5),Ge("src",r.item.image,Qx),et(2),Zo(r.item.description))},dependencies:[Zb,P5,qp,iT,oT,sT,rT,uv,wv],styles:[".mat-ripple[_ngcontent-%COMP%]{overflow:hidden;position:relative}.mat-ripple[_ngcontent-%COMP%]:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded[_ngcontent-%COMP%]{overflow:visible}.mat-ripple-element[_ngcontent-%COMP%]{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0,0,.2,1);transform:scale3d(0,0,0)}.cdk-high-contrast-active[_ngcontent-%COMP%]   .mat-ripple-element[_ngcontent-%COMP%]{display:none}.cdk-visually-hidden[_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl][_ngcontent-%COMP%]   .cdk-visually-hidden[_ngcontent-%COMP%]{left:auto;right:0}.cdk-overlay-container[_ngcontent-%COMP%], .cdk-global-overlay-wrapper[_ngcontent-%COMP%]{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:1000}.cdk-overlay-container[_ngcontent-%COMP%]:empty{display:none}.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:1}.cdk-high-contrast-active[_ngcontent-%COMP%]   .cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:.6}.cdk-overlay-dark-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop[_ngcontent-%COMP%]{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation[_ngcontent-%COMP%]{transition:none}.cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock[_ngcontent-%COMP%]{position:fixed;width:100%;overflow-y:scroll}textarea.cdk-textarea-autosize[_ngcontent-%COMP%]{resize:none}textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:2px 0!important;box-sizing:content-box!important;height:auto!important;overflow:hidden!important}textarea.cdk-textarea-autosize-measuring-firefox[_ngcontent-%COMP%]{padding:2px 0!important;box-sizing:content-box!important;height:0!important}@keyframes _ngcontent-%COMP%_cdk-text-field-autofill-start{}@keyframes _ngcontent-%COMP%_cdk-text-field-autofill-end{}.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:-webkit-autofill{animation:_ngcontent-%COMP%_cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:not(:-webkit-autofill){animation:_ngcontent-%COMP%_cdk-text-field-autofill-end 0s 1ms}.mat-focus-indicator[_ngcontent-%COMP%]{position:relative}.mat-focus-indicator[_ngcontent-%COMP%]:before{inset:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border:var(--mat-focus-indicator-border-width, 3px) var(--mat-focus-indicator-border-style, solid) var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator[_ngcontent-%COMP%]:focus:before{content:\"\"}.cdk-high-contrast-active[_ngcontent-%COMP%]{--mat-focus-indicator-display: block}.mat-mdc-focus-indicator[_ngcontent-%COMP%]{position:relative}.mat-mdc-focus-indicator[_ngcontent-%COMP%]:before{inset:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-mdc-focus-indicator-display, none);border:var(--mat-mdc-focus-indicator-border-width, 3px) var(--mat-mdc-focus-indicator-border-style, solid) var(--mat-mdc-focus-indicator-border-color, transparent);border-radius:var(--mat-mdc-focus-indicator-border-radius, 4px)}.mat-mdc-focus-indicator[_ngcontent-%COMP%]:focus:before{content:\"\"}.cdk-high-contrast-active[_ngcontent-%COMP%]{--mat-mdc-focus-indicator-display: block}.mat-ripple-element[_ngcontent-%COMP%]{background-color:#ffffff1a}html[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: #9e9e9e;--mat-option-label-text-color: white;--mat-option-hover-state-layer-color: rgba(255, 255, 255, .08);--mat-option-focus-state-layer-color: rgba(255, 255, 255, .08);--mat-option-selected-state-layer-color: rgba(255, 255, 255, .08)}.mat-accent[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: #ff4081}.mat-warn[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: #f44336}html[_ngcontent-%COMP%]{--mat-optgroup-label-text-color: white}.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{color:#ffffffb3}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled[_ngcontent-%COMP%]{color:#686868}.mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#9e9e9e}.mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#9e9e9e}.mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after, .mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after{color:#303030}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#ff4081}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#ff4081}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after, .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after{color:#303030}.mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#ff4081}.mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#ff4081}.mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after, .mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after{color:#303030}.mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#f44336}.mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#f44336}.mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after, .mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after{color:#303030}.mat-pseudo-checkbox-disabled.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-pseudo-checkbox-disabled.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#686868}.mat-pseudo-checkbox-disabled.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-pseudo-checkbox-disabled.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#686868}.mat-app-background[_ngcontent-%COMP%]{background-color:#303030;color:#fff}.mat-elevation-z0[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z0[_ngcontent-%COMP%]{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-elevation-z1[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z1[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-elevation-z2[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z2[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-elevation-z3[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z3[_ngcontent-%COMP%]{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-elevation-z4[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z4[_ngcontent-%COMP%]{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-elevation-z5[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z5[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.mat-elevation-z6[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z6[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-elevation-z7[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z7[_ngcontent-%COMP%]{box-shadow:0 4px 5px -2px #0003,0 7px 10px 1px #00000024,0 2px 16px 1px #0000001f}.mat-elevation-z8[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-elevation-z9[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z9[_ngcontent-%COMP%]{box-shadow:0 5px 6px -3px #0003,0 9px 12px 1px #00000024,0 3px 16px 2px #0000001f}.mat-elevation-z10[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z10[_ngcontent-%COMP%]{box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.mat-elevation-z11[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z11[_ngcontent-%COMP%]{box-shadow:0 6px 7px -4px #0003,0 11px 15px 1px #00000024,0 4px 20px 3px #0000001f}.mat-elevation-z12[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z12[_ngcontent-%COMP%]{box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-elevation-z13[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z13[_ngcontent-%COMP%]{box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f}.mat-elevation-z14[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z14[_ngcontent-%COMP%]{box-shadow:0 7px 9px -4px #0003,0 14px 21px 2px #00000024,0 5px 26px 4px #0000001f}.mat-elevation-z15[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z15[_ngcontent-%COMP%]{box-shadow:0 8px 9px -5px #0003,0 15px 22px 2px #00000024,0 6px 28px 5px #0000001f}.mat-elevation-z16[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z16[_ngcontent-%COMP%]{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-elevation-z17[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z17[_ngcontent-%COMP%]{box-shadow:0 8px 11px -5px #0003,0 17px 26px 2px #00000024,0 6px 32px 5px #0000001f}.mat-elevation-z18[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z18[_ngcontent-%COMP%]{box-shadow:0 9px 11px -5px #0003,0 18px 28px 2px #00000024,0 7px 34px 6px #0000001f}.mat-elevation-z19[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z19[_ngcontent-%COMP%]{box-shadow:0 9px 12px -6px #0003,0 19px 29px 2px #00000024,0 7px 36px 6px #0000001f}.mat-elevation-z20[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z20[_ngcontent-%COMP%]{box-shadow:0 10px 13px -6px #0003,0 20px 31px 3px #00000024,0 8px 38px 7px #0000001f}.mat-elevation-z21[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z21[_ngcontent-%COMP%]{box-shadow:0 10px 13px -6px #0003,0 21px 33px 3px #00000024,0 8px 40px 7px #0000001f}.mat-elevation-z22[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z22[_ngcontent-%COMP%]{box-shadow:0 10px 14px -6px #0003,0 22px 35px 3px #00000024,0 8px 42px 7px #0000001f}.mat-elevation-z23[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z23[_ngcontent-%COMP%]{box-shadow:0 11px 14px -7px #0003,0 23px 36px 3px #00000024,0 9px 44px 8px #0000001f}.mat-elevation-z24[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z24[_ngcontent-%COMP%]{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-theme-loaded-marker[_ngcontent-%COMP%]{display:none}.mat-mdc-card[_ngcontent-%COMP%]{--mdc-elevated-card-container-color: #424242;--mdc-elevated-card-container-elevation: 0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12);--mdc-outlined-card-container-color: #424242;--mdc-outlined-card-outline-color: rgba(255, 255, 255, .12);--mdc-outlined-card-container-elevation: 0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12);--mat-card-subtitle-text-color: rgba(255, 255, 255, .7)}.mat-mdc-progress-bar[_ngcontent-%COMP%]{--mdc-linear-progress-active-indicator-color: #9e9e9e;--mdc-linear-progress-track-color: rgba(158, 158, 158, .25)}.mat-mdc-progress-bar[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:#9e9e9e40;background-color:var(--mdc-linear-progress-track-color, rgba(158, 158, 158, .25))}@media (forced-colors: active){.mat-mdc-progress-bar[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mat-mdc-progress-bar[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:transparent;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(158, 158, 158, 0.25)'/%3E%3C/svg%3E\")}}.mat-mdc-progress-bar[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-bar[_ngcontent-%COMP%]{background-color:#9e9e9e40;background-color:var(--mdc-linear-progress-track-color, rgba(158, 158, 158, .25))}.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]{--mdc-linear-progress-active-indicator-color: #ff4081;--mdc-linear-progress-track-color: rgba(255, 64, 129, .25)}.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:#ff408140;background-color:var(--mdc-linear-progress-track-color, rgba(255, 64, 129, .25))}@media (forced-colors: active){.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:transparent;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(255, 64, 129, 0.25)'/%3E%3C/svg%3E\")}}.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-bar[_ngcontent-%COMP%]{background-color:#ff408140;background-color:var(--mdc-linear-progress-track-color, rgba(255, 64, 129, .25))}.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]{--mdc-linear-progress-active-indicator-color: #f44336;--mdc-linear-progress-track-color: rgba(244, 67, 54, .25)}@keyframes _ngcontent-%COMP%_mdc-linear-progress-buffering{}.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:#f4433640;background-color:var(--mdc-linear-progress-track-color, rgba(244, 67, 54, .25))}@media (forced-colors: active){.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:transparent;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E\")}}.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-bar[_ngcontent-%COMP%]{background-color:#f4433640;background-color:var(--mdc-linear-progress-track-color, rgba(244, 67, 54, .25))}.mat-mdc-tooltip[_ngcontent-%COMP%]{--mdc-plain-tooltip-container-color: #616161;--mdc-plain-tooltip-supporting-text-color: #fff}html[_ngcontent-%COMP%]{--mdc-filled-text-field-caret-color: #9e9e9e;--mdc-filled-text-field-focus-active-indicator-color: #9e9e9e;--mdc-filled-text-field-focus-label-text-color: rgba(158, 158, 158, .87);--mdc-filled-text-field-container-color: #4a4a4a;--mdc-filled-text-field-disabled-container-color: #464646;--mdc-filled-text-field-label-text-color: rgba(255, 255, 255, .6);--mdc-filled-text-field-disabled-label-text-color: rgba(255, 255, 255, .38);--mdc-filled-text-field-input-text-color: rgba(255, 255, 255, .87);--mdc-filled-text-field-disabled-input-text-color: rgba(255, 255, 255, .38);--mdc-filled-text-field-input-text-placeholder-color: rgba(255, 255, 255, .6);--mdc-filled-text-field-error-focus-label-text-color: #f44336;--mdc-filled-text-field-error-label-text-color: #f44336;--mdc-filled-text-field-error-caret-color: #f44336;--mdc-filled-text-field-active-indicator-color: rgba(255, 255, 255, .42);--mdc-filled-text-field-disabled-active-indicator-color: rgba(255, 255, 255, .06);--mdc-filled-text-field-hover-active-indicator-color: rgba(255, 255, 255, .87);--mdc-filled-text-field-error-active-indicator-color: #f44336;--mdc-filled-text-field-error-focus-active-indicator-color: #f44336;--mdc-filled-text-field-error-hover-active-indicator-color: #f44336;--mdc-outlined-text-field-caret-color: #9e9e9e;--mdc-outlined-text-field-focus-outline-color: #9e9e9e;--mdc-outlined-text-field-focus-label-text-color: rgba(158, 158, 158, .87);--mdc-outlined-text-field-label-text-color: rgba(255, 255, 255, .6);--mdc-outlined-text-field-disabled-label-text-color: rgba(255, 255, 255, .38);--mdc-outlined-text-field-input-text-color: rgba(255, 255, 255, .87);--mdc-outlined-text-field-disabled-input-text-color: rgba(255, 255, 255, .38);--mdc-outlined-text-field-input-text-placeholder-color: rgba(255, 255, 255, .6);--mdc-outlined-text-field-error-caret-color: #f44336;--mdc-outlined-text-field-error-focus-label-text-color: #f44336;--mdc-outlined-text-field-error-label-text-color: #f44336;--mdc-outlined-text-field-outline-color: rgba(255, 255, 255, .38);--mdc-outlined-text-field-disabled-outline-color: rgba(255, 255, 255, .06);--mdc-outlined-text-field-hover-outline-color: rgba(255, 255, 255, .87);--mdc-outlined-text-field-error-focus-outline-color: #f44336;--mdc-outlined-text-field-error-hover-outline-color: #f44336;--mdc-outlined-text-field-error-outline-color: #f44336;--mat-form-field-disabled-input-text-placeholder-color: rgba(255, 255, 255, .38)}.mat-mdc-form-field-error[_ngcontent-%COMP%]{color:var(--mdc-theme-error, #f44336)}.mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%], .mat-mdc-form-field-bottom-align[_ngcontent-%COMP%]:before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{background-color:#ffffffde}.mat-mdc-form-field[_ngcontent-%COMP%]:hover   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{opacity:.08}.mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{opacity:.24}select.mat-mdc-form-field-input-control[_ngcontent-%COMP%]:not(.mat-mdc-native-select-inline)   option[_ngcontent-%COMP%]{color:#000000de}select.mat-mdc-form-field-input-control[_ngcontent-%COMP%]:not(.mat-mdc-native-select-inline)   option[_ngcontent-%COMP%]:disabled{color:#00000061}.mat-mdc-form-field-type-mat-native-select[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#ffffff8a}.mat-mdc-form-field-type-mat-native-select.mat-focused.mat-primary[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#9e9e9ede}.mat-mdc-form-field-type-mat-native-select.mat-focused.mat-accent[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#ff4081de}.mat-mdc-form-field-type-mat-native-select.mat-focused.mat-warn[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#f44336de}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#ffffff61}.mat-mdc-form-field.mat-accent[_ngcontent-%COMP%]{--mdc-filled-text-field-caret-color: #ff4081;--mdc-filled-text-field-focus-active-indicator-color: #ff4081;--mdc-filled-text-field-focus-label-text-color: rgba(255, 64, 129, .87);--mdc-outlined-text-field-caret-color: #ff4081;--mdc-outlined-text-field-focus-outline-color: #ff4081;--mdc-outlined-text-field-focus-label-text-color: rgba(255, 64, 129, .87)}.mat-mdc-form-field.mat-warn[_ngcontent-%COMP%]{--mdc-filled-text-field-caret-color: #f44336;--mdc-filled-text-field-focus-active-indicator-color: #f44336;--mdc-filled-text-field-focus-label-text-color: rgba(244, 67, 54, .87);--mdc-outlined-text-field-caret-color: #f44336;--mdc-outlined-text-field-focus-outline-color: #f44336;--mdc-outlined-text-field-focus-label-text-color: rgba(244, 67, 54, .87)}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%]{border-left:1px solid transparent}[dir=rtl][_ngcontent-%COMP%]   .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%]{border-left:none;border-right:1px solid transparent}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{min-height:56px}.mat-mdc-text-field-wrapper[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]   .mat-mdc-floating-label[_ngcontent-%COMP%]{top:28px}.mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-notched-outline--upgraded[_ngcontent-%COMP%]   .mdc-floating-label--float-above[_ngcontent-%COMP%]{--mat-mdc-form-field-label-transform: translateY( -34.75px) scale(var(--mat-mdc-form-field-floating-label-scale, .75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:16px}.mat-mdc-text-field-wrapper[_ngcontent-%COMP%]:not(.mdc-text-field--outlined)   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:24px;padding-bottom:8px}.mdc-text-field--no-label[_ngcontent-%COMP%]:not(.mdc-text-field--outlined):not(.mdc-text-field--textarea)   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:16px}html[_ngcontent-%COMP%]{--mat-select-panel-background-color: #424242;--mat-select-enabled-trigger-text-color: rgba(255, 255, 255, .87);--mat-select-disabled-trigger-text-color: rgba(255, 255, 255, .38);--mat-select-placeholder-text-color: rgba(255, 255, 255, .6);--mat-select-enabled-arrow-color: rgba(255, 255, 255, .54);--mat-select-disabled-arrow-color: rgba(255, 255, 255, .38);--mat-select-focused-arrow-color: rgba(158, 158, 158, .87);--mat-select-invalid-arrow-color: rgba(244, 67, 54, .87)}html[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-accent[_ngcontent-%COMP%]{--mat-select-panel-background-color: #424242;--mat-select-enabled-trigger-text-color: rgba(255, 255, 255, .87);--mat-select-disabled-trigger-text-color: rgba(255, 255, 255, .38);--mat-select-placeholder-text-color: rgba(255, 255, 255, .6);--mat-select-enabled-arrow-color: rgba(255, 255, 255, .54);--mat-select-disabled-arrow-color: rgba(255, 255, 255, .38);--mat-select-focused-arrow-color: rgba(255, 64, 129, .87);--mat-select-invalid-arrow-color: rgba(244, 67, 54, .87)}html[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-warn[_ngcontent-%COMP%]{--mat-select-panel-background-color: #424242;--mat-select-enabled-trigger-text-color: rgba(255, 255, 255, .87);--mat-select-disabled-trigger-text-color: rgba(255, 255, 255, .38);--mat-select-placeholder-text-color: rgba(255, 255, 255, .6);--mat-select-enabled-arrow-color: rgba(255, 255, 255, .54);--mat-select-disabled-arrow-color: rgba(255, 255, 255, .38);--mat-select-focused-arrow-color: rgba(244, 67, 54, .87);--mat-select-invalid-arrow-color: rgba(244, 67, 54, .87)}html[_ngcontent-%COMP%]{--mat-autocomplete-background-color: #424242}.mat-mdc-dialog-container[_ngcontent-%COMP%]{--mdc-dialog-container-color: #424242;--mdc-dialog-subhead-color: rgba(255, 255, 255, .87);--mdc-dialog-supporting-text-color: rgba(255, 255, 255, .6)}.mat-mdc-standard-chip[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color: #fafafa;--mdc-chip-elevated-container-color: #595959;--mdc-chip-elevated-disabled-container-color: #595959;--mdc-chip-focus-state-layer-color: white;--mdc-chip-focus-state-layer-opacity: .12;--mdc-chip-label-text-color: #fafafa;--mdc-chip-with-icon-icon-color: #fafafa;--mdc-chip-with-icon-disabled-icon-color: #fafafa;--mdc-chip-with-icon-selected-icon-color: #fafafa;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color: #fafafa;--mdc-chip-with-trailing-icon-trailing-icon-color: #fafafa}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-primary[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-primary[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color: rgba(0, 0, 0, .87);--mdc-chip-elevated-container-color: #9e9e9e;--mdc-chip-elevated-disabled-container-color: #9e9e9e;--mdc-chip-focus-state-layer-color: white;--mdc-chip-focus-state-layer-opacity: .12;--mdc-chip-label-text-color: rgba(0, 0, 0, .87);--mdc-chip-with-icon-icon-color: rgba(0, 0, 0, .87);--mdc-chip-with-icon-disabled-icon-color: rgba(0, 0, 0, .87);--mdc-chip-with-icon-selected-icon-color: rgba(0, 0, 0, .87);--mdc-chip-with-trailing-icon-disabled-trailing-icon-color: rgba(0, 0, 0, .87);--mdc-chip-with-trailing-icon-trailing-icon-color: rgba(0, 0, 0, .87)}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-accent[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-accent[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color: white;--mdc-chip-elevated-container-color: #ff4081;--mdc-chip-elevated-disabled-container-color: #ff4081;--mdc-chip-focus-state-layer-color: white;--mdc-chip-focus-state-layer-opacity: .12;--mdc-chip-label-text-color: white;--mdc-chip-with-icon-icon-color: white;--mdc-chip-with-icon-disabled-icon-color: white;--mdc-chip-with-icon-selected-icon-color: white;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color: white;--mdc-chip-with-trailing-icon-trailing-icon-color: white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-warn[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-warn[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color: white;--mdc-chip-elevated-container-color: #f44336;--mdc-chip-elevated-disabled-container-color: #f44336;--mdc-chip-focus-state-layer-color: white;--mdc-chip-focus-state-layer-opacity: .12;--mdc-chip-label-text-color: white;--mdc-chip-with-icon-icon-color: white;--mdc-chip-with-icon-disabled-icon-color: white;--mdc-chip-with-icon-selected-icon-color: white;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color: white;--mdc-chip-with-trailing-icon-trailing-icon-color: white}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{--mdc-chip-container-height: 32px}.mat-mdc-slide-toggle[_ngcontent-%COMP%]{--mdc-switch-selected-focus-state-layer-color: #e0e0e0;--mdc-switch-selected-handle-color: #e0e0e0;--mdc-switch-selected-hover-state-layer-color: #e0e0e0;--mdc-switch-selected-pressed-state-layer-color: #e0e0e0;--mdc-switch-selected-focus-handle-color: #eeeeee;--mdc-switch-selected-hover-handle-color: #eeeeee;--mdc-switch-selected-pressed-handle-color: #eeeeee;--mdc-switch-selected-focus-track-color: #757575;--mdc-switch-selected-hover-track-color: #757575;--mdc-switch-selected-pressed-track-color: #757575;--mdc-switch-selected-track-color: #757575;--mdc-switch-disabled-selected-handle-color: #000;--mdc-switch-disabled-selected-icon-color: #212121;--mdc-switch-disabled-selected-track-color: #f5f5f5;--mdc-switch-disabled-unselected-handle-color: #000;--mdc-switch-disabled-unselected-icon-color: #212121;--mdc-switch-disabled-unselected-track-color: #f5f5f5;--mdc-switch-handle-surface-color: var(--mdc-theme-surface, #fff);--mdc-switch-handle-elevation-shadow: 0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12);--mdc-switch-handle-shadow-color: black;--mdc-switch-disabled-handle-elevation-shadow: 0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12);--mdc-switch-selected-icon-color: #212121;--mdc-switch-unselected-focus-handle-color: #fafafa;--mdc-switch-unselected-focus-state-layer-color: #f5f5f5;--mdc-switch-unselected-focus-track-color: #616161;--mdc-switch-unselected-handle-color: #9e9e9e;--mdc-switch-unselected-hover-handle-color: #fafafa;--mdc-switch-unselected-hover-state-layer-color: #f5f5f5;--mdc-switch-unselected-hover-track-color: #616161;--mdc-switch-unselected-icon-color: #212121;--mdc-switch-unselected-pressed-handle-color: #fafafa;--mdc-switch-unselected-pressed-state-layer-color: #f5f5f5;--mdc-switch-unselected-pressed-track-color: #616161;--mdc-switch-unselected-track-color: #616161}.mat-mdc-slide-toggle[_ngcontent-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{color:var(--mdc-theme-text-primary-on-background, white)}.mat-mdc-slide-toggle[_ngcontent-%COMP%]   .mdc-switch--disabled[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{color:#ffffff80}.mat-mdc-slide-toggle.mat-accent[_ngcontent-%COMP%]{--mdc-switch-selected-focus-state-layer-color: #f06292;--mdc-switch-selected-handle-color: #f06292;--mdc-switch-selected-hover-state-layer-color: #f06292;--mdc-switch-selected-pressed-state-layer-color: #f06292;--mdc-switch-selected-focus-handle-color: #f48fb1;--mdc-switch-selected-hover-handle-color: #f48fb1;--mdc-switch-selected-pressed-handle-color: #f48fb1;--mdc-switch-selected-focus-track-color: #d81b60;--mdc-switch-selected-hover-track-color: #d81b60;--mdc-switch-selected-pressed-track-color: #d81b60;--mdc-switch-selected-track-color: #d81b60}.mat-mdc-slide-toggle.mat-warn[_ngcontent-%COMP%]{--mdc-switch-selected-focus-state-layer-color: #e57373;--mdc-switch-selected-handle-color: #e57373;--mdc-switch-selected-hover-state-layer-color: #e57373;--mdc-switch-selected-pressed-state-layer-color: #e57373;--mdc-switch-selected-focus-handle-color: #ef9a9a;--mdc-switch-selected-hover-handle-color: #ef9a9a;--mdc-switch-selected-pressed-handle-color: #ef9a9a;--mdc-switch-selected-focus-track-color: #e53935;--mdc-switch-selected-hover-track-color: #e53935;--mdc-switch-selected-pressed-track-color: #e53935;--mdc-switch-selected-track-color: #e53935}.mat-mdc-slide-toggle[_ngcontent-%COMP%]{--mdc-switch-state-layer-size: 48px}.mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{color:var(--mdc-theme-text-primary-on-background, white)}.mat-mdc-radio-button.mat-primary[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color: #fff;--mdc-radio-disabled-unselected-icon-color: #fff;--mdc-radio-unselected-hover-icon-color: #eeeeee;--mdc-radio-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-radio-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-radio-selected-focus-icon-color: #9e9e9e;--mdc-radio-selected-hover-icon-color: #9e9e9e;--mdc-radio-selected-icon-color: #9e9e9e;--mdc-radio-selected-pressed-icon-color: #9e9e9e;--mat-radio-ripple-color: #fff;--mat-radio-checked-ripple-color: #9e9e9e;--mat-radio-disabled-label-color: rgba(255, 255, 255, .5)}.mat-mdc-radio-button.mat-accent[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color: #fff;--mdc-radio-disabled-unselected-icon-color: #fff;--mdc-radio-unselected-hover-icon-color: #eeeeee;--mdc-radio-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-radio-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-radio-selected-focus-icon-color: #ff4081;--mdc-radio-selected-hover-icon-color: #ff4081;--mdc-radio-selected-icon-color: #ff4081;--mdc-radio-selected-pressed-icon-color: #ff4081;--mat-radio-ripple-color: #fff;--mat-radio-checked-ripple-color: #ff4081;--mat-radio-disabled-label-color: rgba(255, 255, 255, .5)}.mat-mdc-radio-button.mat-warn[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color: #fff;--mdc-radio-disabled-unselected-icon-color: #fff;--mdc-radio-unselected-hover-icon-color: #eeeeee;--mdc-radio-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-radio-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-radio-selected-focus-icon-color: #f44336;--mdc-radio-selected-hover-icon-color: #f44336;--mdc-radio-selected-icon-color: #f44336;--mdc-radio-selected-pressed-icon-color: #f44336;--mat-radio-ripple-color: #fff;--mat-radio-checked-ripple-color: #f44336;--mat-radio-disabled-label-color: rgba(255, 255, 255, .5)}.mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{--mdc-radio-state-layer-size: 40px}.mat-mdc-slider[_ngcontent-%COMP%]{--mdc-slider-label-container-color: white;--mdc-slider-label-label-text-color: black;--mdc-slider-disabled-handle-color: #fff;--mdc-slider-disabled-active-track-color: #fff;--mdc-slider-disabled-inactive-track-color: #fff;--mdc-slider-with-tick-marks-disabled-container-color: #fff;--mat-mdc-slider-value-indicator-opacity: .9}.mat-mdc-slider.mat-primary[_ngcontent-%COMP%]{--mdc-slider-handle-color: #9e9e9e;--mdc-slider-focus-handle-color: #9e9e9e;--mdc-slider-hover-handle-color: #9e9e9e;--mdc-slider-active-track-color: #9e9e9e;--mdc-slider-inactive-track-color: #9e9e9e;--mdc-slider-with-tick-marks-active-container-color: #000;--mdc-slider-with-tick-marks-inactive-container-color: #9e9e9e;--mat-mdc-slider-ripple-color: #9e9e9e;--mat-mdc-slider-hover-ripple-color: rgba(158, 158, 158, .05);--mat-mdc-slider-focus-ripple-color: rgba(158, 158, 158, .2)}.mat-mdc-slider.mat-accent[_ngcontent-%COMP%]{--mdc-slider-handle-color: #ff4081;--mdc-slider-focus-handle-color: #ff4081;--mdc-slider-hover-handle-color: #ff4081;--mdc-slider-active-track-color: #ff4081;--mdc-slider-inactive-track-color: #ff4081;--mdc-slider-with-tick-marks-active-container-color: #fff;--mdc-slider-with-tick-marks-inactive-container-color: #ff4081;--mat-mdc-slider-ripple-color: #ff4081;--mat-mdc-slider-hover-ripple-color: rgba(255, 64, 129, .05);--mat-mdc-slider-focus-ripple-color: rgba(255, 64, 129, .2)}.mat-mdc-slider.mat-warn[_ngcontent-%COMP%]{--mdc-slider-handle-color: #f44336;--mdc-slider-focus-handle-color: #f44336;--mdc-slider-hover-handle-color: #f44336;--mdc-slider-active-track-color: #f44336;--mdc-slider-inactive-track-color: #f44336;--mdc-slider-with-tick-marks-active-container-color: #fff;--mdc-slider-with-tick-marks-inactive-container-color: #f44336;--mat-mdc-slider-ripple-color: #f44336;--mat-mdc-slider-hover-ripple-color: rgba(244, 67, 54, .05);--mat-mdc-slider-focus-ripple-color: rgba(244, 67, 54, .2)}html[_ngcontent-%COMP%]{--mat-menu-item-label-text-color: white;--mat-menu-item-icon-color: white;--mat-menu-item-hover-state-layer-color: rgba(255, 255, 255, .08);--mat-menu-item-focus-state-layer-color: rgba(255, 255, 255, .08);--mat-menu-container-color: #424242}.mat-mdc-list-base[_ngcontent-%COMP%]{--mdc-list-list-item-label-text-color: white;--mdc-list-list-item-supporting-text-color: rgba(255, 255, 255, .7);--mdc-list-list-item-leading-icon-color: rgba(255, 255, 255, .5);--mdc-list-list-item-trailing-supporting-text-color: rgba(255, 255, 255, .5);--mdc-list-list-item-trailing-icon-color: rgba(255, 255, 255, .5);--mdc-list-list-item-selected-trailing-icon-color: rgba(255, 255, 255, .5);--mdc-list-list-item-disabled-label-text-color: white;--mdc-list-list-item-disabled-leading-icon-color: white;--mdc-list-list-item-disabled-trailing-icon-color: white;--mdc-list-list-item-hover-label-text-color: white;--mdc-list-list-item-hover-leading-icon-color: rgba(255, 255, 255, .5);--mdc-list-list-item-hover-trailing-icon-color: rgba(255, 255, 255, .5);--mdc-list-list-item-focus-label-text-color: white;--mdc-list-list-item-hover-state-layer-color: white;--mdc-list-list-item-hover-state-layer-opacity: .08;--mdc-list-list-item-focus-state-layer-color: white;--mdc-list-list-item-focus-state-layer-opacity: .24}.mdc-list-item__start[_ngcontent-%COMP%], .mdc-list-item__end[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color: #fff;--mdc-radio-disabled-unselected-icon-color: #fff;--mdc-radio-unselected-hover-icon-color: #eeeeee;--mdc-radio-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-radio-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-radio-selected-focus-icon-color: #9e9e9e;--mdc-radio-selected-hover-icon-color: #9e9e9e;--mdc-radio-selected-icon-color: #9e9e9e;--mdc-radio-selected-pressed-icon-color: #9e9e9e}.mat-accent[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-accent[_ngcontent-%COMP%]   .mdc-list-item__end[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color: #fff;--mdc-radio-disabled-unselected-icon-color: #fff;--mdc-radio-unselected-hover-icon-color: #eeeeee;--mdc-radio-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-radio-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-radio-selected-focus-icon-color: #ff4081;--mdc-radio-selected-hover-icon-color: #ff4081;--mdc-radio-selected-icon-color: #ff4081;--mdc-radio-selected-pressed-icon-color: #ff4081}.mat-warn[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-warn[_ngcontent-%COMP%]   .mdc-list-item__end[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color: #fff;--mdc-radio-disabled-unselected-icon-color: #fff;--mdc-radio-unselected-hover-icon-color: #eeeeee;--mdc-radio-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-radio-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-radio-selected-focus-icon-color: #f44336;--mdc-radio-selected-hover-icon-color: #f44336;--mdc-radio-selected-icon-color: #f44336;--mdc-radio-selected-pressed-icon-color: #f44336}.mat-mdc-list-option[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-selected-checkmark-color: #000;--mdc-checkbox-selected-focus-icon-color: #9e9e9e;--mdc-checkbox-selected-hover-icon-color: #9e9e9e;--mdc-checkbox-selected-icon-color: #9e9e9e;--mdc-checkbox-selected-pressed-icon-color: #9e9e9e;--mdc-checkbox-unselected-focus-icon-color: #eeeeee;--mdc-checkbox-unselected-hover-icon-color: #eeeeee;--mdc-checkbox-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-selected-focus-state-layer-color: #9e9e9e;--mdc-checkbox-selected-hover-state-layer-color: #9e9e9e;--mdc-checkbox-selected-pressed-state-layer-color: #9e9e9e;--mdc-checkbox-unselected-focus-state-layer-color: white;--mdc-checkbox-unselected-hover-state-layer-color: white;--mdc-checkbox-unselected-pressed-state-layer-color: white}.mat-mdc-list-option.mat-accent[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-selected-checkmark-color: #fff;--mdc-checkbox-selected-focus-icon-color: #ff4081;--mdc-checkbox-selected-hover-icon-color: #ff4081;--mdc-checkbox-selected-icon-color: #ff4081;--mdc-checkbox-selected-pressed-icon-color: #ff4081;--mdc-checkbox-unselected-focus-icon-color: #eeeeee;--mdc-checkbox-unselected-hover-icon-color: #eeeeee;--mdc-checkbox-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-selected-focus-state-layer-color: #ff4081;--mdc-checkbox-selected-hover-state-layer-color: #ff4081;--mdc-checkbox-selected-pressed-state-layer-color: #ff4081;--mdc-checkbox-unselected-focus-state-layer-color: white;--mdc-checkbox-unselected-hover-state-layer-color: white;--mdc-checkbox-unselected-pressed-state-layer-color: white}.mat-mdc-list-option.mat-warn[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-selected-checkmark-color: #fff;--mdc-checkbox-selected-focus-icon-color: #f44336;--mdc-checkbox-selected-hover-icon-color: #f44336;--mdc-checkbox-selected-icon-color: #f44336;--mdc-checkbox-selected-pressed-icon-color: #f44336;--mdc-checkbox-unselected-focus-icon-color: #eeeeee;--mdc-checkbox-unselected-hover-icon-color: #eeeeee;--mdc-checkbox-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-selected-focus-state-layer-color: #f44336;--mdc-checkbox-selected-hover-state-layer-color: #f44336;--mdc-checkbox-selected-pressed-state-layer-color: #f44336;--mdc-checkbox-unselected-focus-state-layer-color: white;--mdc-checkbox-unselected-hover-state-layer-color: white;--mdc-checkbox-unselected-pressed-state-layer-color: white}.mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--selected[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%], .mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--activated[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%], .mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--selected.mdc-list-item--with-leading-icon[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--activated.mdc-list-item--with-leading-icon[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%]{color:#9e9e9e}.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--disabled[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--disabled[_ngcontent-%COMP%]   .mdc-list-item__content[_ngcontent-%COMP%], .mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--disabled[_ngcontent-%COMP%]   .mdc-list-item__end[_ngcontent-%COMP%]{opacity:1}.mat-mdc-list-base[_ngcontent-%COMP%]{--mdc-list-list-item-one-line-container-height: 48px;--mdc-list-list-item-two-line-container-height: 64px;--mdc-list-list-item-three-line-container-height: 88px}.mat-mdc-list-item.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line[_ngcontent-%COMP%]{height:56px}.mat-mdc-list-item.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines[_ngcontent-%COMP%]{height:72px}html[_ngcontent-%COMP%]{--mat-paginator-container-text-color: rgba(255, 255, 255, .87);--mat-paginator-container-background-color: #424242;--mat-paginator-enabled-icon-color: rgba(255, 255, 255, .54);--mat-paginator-disabled-icon-color: rgba(255, 255, 255, .12)}html[_ngcontent-%COMP%]{--mat-paginator-container-size: 56px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{min-height:40px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]   .mat-mdc-floating-label[_ngcontent-%COMP%]{top:20px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-notched-outline--upgraded[_ngcontent-%COMP%]   .mdc-floating-label--float-above[_ngcontent-%COMP%]{--mat-mdc-form-field-label-transform: translateY( -26.75px) scale(var(--mat-mdc-form-field-floating-label-scale, .75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]:not(.mdc-text-field--outlined)   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mdc-text-field--no-label[_ngcontent-%COMP%]:not(.mdc-text-field--outlined):not(.mdc-text-field--textarea)   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]:not(.mdc-text-field--outlined)   .mat-mdc-floating-label[_ngcontent-%COMP%]{display:none}.mat-mdc-tab-group[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color: #9e9e9e;--mat-tab-header-disabled-ripple-color: rgba(255, 255, 255, .5);--mat-tab-header-pagination-icon-color: #fff;--mat-tab-header-inactive-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-active-label-text-color: #9e9e9e;--mat-tab-header-active-ripple-color: #9e9e9e;--mat-tab-header-inactive-ripple-color: #9e9e9e;--mat-tab-header-inactive-focus-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-inactive-hover-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-active-focus-label-text-color: #9e9e9e;--mat-tab-header-active-hover-label-text-color: #9e9e9e;--mat-tab-header-active-focus-indicator-color: #9e9e9e;--mat-tab-header-active-hover-indicator-color: #9e9e9e}.mat-mdc-tab-group.mat-accent[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-accent[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color: #ff4081;--mat-tab-header-disabled-ripple-color: rgba(255, 255, 255, .5);--mat-tab-header-pagination-icon-color: #fff;--mat-tab-header-inactive-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-active-label-text-color: #ff4081;--mat-tab-header-active-ripple-color: #ff4081;--mat-tab-header-inactive-ripple-color: #ff4081;--mat-tab-header-inactive-focus-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-inactive-hover-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-active-focus-label-text-color: #ff4081;--mat-tab-header-active-hover-label-text-color: #ff4081;--mat-tab-header-active-focus-indicator-color: #ff4081;--mat-tab-header-active-hover-indicator-color: #ff4081}.mat-mdc-tab-group.mat-warn[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-warn[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color: #f44336;--mat-tab-header-disabled-ripple-color: rgba(255, 255, 255, .5);--mat-tab-header-pagination-icon-color: #fff;--mat-tab-header-inactive-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-active-label-text-color: #f44336;--mat-tab-header-active-ripple-color: #f44336;--mat-tab-header-inactive-ripple-color: #f44336;--mat-tab-header-inactive-focus-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-inactive-hover-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-active-focus-label-text-color: #f44336;--mat-tab-header-active-hover-label-text-color: #f44336;--mat-tab-header-active-focus-indicator-color: #f44336;--mat-tab-header-active-hover-indicator-color: #f44336}.mat-mdc-tab-group.mat-background-primary[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-background-primary[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color: #9e9e9e;--mat-tab-header-with-background-foreground-color: rgba(0, 0, 0, .87)}.mat-mdc-tab-group.mat-background-accent[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-background-accent[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color: #ff4081;--mat-tab-header-with-background-foreground-color: white}.mat-mdc-tab-group.mat-background-warn[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-background-warn[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color: #f44336;--mat-tab-header-with-background-foreground-color: white}.mat-mdc-tab-header[_ngcontent-%COMP%]{--mdc-secondary-navigation-tab-container-height: 48px}html[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-selected-checkmark-color: #fff;--mdc-checkbox-selected-focus-icon-color: #ff4081;--mdc-checkbox-selected-hover-icon-color: #ff4081;--mdc-checkbox-selected-icon-color: #ff4081;--mdc-checkbox-selected-pressed-icon-color: #ff4081;--mdc-checkbox-unselected-focus-icon-color: #eeeeee;--mdc-checkbox-unselected-hover-icon-color: #eeeeee;--mdc-checkbox-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-selected-focus-state-layer-color: #ff4081;--mdc-checkbox-selected-hover-state-layer-color: #ff4081;--mdc-checkbox-selected-pressed-state-layer-color: #ff4081;--mdc-checkbox-unselected-focus-state-layer-color: white;--mdc-checkbox-unselected-hover-state-layer-color: white;--mdc-checkbox-unselected-pressed-state-layer-color: white}.mat-mdc-checkbox.mat-primary[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-selected-checkmark-color: #000;--mdc-checkbox-selected-focus-icon-color: #9e9e9e;--mdc-checkbox-selected-hover-icon-color: #9e9e9e;--mdc-checkbox-selected-icon-color: #9e9e9e;--mdc-checkbox-selected-pressed-icon-color: #9e9e9e;--mdc-checkbox-unselected-focus-icon-color: #eeeeee;--mdc-checkbox-unselected-hover-icon-color: #eeeeee;--mdc-checkbox-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-selected-focus-state-layer-color: #9e9e9e;--mdc-checkbox-selected-hover-state-layer-color: #9e9e9e;--mdc-checkbox-selected-pressed-state-layer-color: #9e9e9e;--mdc-checkbox-unselected-focus-state-layer-color: white;--mdc-checkbox-unselected-hover-state-layer-color: white;--mdc-checkbox-unselected-pressed-state-layer-color: white}.mat-mdc-checkbox.mat-warn[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-selected-checkmark-color: #fff;--mdc-checkbox-selected-focus-icon-color: #f44336;--mdc-checkbox-selected-hover-icon-color: #f44336;--mdc-checkbox-selected-icon-color: #f44336;--mdc-checkbox-selected-pressed-icon-color: #f44336;--mdc-checkbox-unselected-focus-icon-color: #eeeeee;--mdc-checkbox-unselected-hover-icon-color: #eeeeee;--mdc-checkbox-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-selected-focus-state-layer-color: #f44336;--mdc-checkbox-selected-hover-state-layer-color: #f44336;--mdc-checkbox-selected-pressed-state-layer-color: #f44336;--mdc-checkbox-unselected-focus-state-layer-color: white;--mdc-checkbox-unselected-hover-state-layer-color: white;--mdc-checkbox-unselected-pressed-state-layer-color: white}.mat-mdc-checkbox[_ngcontent-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{color:var(--mdc-theme-text-primary-on-background, white)}.mat-mdc-checkbox.mat-mdc-checkbox-disabled[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff80}html[_ngcontent-%COMP%]{--mdc-checkbox-state-layer-size: 40px}.mat-mdc-button.mat-unthemed[_ngcontent-%COMP%]{--mdc-text-button-label-text-color: #fff}.mat-mdc-button.mat-primary[_ngcontent-%COMP%]{--mdc-text-button-label-text-color: #9e9e9e}.mat-mdc-button.mat-accent[_ngcontent-%COMP%]{--mdc-text-button-label-text-color: #ff4081}.mat-mdc-button.mat-warn[_ngcontent-%COMP%]{--mdc-text-button-label-text-color: #f44336}.mat-mdc-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-text-button-disabled-label-text-color: rgba(255, 255, 255, .5);--mdc-text-button-label-text-color: rgba(255, 255, 255, .5)}.mat-mdc-unelevated-button.mat-unthemed[_ngcontent-%COMP%]{--mdc-filled-button-container-color: #424242;--mdc-filled-button-label-text-color: #fff}.mat-mdc-unelevated-button.mat-primary[_ngcontent-%COMP%]{--mdc-filled-button-container-color: #9e9e9e;--mdc-filled-button-label-text-color: #000}.mat-mdc-unelevated-button.mat-accent[_ngcontent-%COMP%]{--mdc-filled-button-container-color: #ff4081;--mdc-filled-button-label-text-color: #fff}.mat-mdc-unelevated-button.mat-warn[_ngcontent-%COMP%]{--mdc-filled-button-container-color: #f44336;--mdc-filled-button-label-text-color: #fff}.mat-mdc-unelevated-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-filled-button-disabled-container-color: rgba(255, 255, 255, .12);--mdc-filled-button-disabled-label-text-color: rgba(255, 255, 255, .5);--mdc-filled-button-container-color: rgba(255, 255, 255, .12);--mdc-filled-button-label-text-color: rgba(255, 255, 255, .5)}.mat-mdc-raised-button.mat-unthemed[_ngcontent-%COMP%]{--mdc-protected-button-container-color: #424242;--mdc-protected-button-label-text-color: #fff}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%]{--mdc-protected-button-container-color: #9e9e9e;--mdc-protected-button-label-text-color: #000}.mat-mdc-raised-button.mat-accent[_ngcontent-%COMP%]{--mdc-protected-button-container-color: #ff4081;--mdc-protected-button-label-text-color: #fff}.mat-mdc-raised-button.mat-warn[_ngcontent-%COMP%]{--mdc-protected-button-container-color: #f44336;--mdc-protected-button-label-text-color: #fff}.mat-mdc-raised-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-protected-button-disabled-container-color: rgba(255, 255, 255, .12);--mdc-protected-button-disabled-label-text-color: rgba(255, 255, 255, .5);--mdc-protected-button-container-color: rgba(255, 255, 255, .12);--mdc-protected-button-label-text-color: rgba(255, 255, 255, .5);--mdc-protected-button-container-elevation: 0}.mat-mdc-outlined-button[_ngcontent-%COMP%]{--mdc-outlined-button-outline-color: rgba(255, 255, 255, .12)}.mat-mdc-outlined-button.mat-unthemed[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color: #fff}.mat-mdc-outlined-button.mat-primary[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color: #9e9e9e}.mat-mdc-outlined-button.mat-accent[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color: #ff4081}.mat-mdc-outlined-button.mat-warn[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color: #f44336}.mat-mdc-outlined-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color: rgba(255, 255, 255, .5);--mdc-outlined-button-disabled-label-text-color: rgba(255, 255, 255, .5);--mdc-outlined-button-outline-color: rgba(255, 255, 255, .12);--mdc-outlined-button-disabled-outline-color: rgba(255, 255, 255, .12)}.mat-mdc-button[_ngcontent-%COMP%], .mat-mdc-outlined-button[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-outlined-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.08}.mat-mdc-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-outlined-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-outlined-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-outlined-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-button.mat-primary[_ngcontent-%COMP%], .mat-mdc-outlined-button.mat-primary[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #9e9e9e;--mat-mdc-button-ripple-color: rgba(158, 158, 158, .1)}.mat-mdc-button.mat-accent[_ngcontent-%COMP%], .mat-mdc-outlined-button.mat-accent[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #ff4081;--mat-mdc-button-ripple-color: rgba(255, 64, 129, .1)}.mat-mdc-button.mat-warn[_ngcontent-%COMP%], .mat-mdc-outlined-button.mat-warn[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #f44336;--mat-mdc-button-ripple-color: rgba(244, 67, 54, .1)}.mat-mdc-raised-button[_ngcontent-%COMP%], .mat-mdc-unelevated-button[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-raised-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-unelevated-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.08}.mat-mdc-raised-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-raised-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-unelevated-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-unelevated-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-raised-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-unelevated-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%], .mat-mdc-unelevated-button.mat-primary[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #000;--mat-mdc-button-ripple-color: rgba(0, 0, 0, .1)}.mat-mdc-raised-button.mat-accent[_ngcontent-%COMP%], .mat-mdc-unelevated-button.mat-accent[_ngcontent-%COMP%], .mat-mdc-raised-button.mat-warn[_ngcontent-%COMP%], .mat-mdc-unelevated-button.mat-warn[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-button.mat-mdc-button-base[_ngcontent-%COMP%], .mat-mdc-raised-button.mat-mdc-button-base[_ngcontent-%COMP%], .mat-mdc-unelevated-button.mat-mdc-button-base[_ngcontent-%COMP%], .mat-mdc-outlined-button.mat-mdc-button-base[_ngcontent-%COMP%]{height:36px}.mat-mdc-icon-button[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #000;--mat-mdc-button-ripple-color: rgba(0, 0, 0, .1);--mdc-icon-button-icon-color: inherit;--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-icon-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.08}.mat-mdc-icon-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-icon-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-icon-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-icon-button.mat-primary[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #6200ee;--mat-mdc-button-ripple-color: rgba(98, 0, 238, .1)}.mat-mdc-icon-button.mat-accent[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #018786;--mat-mdc-button-ripple-color: rgba(1, 135, 134, .1)}.mat-mdc-icon-button.mat-warn[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #b00020;--mat-mdc-button-ripple-color: rgba(176, 0, 32, .1)}.mat-mdc-icon-button.mat-primary[_ngcontent-%COMP%]{--mdc-icon-button-icon-color: #9e9e9e;--mat-mdc-button-persistent-ripple-color: #9e9e9e;--mat-mdc-button-ripple-color: rgba(158, 158, 158, .1)}.mat-mdc-icon-button.mat-accent[_ngcontent-%COMP%]{--mdc-icon-button-icon-color: #ff4081;--mat-mdc-button-persistent-ripple-color: #ff4081;--mat-mdc-button-ripple-color: rgba(255, 64, 129, .1)}.mat-mdc-icon-button.mat-warn[_ngcontent-%COMP%]{--mdc-icon-button-icon-color: #f44336;--mat-mdc-button-persistent-ripple-color: #f44336;--mat-mdc-button-ripple-color: rgba(244, 67, 54, .1)}.mat-mdc-icon-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-icon-button-icon-color: rgba(255, 255, 255, .5);--mdc-icon-button-disabled-icon-color: rgba(255, 255, 255, .5)}.mat-mdc-icon-button.mat-mdc-button-base[_ngcontent-%COMP%]{--mdc-icon-button-state-layer-size: 48px;width:var(--mdc-icon-button-state-layer-size);height:var(--mdc-icon-button-state-layer-size);padding:12px}.mat-mdc-fab[_ngcontent-%COMP%], .mat-mdc-mini-fab[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-fab[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-mini-fab[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.08}.mat-mdc-fab.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-fab.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-mini-fab.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-mini-fab.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-fab[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-mini-fab[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-fab.mat-primary[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-primary[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #000;--mat-mdc-button-ripple-color: rgba(0, 0, 0, .1)}.mat-mdc-fab.mat-accent[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-accent[_ngcontent-%COMP%], .mat-mdc-fab.mat-warn[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-warn[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-fab[disabled][disabled][_ngcontent-%COMP%], .mat-mdc-mini-fab[disabled][disabled][_ngcontent-%COMP%]{--mdc-fab-container-color: rgba(255, 255, 255, .12);--mdc-fab-icon-color: rgba(255, 255, 255, .5);--mat-mdc-fab-color: rgba(255, 255, 255, .5)}.mat-mdc-fab.mat-unthemed[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-unthemed[_ngcontent-%COMP%]{--mdc-fab-container-color: #424242;--mdc-fab-icon-color: white;--mat-mdc-fab-color: #fff}.mat-mdc-fab.mat-primary[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-primary[_ngcontent-%COMP%]{--mdc-fab-container-color: #9e9e9e;--mdc-fab-icon-color: black;--mat-mdc-fab-color: #000}.mat-mdc-fab.mat-accent[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-accent[_ngcontent-%COMP%]{--mdc-fab-container-color: #ff4081;--mdc-fab-icon-color: white;--mat-mdc-fab-color: #fff}.mat-mdc-fab.mat-warn[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-warn[_ngcontent-%COMP%]{--mdc-fab-container-color: #f44336;--mdc-fab-icon-color: white;--mat-mdc-fab-color: #fff}.mat-mdc-snack-bar-container[_ngcontent-%COMP%]{--mdc-snackbar-container-color: #d9d9d9;--mdc-snackbar-supporting-text-color: rgba(66, 66, 66, .87);--mat-snack-bar-button-color: rgba(0, 0, 0, .87)}html[_ngcontent-%COMP%]{--mat-table-background-color: #424242;--mat-table-header-headline-color: white;--mat-table-row-item-label-text-color: white;--mat-table-row-item-outline-color: rgba(255, 255, 255, .12)}html[_ngcontent-%COMP%]{--mat-table-header-container-height: 56px;--mat-table-footer-container-height: 52px;--mat-table-row-item-container-height: 52px}.mat-mdc-progress-spinner[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color: #9e9e9e}.mat-mdc-progress-spinner.mat-accent[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color: #ff4081}.mat-mdc-progress-spinner.mat-warn[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color: #f44336}.mat-badge[_ngcontent-%COMP%]{position:relative}.mat-badge.mat-badge[_ngcontent-%COMP%]{overflow:visible}.mat-badge-content[_ngcontent-%COMP%]{position:absolute;text-align:center;display:inline-block;border-radius:50%;transition:transform .2s ease-in-out;transform:scale(.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;pointer-events:none;background-color:var(--mat-badge-background-color);color:var(--mat-badge-text-color);font-family:Roboto,sans-serif;font-family:var(--mat-badge-text-font, Roboto, sans-serif);font-size:12px;font-size:var(--mat-badge-text-size, 12px);font-weight:600;font-weight:var(--mat-badge-text-weight, 600)}.cdk-high-contrast-active[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{outline:solid 1px;border-radius:0}.mat-badge-disabled[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color)}.mat-badge-hidden[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{display:none}.ng-animate-disabled[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%], .mat-badge-content._mat-animation-noopable[_ngcontent-%COMP%]{transition:none}.mat-badge-content.mat-badge-active[_ngcontent-%COMP%]{transform:none}.mat-badge-small[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{width:16px;height:16px;line-height:16px;font-size:9px;font-size:var(--mat-badge-small-size-text-size, 9px)}.mat-badge-small.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-8px}.mat-badge-small.mat-badge-below[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{bottom:-8px}.mat-badge-small.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-16px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-small.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-16px}.mat-badge-small.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-16px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-small.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-16px}.mat-badge-small.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-8px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-small.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-8px}.mat-badge-small.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-8px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-small.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-8px}.mat-badge-medium[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{width:22px;height:22px;line-height:22px}.mat-badge-medium.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-11px}.mat-badge-medium.mat-badge-below[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{bottom:-11px}.mat-badge-medium.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-22px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-22px}.mat-badge-medium.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-22px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-22px}.mat-badge-medium.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-11px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-11px}.mat-badge-medium.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-11px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-11px}.mat-badge-large[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px;font-size:24px;font-size:var(--mat-badge-large-size-text-size, 24px)}.mat-badge-large.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-14px}.mat-badge-large.mat-badge-below[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{bottom:-14px}.mat-badge-large.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-28px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-large.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-28px}.mat-badge-large.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-28px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-large.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-28px}.mat-badge-large.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-14px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-large.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-14px}.mat-badge-large.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-14px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-large.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-14px}html[_ngcontent-%COMP%]{--mat-badge-background-color: #9e9e9e;--mat-badge-text-color: rgba(0, 0, 0, .87);--mat-badge-disabled-state-background-color: #6e6e6e;--mat-badge-disabled-state-text-color: rgba(255, 255, 255, .5)}.mat-badge-accent[_ngcontent-%COMP%]{--mat-badge-background-color: #ff4081;--mat-badge-text-color: white}.mat-badge-warn[_ngcontent-%COMP%]{--mat-badge-background-color: #f44336;--mat-badge-text-color: white}html[_ngcontent-%COMP%]{--mat-bottom-sheet-container-text-color: white;--mat-bottom-sheet-container-background-color: #424242}html[_ngcontent-%COMP%]{--mat-legacy-button-toggle-text-color: rgba(255, 255, 255, .5);--mat-legacy-button-toggle-state-layer-color: rgba(255, 255, 255, .12);--mat-legacy-button-toggle-selected-state-text-color: rgba(255, 255, 255, .7);--mat-legacy-button-toggle-selected-state-background-color: #212121;--mat-legacy-button-toggle-disabled-state-text-color: rgba(255, 255, 255, .3);--mat-legacy-button-toggle-disabled-state-background-color: black;--mat-legacy-button-toggle-disabled-selected-state-background-color: #424242;--mat-standard-button-toggle-text-color: white;--mat-standard-button-toggle-background-color: #424242;--mat-standard-button-toggle-state-layer-color: white;--mat-standard-button-toggle-selected-state-background-color: #212121;--mat-standard-button-toggle-selected-state-text-color: white;--mat-standard-button-toggle-disabled-state-text-color: rgba(255, 255, 255, .3);--mat-standard-button-toggle-disabled-state-background-color: #424242;--mat-standard-button-toggle-disabled-selected-state-text-color: white;--mat-standard-button-toggle-disabled-selected-state-background-color: #424242;--mat-standard-button-toggle-divider-color: #595959}html[_ngcontent-%COMP%]{--mat-standard-button-toggle-height: 48px}html[_ngcontent-%COMP%]{--mat-datepicker-calendar-date-selected-state-text-color: rgba(0, 0, 0, .87);--mat-datepicker-calendar-date-selected-state-background-color: #9e9e9e;--mat-datepicker-calendar-date-selected-disabled-state-background-color: rgba(158, 158, 158, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color: rgba(0, 0, 0, .87);--mat-datepicker-calendar-date-focus-state-background-color: rgba(158, 158, 158, .3);--mat-datepicker-calendar-date-hover-state-background-color: rgba(158, 158, 158, .3);--mat-datepicker-toggle-active-state-icon-color: #9e9e9e;--mat-datepicker-calendar-date-in-range-state-background-color: rgba(158, 158, 158, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color: rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color: #a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color: #46a35e;--mat-datepicker-toggle-icon-color: white;--mat-datepicker-calendar-body-label-text-color: rgba(255, 255, 255, .7);--mat-datepicker-calendar-period-button-icon-color: white;--mat-datepicker-calendar-navigation-button-icon-color: white;--mat-datepicker-calendar-header-divider-color: rgba(255, 255, 255, .12);--mat-datepicker-calendar-header-text-color: rgba(255, 255, 255, .7);--mat-datepicker-calendar-date-today-outline-color: rgba(255, 255, 255, .5);--mat-datepicker-calendar-date-today-disabled-state-outline-color: rgba(255, 255, 255, .3);--mat-datepicker-calendar-date-text-color: white;--mat-datepicker-calendar-date-outline-color: transparent;--mat-datepicker-calendar-date-disabled-state-text-color: rgba(255, 255, 255, .5);--mat-datepicker-calendar-date-preview-state-outline-color: rgba(255, 255, 255, .24);--mat-datepicker-range-input-separator-color: white;--mat-datepicker-range-input-disabled-state-separator-color: rgba(255, 255, 255, .5);--mat-datepicker-range-input-disabled-state-text-color: rgba(255, 255, 255, .5);--mat-datepicker-calendar-container-background-color: #424242;--mat-datepicker-calendar-container-text-color: white}.mat-datepicker-content.mat-accent[_ngcontent-%COMP%]{--mat-datepicker-calendar-date-selected-state-text-color: white;--mat-datepicker-calendar-date-selected-state-background-color: #ff4081;--mat-datepicker-calendar-date-selected-disabled-state-background-color: rgba(255, 64, 129, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color: white;--mat-datepicker-calendar-date-focus-state-background-color: rgba(255, 64, 129, .3);--mat-datepicker-calendar-date-hover-state-background-color: rgba(255, 64, 129, .3);--mat-datepicker-calendar-date-in-range-state-background-color: rgba(255, 64, 129, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color: rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color: #a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color: #46a35e}.mat-datepicker-content.mat-warn[_ngcontent-%COMP%]{--mat-datepicker-calendar-date-selected-state-text-color: white;--mat-datepicker-calendar-date-selected-state-background-color: #f44336;--mat-datepicker-calendar-date-selected-disabled-state-background-color: rgba(244, 67, 54, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color: white;--mat-datepicker-calendar-date-focus-state-background-color: rgba(244, 67, 54, .3);--mat-datepicker-calendar-date-hover-state-background-color: rgba(244, 67, 54, .3);--mat-datepicker-calendar-date-in-range-state-background-color: rgba(244, 67, 54, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color: rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color: #a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color: #46a35e}.mat-datepicker-toggle-active.mat-accent[_ngcontent-%COMP%]{--mat-datepicker-toggle-active-state-icon-color: #ff4081}.mat-datepicker-toggle-active.mat-warn[_ngcontent-%COMP%]{--mat-datepicker-toggle-active-state-icon-color: #f44336}.mat-calendar-controls[_ngcontent-%COMP%]   .mat-mdc-icon-button.mat-mdc-button-base[_ngcontent-%COMP%]{--mdc-icon-button-state-layer-size: 40px;width:var(--mdc-icon-button-state-layer-size);height:var(--mdc-icon-button-state-layer-size);padding:8px}.mat-calendar-controls[_ngcontent-%COMP%]   .mat-mdc-icon-button.mat-mdc-button-base[_ngcontent-%COMP%]   .mat-mdc-button-touch-target[_ngcontent-%COMP%]{display:none}html[_ngcontent-%COMP%]{--mat-divider-color: rgba(255, 255, 255, .12)}html[_ngcontent-%COMP%]{--mat-expansion-container-background-color: #424242;--mat-expansion-container-text-color: white;--mat-expansion-actions-divider-color: rgba(255, 255, 255, .12);--mat-expansion-header-hover-state-layer-color: rgba(255, 255, 255, .04);--mat-expansion-header-focus-state-layer-color: rgba(255, 255, 255, .04);--mat-expansion-header-disabled-state-text-color: rgba(255, 255, 255, .3);--mat-expansion-header-text-color: white;--mat-expansion-header-description-color: rgba(255, 255, 255, .7);--mat-expansion-header-indicator-color: rgba(255, 255, 255, .7)}html[_ngcontent-%COMP%]{--mat-expansion-header-collapsed-state-height: 48px;--mat-expansion-header-expanded-state-height: 64px}html[_ngcontent-%COMP%]{--mat-icon-color: inherit}.mat-icon.mat-primary[_ngcontent-%COMP%]{--mat-icon-color: #9e9e9e}.mat-icon.mat-accent[_ngcontent-%COMP%]{--mat-icon-color: #ff4081}.mat-icon.mat-warn[_ngcontent-%COMP%]{--mat-icon-color: #f44336}html[_ngcontent-%COMP%]{--mat-sidenav-container-divider-color: rgba(255, 255, 255, .12);--mat-sidenav-container-background-color: #424242;--mat-sidenav-container-text-color: white;--mat-sidenav-content-background-color: #303030;--mat-sidenav-content-text-color: white;--mat-sidenav-scrim-color: rgba(189, 189, 189, .6)}html[_ngcontent-%COMP%]{--mat-stepper-header-icon-foreground-color: rgba(0, 0, 0, .87);--mat-stepper-header-selected-state-icon-background-color: #9e9e9e;--mat-stepper-header-selected-state-icon-foreground-color: rgba(0, 0, 0, .87);--mat-stepper-header-done-state-icon-background-color: #9e9e9e;--mat-stepper-header-done-state-icon-foreground-color: rgba(0, 0, 0, .87);--mat-stepper-header-edit-state-icon-background-color: #9e9e9e;--mat-stepper-header-edit-state-icon-foreground-color: rgba(0, 0, 0, .87);--mat-stepper-container-color: #424242;--mat-stepper-line-color: rgba(255, 255, 255, .12);--mat-stepper-header-hover-state-layer-color: rgba(255, 255, 255, .04);--mat-stepper-header-focus-state-layer-color: rgba(255, 255, 255, .04);--mat-stepper-header-label-text-color: rgba(255, 255, 255, .7);--mat-stepper-header-optional-label-text-color: rgba(255, 255, 255, .7);--mat-stepper-header-selected-state-label-text-color: white;--mat-stepper-header-error-state-label-text-color: #f44336;--mat-stepper-header-icon-background-color: rgba(255, 255, 255, .7);--mat-stepper-header-error-state-icon-foreground-color: #f44336;--mat-stepper-header-error-state-icon-background-color: transparent}html[_ngcontent-%COMP%]   .mat-step-header.mat-accent[_ngcontent-%COMP%]{--mat-stepper-header-icon-foreground-color: white;--mat-stepper-header-selected-state-icon-background-color: #ff4081;--mat-stepper-header-selected-state-icon-foreground-color: white;--mat-stepper-header-done-state-icon-background-color: #ff4081;--mat-stepper-header-done-state-icon-foreground-color: white;--mat-stepper-header-edit-state-icon-background-color: #ff4081;--mat-stepper-header-edit-state-icon-foreground-color: white}html[_ngcontent-%COMP%]   .mat-step-header.mat-warn[_ngcontent-%COMP%]{--mat-stepper-header-icon-foreground-color: white;--mat-stepper-header-selected-state-icon-background-color: #f44336;--mat-stepper-header-selected-state-icon-foreground-color: white;--mat-stepper-header-done-state-icon-background-color: #f44336;--mat-stepper-header-done-state-icon-foreground-color: white;--mat-stepper-header-edit-state-icon-background-color: #f44336;--mat-stepper-header-edit-state-icon-foreground-color: white}html[_ngcontent-%COMP%]{--mat-stepper-header-height: 72px}.mat-sort-header-arrow[_ngcontent-%COMP%]{color:#c6c6c6}html[_ngcontent-%COMP%]{--mat-toolbar-container-background-color: #212121;--mat-toolbar-container-text-color: white}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{--mat-toolbar-container-background-color: #9e9e9e;--mat-toolbar-container-text-color: rgba(0, 0, 0, .87)}.mat-toolbar.mat-accent[_ngcontent-%COMP%]{--mat-toolbar-container-background-color: #ff4081;--mat-toolbar-container-text-color: white}.mat-toolbar.mat-warn[_ngcontent-%COMP%]{--mat-toolbar-container-background-color: #f44336;--mat-toolbar-container-text-color: white}html[_ngcontent-%COMP%]{--mat-toolbar-standard-height: 64px;--mat-toolbar-mobile-height: 56px}.mat-tree[_ngcontent-%COMP%]{background:#424242}.mat-tree-node[_ngcontent-%COMP%], .mat-nested-tree-node[_ngcontent-%COMP%]{color:#fff}.mat-tree-node[_ngcontent-%COMP%]{min-height:48px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;height:7px;overflow-y:scroll;background:rgba(158,158,158,.1);box-shadow:inset 0 0 4px #707070}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #9e9e9e33;border-radius:2px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(158,158,158,.5);border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9e9e9e}mat-card[_ngcontent-%COMP%]{text-align:center;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;height:250px;padding:20px;cursor:pointer}mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 13px -6px #0003,0 20px 31px 3px #00000024,0 8px 38px 7px #0000001f}mat-card[_ngcontent-%COMP%]:hover   mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{visibility:visible}mat-card[_ngcontent-%COMP%]:active{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}mat-card-title[_ngcontent-%COMP%]{white-space:nowrap}mat-card-header[_ngcontent-%COMP%]{overflow:hidden;width:100%}.description[_ngcontent-%COMP%]{overflow:hidden;padding:5px;font-size:small}mat-card-content[_ngcontent-%COMP%]{padding-top:10px;width:100%;background:rgba(238,238,238,0)}.mat-mdc-card-header[_ngcontent-%COMP%]{padding:0}.delete[_ngcontent-%COMP%]{visibility:hidden;position:absolute;top:5px;right:5px;z-index:1}.delete[_ngcontent-%COMP%]:hover{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}"],data:{animation:[Ss("enterLeaveTrigger",[Yi(":enter",[Nn({opacity:0}),$i("200ms",Nn({opacity:1}))])]),Ss("itemState",[Mr(fa.warn,Nn({background:"red",opacity:.2})),Mr(fa.deleted,Nn({background:"red",opacity:0})),Yi("* -> "+fa.deleted,[$i("0ms",Nn({opacity:1,background:"red"})),$i("600ms",Nn({opacity:0}))]),Yi("* -> "+fa.clicked,[$i("70ms",Nn({transform:"scale(0.9)"}))])])]}})}return n})();function Nwe(n,t){if(1&n){const e=qo();he(0,"div",2)(1,"app-manager-list-item",3),Rt("loadingEvent",function(r){return zi(e),Hi(zt().loadingEvent.emit(r))})("reloadRequired",function(){return zi(e),Hi(zt().refresh())}),ae()()}if(2&n){const e=t.$implicit;Ge("fxFlex",100/zt().gridColumns+"%"),et(1),Ge("item",e)}}let Bwe=(()=>{class n{constructor(e){this.diagramService=e,this.gridColumns=3,this.items=[],this.loadingEvent=new Mt}ngOnInit(){this.refresh()}toggleGridColumns(){this.gridColumns=3===this.gridColumns?4:3}refresh(){this.loadingEvent.emit(!0),this.diagramService.list().then(e=>{this.items=e,this.loadingEvent.emit(!1)})}static#e=this.\u0275fac=function(i){return new(i||n)(D(rg))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-manager-list"]],outputs:{loadingEvent:"loadingEvent"},decls:2,vars:1,consts:[["fxLayout","row wrap","fxLayoutGap","16px grid",1,"content"],["class","list-item","fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex",4,"ngFor","ngForOf"],["fxFlex.xs","100%","fxFlex.sm","33%",1,"list-item",3,"fxFlex"],[3,"item","loadingEvent","reloadRequired"]],template:function(i,r){1&i&&(he(0,"div",0),Ot(1,Nwe,2,2,"div",1),ae()),2&i&&(et(1),Ge("ngForOf",r.items))},dependencies:[Du,Zb,D5,qp,Fwe],styles:[".content[_ngcontent-%COMP%]{padding:16px;width:100%}.list-item[_ngcontent-%COMP%]{min-width:250px}"]})}return n})();function Uwe(n,t){1&n&&(he(0,"mat-error"),re(1,"The name is mandatory and length should be 3-50 characters."),ae())}function Vwe(n,t){1&n&&(he(0,"mat-error"),re(1,"The max length is 100 characters"),ae())}function zwe(n,t){if(1&n&&(he(0,"mat-option",11),re(1),ae()),2&n){const e=t.$implicit;Ge("value",e),et(1),Zo(e.name)}}let Hwe=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.templateService=r}ngOnInit(){this.templates=this.templateService.getTemplateList(),this.form=new Ou({name:new Dc("",[Iu.required,Iu.minLength(3),Iu.max(50)]),description:new Dc("",[Iu.maxLength(100)]),template:new Dc})}onSubmit(){this.dialogRef.close(this.form.getRawValue())}get name(){return this.getFormControl("name")}get description(){return this.getFormControl("description")}get template(){return this.getFormControl("template")}getFormControl(e){const i=this.form.get(e);if(!i)throw new Error("Unable to find control by name: "+e);return i}static#e=this.\u0275fac=function(i){return new(i||n)(D(cf),D(O0),D(ng))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-new-diagram-dialog"]],decls:28,vars:5,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],["mat-dialog-content",""],["matInput","","formControlName","name"],[4,"ngIf"],["matInput","","formControlName","description"],["formControlName","template"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","","type","submit",3,"disabled"],["mat-button","","mat-dialog-close",""],[3,"value"]],template:function(i,r){1&i&&(he(0,"form",0),Rt("ngSubmit",function(){return r.onSubmit()}),he(1,"h1",1),re(2,"New Diagram"),ae(),he(3,"div",2)(4,"p"),re(5,"Please provide basic information"),ae(),he(6,"mat-form-field")(7,"mat-label"),re(8,"Diagram name"),ae(),wn(9,"input",3),Ot(10,Uwe,2,0,"mat-error",4),ae(),he(11,"mat-form-field")(12,"mat-label"),re(13,"Diagram description"),ae(),wn(14,"textarea",5),Ot(15,Vwe,2,0,"mat-error",4),ae(),he(16,"mat-form-field")(17,"mat-label"),re(18,"Template"),ae(),he(19,"mat-select",6)(20,"mat-option"),re(21,"None"),ae(),Ot(22,zwe,2,2,"mat-option",7),ae()()(),he(23,"div",8)(24,"button",9),re(25,"Create"),ae(),he(26,"button",10),re(27,"Cancel"),ae()()()),2&i&&(Ge("formGroup",r.form),et(10),Ge("ngIf",r.name.invalid),et(5),Ge("ngIf",r.description.invalid),et(7),Ge("ngForOf",r.templates),et(2),Ge("disabled",!r.form.valid))},dependencies:[Du,sr,Bl,cE,nE,rm,I3,cb,yp,uM,J_,qA,ZA,KA,QA,Ml,lb,M3,Gxe],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return n})(),Gwe=(()=>{class n{constructor(e,i,r,o,s){this.auth=e,this.dialog=i,this.diagramService=r,this.router=o,this.templateService=s,this.loadingEvent=new Mt}ngOnInit(){}createNewDiagram(){this.dialog.open(Hwe,{width:"350px",data:{}}).afterClosed().subscribe(i=>{i&&(this.loadingEvent.emit(!0),this.diagramService.create(i).then(r=>{this.router.navigate(["/editor",r.id]),this.loadingEvent.emit(!1)}))})}static#e=this.\u0275fac=function(i){return new(i||n)(D(Lu),D(lf),D(rg),D(Br),D(ng))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-manager-panel"]],outputs:{loadingEvent:"loadingEvent"},decls:10,vars:1,consts:[["fxFlex","10",1,"logo"],["fxFlex","70",1,"actions"],["mat-raised-button","","color","primary",3,"click"],["fxFlex","10"],["matInput","","readonly","",3,"value"]],template:function(i,r){1&i&&(he(0,"div",0),re(1,"Vect"),ae(),he(2,"div",1)(3,"button",2),Rt("click",function(){return r.createNewDiagram()}),re(4,"Create New Diagram"),ae()(),he(5,"form",3)(6,"mat-form-field")(7,"mat-label"),re(8,"User Name"),ae(),wn(9,"input",4),ae()()),2&i&&(et(9),Ge("value",r.auth.name))},dependencies:[qp,Bl,cE,nE,rm,cb,J_,Ru],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:50px;height:100%}.mat-form-field[_ngcontent-%COMP%]{width:100%}.logo[_ngcontent-%COMP%]{font-size:xxx-large;margin-bottom:70px}.actions[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{width:100%}"]})}return n})();function jwe(n,t){1&n&&wn(0,"mat-progress-bar",5)}let Wwe=(()=>{class n{constructor(){this.loading=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-manager-home"]],decls:7,vars:1,consts:[[1,"container"],["mode","side","opened",""],[3,"loadingEvent"],[1,"progress"],["mode","indeterminate",4,"ngIf"],["mode","indeterminate"]],template:function(i,r){1&i&&(he(0,"mat-drawer-container",0)(1,"mat-drawer",1)(2,"app-manager-panel",2),Rt("loadingEvent",function(s){return r.loading=s}),ae()(),he(3,"mat-drawer-content")(4,"div",3),Ot(5,jwe,1,0,"mat-progress-bar",4),ae(),he(6,"app-manager-list",2),Rt("loadingEvent",function(s){return r.loading=s}),ae()()()),2&i&&(et(5),Ge("ngIf",r.loading))},dependencies:[sr,uE,hE,lm,HA,Bwe,Gwe],styles:[".container[_ngcontent-%COMP%]{width:100%;height:100%}.mat-drawer[_ngcontent-%COMP%]{width:500px}.progress[_ngcontent-%COMP%]{height:10px}"]})}return n})(),aT=(()=>{class n{constructor(e){this.authService=e,console.log("LoggedInGuard.constructor")}canActivate(){var e=this;return Qn(function*(){const i=e.authService.checkIfUserAuthenticated();return console.log("LoggedInGuard.canActivate",i),i})()}static#e=this.\u0275fac=function(i){return new(i||n)(le(Lu))};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})(),A8=(()=>{class n{canDeactivate(e){return!!e.canDeactivate()||confirm("WARNING: You have unsaved changes. Press Cancel to go back and save these changes, or OK to lose these changes.")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Fe({token:n,factory:n.\u0275fac})}return n})();const T8=["*"];class Ywe{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new Xwe(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class Xwe{constructor(t,e){this.row=t,this.col=e}}const D8=new qe("MAT_GRID_LIST");let I8=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Sr(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Sr(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(D8,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(i,r){2&i&&Wn("rowspan",r.rowspan)("colspan",r.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:T8,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(i,r){1&i&&(Sn(),he(0,"div",0),$t(1),ae())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}return n})();const qwe=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class cT{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=P8(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":Sd(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,r,o),this.setRowStyles(t,e,r,o)}setColStyles(t,e,i,r){let o=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),t._setStyle("width",Sd(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class Zwe extends cT{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=P8(this.fixedRowHeight),qwe.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Sd(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Sd(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class Kwe extends cT{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Sd(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Sd(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class Qwe extends cT{setRowStyles(t,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",Sd(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Sd(n){return`calc(${n})`}function P8(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let eCe=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Sr(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new Qwe:e&&e.indexOf(":")>-1?new Kwe(e):new Zwe(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Ywe);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((o,s)=>{const a=e.positions[s];this._tileStyler.setStyle(o,a.row,a.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}static#e=this.\u0275fac=function(i){return new(i||n)(D(vt),D(Er,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-grid-list"]],contentQueries:function(i,r,o){if(1&i&&Ti(o,I8,5),2&i){let s;Ht(s=Gt())&&(r._tiles=s)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(i,r){2&i&&Wn("cols",r.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[Ut([{provide:D8,useExisting:n}])],ngContentSelectors:T8,decls:2,vars:0,template:function(i,r){1&i&&(Sn(),he(0,"div"),$t(1),ae())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0})}return n})(),tCe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[m3,Vn,m3,Vn]})}return n})();const nCe=[{path:"login",component:(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.authenticated=new Mt,this.userAuthenticated=this.userAuthenticated.bind(this),this.authenticated.subscribe({next:r=>this.userAuthenticated(r),error:r=>console.error("Authentication error ",r)})}userAuthenticated(e){console.log("LoginHomeComponent.userAuthenticated",e),this.gotoDefault()}gotoDefault(){this.router.navigate(["/manager"])}ngOnInit(){console.log("LoginHomeComponent.ngOnInit"),this.authService.checkIfUserAuthenticated()?this.gotoDefault():this.authService.initialize(this.authenticated)}handleAuthClick(){var e=this;return Qn(function*(){e.authService.handleAuthClick()})()}static#e=this.\u0275fac=function(i){return new(i||n)(D(Lu),D(Br))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-login-home"]],outputs:{authenticated:"authenticated"},decls:13,vars:1,consts:[["cols","1","rowHeight","100%",1,"grid"],[1,"card"],["align","end"],["mat-button","","color","accent","mat-raised-button","",3,"autofocus","click"],["btnFocus","matButton"]],template:function(i,r){if(1&i&&(he(0,"mat-grid-list",0)(1,"mat-grid-tile")(2,"mat-card",1)(3,"mat-card-header")(4,"mat-card-title"),re(5,"Vect Login"),ae()(),he(6,"mat-card-content")(7,"p"),re(8," Diagrams are stored on your personal Google drive (in /vect folder). Please login to Google account to continue. "),ae()(),he(9,"mat-card-actions",2)(10,"button",3,4),Rt("click",function(){return r.handleAuthClick()}),re(12,"Google Login"),ae()()()()()),2&i){const o=ys(11);et(10),Ge("autofocus",o.focus())}},dependencies:[eCe,I8,iT,S8,oT,sT,rT,Bl],styles:[".mat-ripple[_ngcontent-%COMP%]{overflow:hidden;position:relative}.mat-ripple[_ngcontent-%COMP%]:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded[_ngcontent-%COMP%]{overflow:visible}.mat-ripple-element[_ngcontent-%COMP%]{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0,0,.2,1);transform:scale3d(0,0,0)}.cdk-high-contrast-active[_ngcontent-%COMP%]   .mat-ripple-element[_ngcontent-%COMP%]{display:none}.cdk-visually-hidden[_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl][_ngcontent-%COMP%]   .cdk-visually-hidden[_ngcontent-%COMP%]{left:auto;right:0}.cdk-overlay-container[_ngcontent-%COMP%], .cdk-global-overlay-wrapper[_ngcontent-%COMP%]{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container[_ngcontent-%COMP%]{position:fixed;z-index:1000}.cdk-overlay-container[_ngcontent-%COMP%]:empty{display:none}.cdk-global-overlay-wrapper[_ngcontent-%COMP%]{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane[_ngcontent-%COMP%]{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:1}.cdk-high-contrast-active[_ngcontent-%COMP%]   .cdk-overlay-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:.6}.cdk-overlay-dark-backdrop[_ngcontent-%COMP%]{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop[_ngcontent-%COMP%]{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing[_ngcontent-%COMP%]{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation[_ngcontent-%COMP%]{transition:none}.cdk-overlay-connected-position-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock[_ngcontent-%COMP%]{position:fixed;width:100%;overflow-y:scroll}textarea.cdk-textarea-autosize[_ngcontent-%COMP%]{resize:none}textarea.cdk-textarea-autosize-measuring[_ngcontent-%COMP%]{padding:2px 0!important;box-sizing:content-box!important;height:auto!important;overflow:hidden!important}textarea.cdk-textarea-autosize-measuring-firefox[_ngcontent-%COMP%]{padding:2px 0!important;box-sizing:content-box!important;height:0!important}@keyframes _ngcontent-%COMP%_cdk-text-field-autofill-start{}@keyframes _ngcontent-%COMP%_cdk-text-field-autofill-end{}.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:-webkit-autofill{animation:_ngcontent-%COMP%_cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored[_ngcontent-%COMP%]:not(:-webkit-autofill){animation:_ngcontent-%COMP%_cdk-text-field-autofill-end 0s 1ms}.mat-focus-indicator[_ngcontent-%COMP%]{position:relative}.mat-focus-indicator[_ngcontent-%COMP%]:before{inset:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border:var(--mat-focus-indicator-border-width, 3px) var(--mat-focus-indicator-border-style, solid) var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator[_ngcontent-%COMP%]:focus:before{content:\"\"}.cdk-high-contrast-active[_ngcontent-%COMP%]{--mat-focus-indicator-display: block}.mat-mdc-focus-indicator[_ngcontent-%COMP%]{position:relative}.mat-mdc-focus-indicator[_ngcontent-%COMP%]:before{inset:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-mdc-focus-indicator-display, none);border:var(--mat-mdc-focus-indicator-border-width, 3px) var(--mat-mdc-focus-indicator-border-style, solid) var(--mat-mdc-focus-indicator-border-color, transparent);border-radius:var(--mat-mdc-focus-indicator-border-radius, 4px)}.mat-mdc-focus-indicator[_ngcontent-%COMP%]:focus:before{content:\"\"}.cdk-high-contrast-active[_ngcontent-%COMP%]{--mat-mdc-focus-indicator-display: block}.mat-ripple-element[_ngcontent-%COMP%]{background-color:#ffffff1a}html[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: #9e9e9e;--mat-option-label-text-color: white;--mat-option-hover-state-layer-color: rgba(255, 255, 255, .08);--mat-option-focus-state-layer-color: rgba(255, 255, 255, .08);--mat-option-selected-state-layer-color: rgba(255, 255, 255, .08)}.mat-accent[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: #ff4081}.mat-warn[_ngcontent-%COMP%]{--mat-option-selected-state-label-text-color: #f44336}html[_ngcontent-%COMP%]{--mat-optgroup-label-text-color: white}.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{color:#ffffffb3}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled[_ngcontent-%COMP%]{color:#686868}.mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#9e9e9e}.mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#9e9e9e}.mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after, .mat-primary[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after{color:#303030}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#ff4081}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#ff4081}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after, .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after{color:#303030}.mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#ff4081}.mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#ff4081}.mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after, .mat-accent[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after{color:#303030}.mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#f44336}.mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#f44336}.mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after, .mat-warn[_ngcontent-%COMP%]   .mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]:after{color:#303030}.mat-pseudo-checkbox-disabled.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after, .mat-pseudo-checkbox-disabled.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-minimal[_ngcontent-%COMP%]:after{color:#686868}.mat-pseudo-checkbox-disabled.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-full[_ngcontent-%COMP%], .mat-pseudo-checkbox-disabled.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-full[_ngcontent-%COMP%]{background:#686868}.mat-app-background[_ngcontent-%COMP%]{background-color:#303030;color:#fff}.mat-elevation-z0[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z0[_ngcontent-%COMP%]{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-elevation-z1[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z1[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-elevation-z2[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z2[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-elevation-z3[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z3[_ngcontent-%COMP%]{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-elevation-z4[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z4[_ngcontent-%COMP%]{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-elevation-z5[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z5[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.mat-elevation-z6[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z6[_ngcontent-%COMP%]{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-elevation-z7[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z7[_ngcontent-%COMP%]{box-shadow:0 4px 5px -2px #0003,0 7px 10px 1px #00000024,0 2px 16px 1px #0000001f}.mat-elevation-z8[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-elevation-z9[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z9[_ngcontent-%COMP%]{box-shadow:0 5px 6px -3px #0003,0 9px 12px 1px #00000024,0 3px 16px 2px #0000001f}.mat-elevation-z10[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z10[_ngcontent-%COMP%]{box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.mat-elevation-z11[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z11[_ngcontent-%COMP%]{box-shadow:0 6px 7px -4px #0003,0 11px 15px 1px #00000024,0 4px 20px 3px #0000001f}.mat-elevation-z12[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z12[_ngcontent-%COMP%]{box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-elevation-z13[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z13[_ngcontent-%COMP%]{box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f}.mat-elevation-z14[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z14[_ngcontent-%COMP%]{box-shadow:0 7px 9px -4px #0003,0 14px 21px 2px #00000024,0 5px 26px 4px #0000001f}.mat-elevation-z15[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z15[_ngcontent-%COMP%]{box-shadow:0 8px 9px -5px #0003,0 15px 22px 2px #00000024,0 6px 28px 5px #0000001f}.mat-elevation-z16[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z16[_ngcontent-%COMP%]{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-elevation-z17[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z17[_ngcontent-%COMP%]{box-shadow:0 8px 11px -5px #0003,0 17px 26px 2px #00000024,0 6px 32px 5px #0000001f}.mat-elevation-z18[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z18[_ngcontent-%COMP%]{box-shadow:0 9px 11px -5px #0003,0 18px 28px 2px #00000024,0 7px 34px 6px #0000001f}.mat-elevation-z19[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z19[_ngcontent-%COMP%]{box-shadow:0 9px 12px -6px #0003,0 19px 29px 2px #00000024,0 7px 36px 6px #0000001f}.mat-elevation-z20[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z20[_ngcontent-%COMP%]{box-shadow:0 10px 13px -6px #0003,0 20px 31px 3px #00000024,0 8px 38px 7px #0000001f}.mat-elevation-z21[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z21[_ngcontent-%COMP%]{box-shadow:0 10px 13px -6px #0003,0 21px 33px 3px #00000024,0 8px 40px 7px #0000001f}.mat-elevation-z22[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z22[_ngcontent-%COMP%]{box-shadow:0 10px 14px -6px #0003,0 22px 35px 3px #00000024,0 8px 42px 7px #0000001f}.mat-elevation-z23[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z23[_ngcontent-%COMP%]{box-shadow:0 11px 14px -7px #0003,0 23px 36px 3px #00000024,0 9px 44px 8px #0000001f}.mat-elevation-z24[_ngcontent-%COMP%], .mat-mdc-elevation-specific.mat-elevation-z24[_ngcontent-%COMP%]{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-theme-loaded-marker[_ngcontent-%COMP%]{display:none}.mat-mdc-card[_ngcontent-%COMP%]{--mdc-elevated-card-container-color: #424242;--mdc-elevated-card-container-elevation: 0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12);--mdc-outlined-card-container-color: #424242;--mdc-outlined-card-outline-color: rgba(255, 255, 255, .12);--mdc-outlined-card-container-elevation: 0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12);--mat-card-subtitle-text-color: rgba(255, 255, 255, .7)}.mat-mdc-progress-bar[_ngcontent-%COMP%]{--mdc-linear-progress-active-indicator-color: #9e9e9e;--mdc-linear-progress-track-color: rgba(158, 158, 158, .25)}.mat-mdc-progress-bar[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:#9e9e9e40;background-color:var(--mdc-linear-progress-track-color, rgba(158, 158, 158, .25))}@media (forced-colors: active){.mat-mdc-progress-bar[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mat-mdc-progress-bar[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:transparent;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(158, 158, 158, 0.25)'/%3E%3C/svg%3E\")}}.mat-mdc-progress-bar[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-bar[_ngcontent-%COMP%]{background-color:#9e9e9e40;background-color:var(--mdc-linear-progress-track-color, rgba(158, 158, 158, .25))}.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]{--mdc-linear-progress-active-indicator-color: #ff4081;--mdc-linear-progress-track-color: rgba(255, 64, 129, .25)}.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:#ff408140;background-color:var(--mdc-linear-progress-track-color, rgba(255, 64, 129, .25))}@media (forced-colors: active){.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:transparent;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(255, 64, 129, 0.25)'/%3E%3C/svg%3E\")}}.mat-mdc-progress-bar.mat-accent[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-bar[_ngcontent-%COMP%]{background-color:#ff408140;background-color:var(--mdc-linear-progress-track-color, rgba(255, 64, 129, .25))}.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]{--mdc-linear-progress-active-indicator-color: #f44336;--mdc-linear-progress-track-color: rgba(244, 67, 54, .25)}@keyframes _ngcontent-%COMP%_mdc-linear-progress-buffering{}.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:#f4433640;background-color:var(--mdc-linear-progress-track-color, rgba(244, 67, 54, .25))}@media (forced-colors: active){.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:ButtonBorder}}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-dots[_ngcontent-%COMP%]{background-color:transparent;background-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='rgba(244, 67, 54, 0.25)'/%3E%3C/svg%3E\")}}.mat-mdc-progress-bar.mat-warn[_ngcontent-%COMP%]   .mdc-linear-progress__buffer-bar[_ngcontent-%COMP%]{background-color:#f4433640;background-color:var(--mdc-linear-progress-track-color, rgba(244, 67, 54, .25))}.mat-mdc-tooltip[_ngcontent-%COMP%]{--mdc-plain-tooltip-container-color: #616161;--mdc-plain-tooltip-supporting-text-color: #fff}html[_ngcontent-%COMP%]{--mdc-filled-text-field-caret-color: #9e9e9e;--mdc-filled-text-field-focus-active-indicator-color: #9e9e9e;--mdc-filled-text-field-focus-label-text-color: rgba(158, 158, 158, .87);--mdc-filled-text-field-container-color: #4a4a4a;--mdc-filled-text-field-disabled-container-color: #464646;--mdc-filled-text-field-label-text-color: rgba(255, 255, 255, .6);--mdc-filled-text-field-disabled-label-text-color: rgba(255, 255, 255, .38);--mdc-filled-text-field-input-text-color: rgba(255, 255, 255, .87);--mdc-filled-text-field-disabled-input-text-color: rgba(255, 255, 255, .38);--mdc-filled-text-field-input-text-placeholder-color: rgba(255, 255, 255, .6);--mdc-filled-text-field-error-focus-label-text-color: #f44336;--mdc-filled-text-field-error-label-text-color: #f44336;--mdc-filled-text-field-error-caret-color: #f44336;--mdc-filled-text-field-active-indicator-color: rgba(255, 255, 255, .42);--mdc-filled-text-field-disabled-active-indicator-color: rgba(255, 255, 255, .06);--mdc-filled-text-field-hover-active-indicator-color: rgba(255, 255, 255, .87);--mdc-filled-text-field-error-active-indicator-color: #f44336;--mdc-filled-text-field-error-focus-active-indicator-color: #f44336;--mdc-filled-text-field-error-hover-active-indicator-color: #f44336;--mdc-outlined-text-field-caret-color: #9e9e9e;--mdc-outlined-text-field-focus-outline-color: #9e9e9e;--mdc-outlined-text-field-focus-label-text-color: rgba(158, 158, 158, .87);--mdc-outlined-text-field-label-text-color: rgba(255, 255, 255, .6);--mdc-outlined-text-field-disabled-label-text-color: rgba(255, 255, 255, .38);--mdc-outlined-text-field-input-text-color: rgba(255, 255, 255, .87);--mdc-outlined-text-field-disabled-input-text-color: rgba(255, 255, 255, .38);--mdc-outlined-text-field-input-text-placeholder-color: rgba(255, 255, 255, .6);--mdc-outlined-text-field-error-caret-color: #f44336;--mdc-outlined-text-field-error-focus-label-text-color: #f44336;--mdc-outlined-text-field-error-label-text-color: #f44336;--mdc-outlined-text-field-outline-color: rgba(255, 255, 255, .38);--mdc-outlined-text-field-disabled-outline-color: rgba(255, 255, 255, .06);--mdc-outlined-text-field-hover-outline-color: rgba(255, 255, 255, .87);--mdc-outlined-text-field-error-focus-outline-color: #f44336;--mdc-outlined-text-field-error-hover-outline-color: #f44336;--mdc-outlined-text-field-error-outline-color: #f44336;--mat-form-field-disabled-input-text-placeholder-color: rgba(255, 255, 255, .38)}.mat-mdc-form-field-error[_ngcontent-%COMP%]{color:var(--mdc-theme-error, #f44336)}.mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%], .mat-mdc-form-field-bottom-align[_ngcontent-%COMP%]:before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{background-color:#ffffffde}.mat-mdc-form-field[_ngcontent-%COMP%]:hover   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{opacity:.08}.mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{opacity:.24}select.mat-mdc-form-field-input-control[_ngcontent-%COMP%]:not(.mat-mdc-native-select-inline)   option[_ngcontent-%COMP%]{color:#000000de}select.mat-mdc-form-field-input-control[_ngcontent-%COMP%]:not(.mat-mdc-native-select-inline)   option[_ngcontent-%COMP%]:disabled{color:#00000061}.mat-mdc-form-field-type-mat-native-select[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#ffffff8a}.mat-mdc-form-field-type-mat-native-select.mat-focused.mat-primary[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#9e9e9ede}.mat-mdc-form-field-type-mat-native-select.mat-focused.mat-accent[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#ff4081de}.mat-mdc-form-field-type-mat-native-select.mat-focused.mat-warn[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#f44336de}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]:after{color:#ffffff61}.mat-mdc-form-field.mat-accent[_ngcontent-%COMP%]{--mdc-filled-text-field-caret-color: #ff4081;--mdc-filled-text-field-focus-active-indicator-color: #ff4081;--mdc-filled-text-field-focus-label-text-color: rgba(255, 64, 129, .87);--mdc-outlined-text-field-caret-color: #ff4081;--mdc-outlined-text-field-focus-outline-color: #ff4081;--mdc-outlined-text-field-focus-label-text-color: rgba(255, 64, 129, .87)}.mat-mdc-form-field.mat-warn[_ngcontent-%COMP%]{--mdc-filled-text-field-caret-color: #f44336;--mdc-filled-text-field-focus-active-indicator-color: #f44336;--mdc-filled-text-field-focus-label-text-color: rgba(244, 67, 54, .87);--mdc-outlined-text-field-caret-color: #f44336;--mdc-outlined-text-field-focus-outline-color: #f44336;--mdc-outlined-text-field-focus-label-text-color: rgba(244, 67, 54, .87)}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%]{border-left:1px solid transparent}[dir=rtl][_ngcontent-%COMP%]   .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%]{border-left:none;border-right:1px solid transparent}.mat-mdc-form-field-infix[_ngcontent-%COMP%]{min-height:56px}.mat-mdc-text-field-wrapper[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]   .mat-mdc-floating-label[_ngcontent-%COMP%]{top:28px}.mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-notched-outline--upgraded[_ngcontent-%COMP%]   .mdc-floating-label--float-above[_ngcontent-%COMP%]{--mat-mdc-form-field-label-transform: translateY( -34.75px) scale(var(--mat-mdc-form-field-floating-label-scale, .75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:16px}.mat-mdc-text-field-wrapper[_ngcontent-%COMP%]:not(.mdc-text-field--outlined)   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:24px;padding-bottom:8px}.mdc-text-field--no-label[_ngcontent-%COMP%]:not(.mdc-text-field--outlined):not(.mdc-text-field--textarea)   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:16px;padding-bottom:16px}html[_ngcontent-%COMP%]{--mat-select-panel-background-color: #424242;--mat-select-enabled-trigger-text-color: rgba(255, 255, 255, .87);--mat-select-disabled-trigger-text-color: rgba(255, 255, 255, .38);--mat-select-placeholder-text-color: rgba(255, 255, 255, .6);--mat-select-enabled-arrow-color: rgba(255, 255, 255, .54);--mat-select-disabled-arrow-color: rgba(255, 255, 255, .38);--mat-select-focused-arrow-color: rgba(158, 158, 158, .87);--mat-select-invalid-arrow-color: rgba(244, 67, 54, .87)}html[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-accent[_ngcontent-%COMP%]{--mat-select-panel-background-color: #424242;--mat-select-enabled-trigger-text-color: rgba(255, 255, 255, .87);--mat-select-disabled-trigger-text-color: rgba(255, 255, 255, .38);--mat-select-placeholder-text-color: rgba(255, 255, 255, .6);--mat-select-enabled-arrow-color: rgba(255, 255, 255, .54);--mat-select-disabled-arrow-color: rgba(255, 255, 255, .38);--mat-select-focused-arrow-color: rgba(255, 64, 129, .87);--mat-select-invalid-arrow-color: rgba(244, 67, 54, .87)}html[_ngcontent-%COMP%]   .mat-mdc-form-field.mat-warn[_ngcontent-%COMP%]{--mat-select-panel-background-color: #424242;--mat-select-enabled-trigger-text-color: rgba(255, 255, 255, .87);--mat-select-disabled-trigger-text-color: rgba(255, 255, 255, .38);--mat-select-placeholder-text-color: rgba(255, 255, 255, .6);--mat-select-enabled-arrow-color: rgba(255, 255, 255, .54);--mat-select-disabled-arrow-color: rgba(255, 255, 255, .38);--mat-select-focused-arrow-color: rgba(244, 67, 54, .87);--mat-select-invalid-arrow-color: rgba(244, 67, 54, .87)}html[_ngcontent-%COMP%]{--mat-autocomplete-background-color: #424242}.mat-mdc-dialog-container[_ngcontent-%COMP%]{--mdc-dialog-container-color: #424242;--mdc-dialog-subhead-color: rgba(255, 255, 255, .87);--mdc-dialog-supporting-text-color: rgba(255, 255, 255, .6)}.mat-mdc-standard-chip[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color: #fafafa;--mdc-chip-elevated-container-color: #595959;--mdc-chip-elevated-disabled-container-color: #595959;--mdc-chip-focus-state-layer-color: white;--mdc-chip-focus-state-layer-opacity: .12;--mdc-chip-label-text-color: #fafafa;--mdc-chip-with-icon-icon-color: #fafafa;--mdc-chip-with-icon-disabled-icon-color: #fafafa;--mdc-chip-with-icon-selected-icon-color: #fafafa;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color: #fafafa;--mdc-chip-with-trailing-icon-trailing-icon-color: #fafafa}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-primary[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-primary[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color: rgba(0, 0, 0, .87);--mdc-chip-elevated-container-color: #9e9e9e;--mdc-chip-elevated-disabled-container-color: #9e9e9e;--mdc-chip-focus-state-layer-color: white;--mdc-chip-focus-state-layer-opacity: .12;--mdc-chip-label-text-color: rgba(0, 0, 0, .87);--mdc-chip-with-icon-icon-color: rgba(0, 0, 0, .87);--mdc-chip-with-icon-disabled-icon-color: rgba(0, 0, 0, .87);--mdc-chip-with-icon-selected-icon-color: rgba(0, 0, 0, .87);--mdc-chip-with-trailing-icon-disabled-trailing-icon-color: rgba(0, 0, 0, .87);--mdc-chip-with-trailing-icon-trailing-icon-color: rgba(0, 0, 0, .87)}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-accent[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-accent[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color: white;--mdc-chip-elevated-container-color: #ff4081;--mdc-chip-elevated-disabled-container-color: #ff4081;--mdc-chip-focus-state-layer-color: white;--mdc-chip-focus-state-layer-opacity: .12;--mdc-chip-label-text-color: white;--mdc-chip-with-icon-icon-color: white;--mdc-chip-with-icon-disabled-icon-color: white;--mdc-chip-with-icon-selected-icon-color: white;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color: white;--mdc-chip-with-trailing-icon-trailing-icon-color: white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-warn[_ngcontent-%COMP%], .mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-warn[_ngcontent-%COMP%]{--mdc-chip-disabled-label-text-color: white;--mdc-chip-elevated-container-color: #f44336;--mdc-chip-elevated-disabled-container-color: #f44336;--mdc-chip-focus-state-layer-color: white;--mdc-chip-focus-state-layer-opacity: .12;--mdc-chip-label-text-color: white;--mdc-chip-with-icon-icon-color: white;--mdc-chip-with-icon-disabled-icon-color: white;--mdc-chip-with-icon-selected-icon-color: white;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color: white;--mdc-chip-with-trailing-icon-trailing-icon-color: white}.mat-mdc-chip.mat-mdc-standard-chip[_ngcontent-%COMP%]{--mdc-chip-container-height: 32px}.mat-mdc-slide-toggle[_ngcontent-%COMP%]{--mdc-switch-selected-focus-state-layer-color: #e0e0e0;--mdc-switch-selected-handle-color: #e0e0e0;--mdc-switch-selected-hover-state-layer-color: #e0e0e0;--mdc-switch-selected-pressed-state-layer-color: #e0e0e0;--mdc-switch-selected-focus-handle-color: #eeeeee;--mdc-switch-selected-hover-handle-color: #eeeeee;--mdc-switch-selected-pressed-handle-color: #eeeeee;--mdc-switch-selected-focus-track-color: #757575;--mdc-switch-selected-hover-track-color: #757575;--mdc-switch-selected-pressed-track-color: #757575;--mdc-switch-selected-track-color: #757575;--mdc-switch-disabled-selected-handle-color: #000;--mdc-switch-disabled-selected-icon-color: #212121;--mdc-switch-disabled-selected-track-color: #f5f5f5;--mdc-switch-disabled-unselected-handle-color: #000;--mdc-switch-disabled-unselected-icon-color: #212121;--mdc-switch-disabled-unselected-track-color: #f5f5f5;--mdc-switch-handle-surface-color: var(--mdc-theme-surface, #fff);--mdc-switch-handle-elevation-shadow: 0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12);--mdc-switch-handle-shadow-color: black;--mdc-switch-disabled-handle-elevation-shadow: 0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12);--mdc-switch-selected-icon-color: #212121;--mdc-switch-unselected-focus-handle-color: #fafafa;--mdc-switch-unselected-focus-state-layer-color: #f5f5f5;--mdc-switch-unselected-focus-track-color: #616161;--mdc-switch-unselected-handle-color: #9e9e9e;--mdc-switch-unselected-hover-handle-color: #fafafa;--mdc-switch-unselected-hover-state-layer-color: #f5f5f5;--mdc-switch-unselected-hover-track-color: #616161;--mdc-switch-unselected-icon-color: #212121;--mdc-switch-unselected-pressed-handle-color: #fafafa;--mdc-switch-unselected-pressed-state-layer-color: #f5f5f5;--mdc-switch-unselected-pressed-track-color: #616161;--mdc-switch-unselected-track-color: #616161}.mat-mdc-slide-toggle[_ngcontent-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{color:var(--mdc-theme-text-primary-on-background, white)}.mat-mdc-slide-toggle[_ngcontent-%COMP%]   .mdc-switch--disabled[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{color:#ffffff80}.mat-mdc-slide-toggle.mat-accent[_ngcontent-%COMP%]{--mdc-switch-selected-focus-state-layer-color: #f06292;--mdc-switch-selected-handle-color: #f06292;--mdc-switch-selected-hover-state-layer-color: #f06292;--mdc-switch-selected-pressed-state-layer-color: #f06292;--mdc-switch-selected-focus-handle-color: #f48fb1;--mdc-switch-selected-hover-handle-color: #f48fb1;--mdc-switch-selected-pressed-handle-color: #f48fb1;--mdc-switch-selected-focus-track-color: #d81b60;--mdc-switch-selected-hover-track-color: #d81b60;--mdc-switch-selected-pressed-track-color: #d81b60;--mdc-switch-selected-track-color: #d81b60}.mat-mdc-slide-toggle.mat-warn[_ngcontent-%COMP%]{--mdc-switch-selected-focus-state-layer-color: #e57373;--mdc-switch-selected-handle-color: #e57373;--mdc-switch-selected-hover-state-layer-color: #e57373;--mdc-switch-selected-pressed-state-layer-color: #e57373;--mdc-switch-selected-focus-handle-color: #ef9a9a;--mdc-switch-selected-hover-handle-color: #ef9a9a;--mdc-switch-selected-pressed-handle-color: #ef9a9a;--mdc-switch-selected-focus-track-color: #e53935;--mdc-switch-selected-hover-track-color: #e53935;--mdc-switch-selected-pressed-track-color: #e53935;--mdc-switch-selected-track-color: #e53935}.mat-mdc-slide-toggle[_ngcontent-%COMP%]{--mdc-switch-state-layer-size: 48px}.mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{color:var(--mdc-theme-text-primary-on-background, white)}.mat-mdc-radio-button.mat-primary[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color: #fff;--mdc-radio-disabled-unselected-icon-color: #fff;--mdc-radio-unselected-hover-icon-color: #eeeeee;--mdc-radio-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-radio-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-radio-selected-focus-icon-color: #9e9e9e;--mdc-radio-selected-hover-icon-color: #9e9e9e;--mdc-radio-selected-icon-color: #9e9e9e;--mdc-radio-selected-pressed-icon-color: #9e9e9e;--mat-radio-ripple-color: #fff;--mat-radio-checked-ripple-color: #9e9e9e;--mat-radio-disabled-label-color: rgba(255, 255, 255, .5)}.mat-mdc-radio-button.mat-accent[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color: #fff;--mdc-radio-disabled-unselected-icon-color: #fff;--mdc-radio-unselected-hover-icon-color: #eeeeee;--mdc-radio-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-radio-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-radio-selected-focus-icon-color: #ff4081;--mdc-radio-selected-hover-icon-color: #ff4081;--mdc-radio-selected-icon-color: #ff4081;--mdc-radio-selected-pressed-icon-color: #ff4081;--mat-radio-ripple-color: #fff;--mat-radio-checked-ripple-color: #ff4081;--mat-radio-disabled-label-color: rgba(255, 255, 255, .5)}.mat-mdc-radio-button.mat-warn[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color: #fff;--mdc-radio-disabled-unselected-icon-color: #fff;--mdc-radio-unselected-hover-icon-color: #eeeeee;--mdc-radio-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-radio-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-radio-selected-focus-icon-color: #f44336;--mdc-radio-selected-hover-icon-color: #f44336;--mdc-radio-selected-icon-color: #f44336;--mdc-radio-selected-pressed-icon-color: #f44336;--mat-radio-ripple-color: #fff;--mat-radio-checked-ripple-color: #f44336;--mat-radio-disabled-label-color: rgba(255, 255, 255, .5)}.mat-mdc-radio-button[_ngcontent-%COMP%]   .mdc-radio[_ngcontent-%COMP%]{--mdc-radio-state-layer-size: 40px}.mat-mdc-slider[_ngcontent-%COMP%]{--mdc-slider-label-container-color: white;--mdc-slider-label-label-text-color: black;--mdc-slider-disabled-handle-color: #fff;--mdc-slider-disabled-active-track-color: #fff;--mdc-slider-disabled-inactive-track-color: #fff;--mdc-slider-with-tick-marks-disabled-container-color: #fff;--mat-mdc-slider-value-indicator-opacity: .9}.mat-mdc-slider.mat-primary[_ngcontent-%COMP%]{--mdc-slider-handle-color: #9e9e9e;--mdc-slider-focus-handle-color: #9e9e9e;--mdc-slider-hover-handle-color: #9e9e9e;--mdc-slider-active-track-color: #9e9e9e;--mdc-slider-inactive-track-color: #9e9e9e;--mdc-slider-with-tick-marks-active-container-color: #000;--mdc-slider-with-tick-marks-inactive-container-color: #9e9e9e;--mat-mdc-slider-ripple-color: #9e9e9e;--mat-mdc-slider-hover-ripple-color: rgba(158, 158, 158, .05);--mat-mdc-slider-focus-ripple-color: rgba(158, 158, 158, .2)}.mat-mdc-slider.mat-accent[_ngcontent-%COMP%]{--mdc-slider-handle-color: #ff4081;--mdc-slider-focus-handle-color: #ff4081;--mdc-slider-hover-handle-color: #ff4081;--mdc-slider-active-track-color: #ff4081;--mdc-slider-inactive-track-color: #ff4081;--mdc-slider-with-tick-marks-active-container-color: #fff;--mdc-slider-with-tick-marks-inactive-container-color: #ff4081;--mat-mdc-slider-ripple-color: #ff4081;--mat-mdc-slider-hover-ripple-color: rgba(255, 64, 129, .05);--mat-mdc-slider-focus-ripple-color: rgba(255, 64, 129, .2)}.mat-mdc-slider.mat-warn[_ngcontent-%COMP%]{--mdc-slider-handle-color: #f44336;--mdc-slider-focus-handle-color: #f44336;--mdc-slider-hover-handle-color: #f44336;--mdc-slider-active-track-color: #f44336;--mdc-slider-inactive-track-color: #f44336;--mdc-slider-with-tick-marks-active-container-color: #fff;--mdc-slider-with-tick-marks-inactive-container-color: #f44336;--mat-mdc-slider-ripple-color: #f44336;--mat-mdc-slider-hover-ripple-color: rgba(244, 67, 54, .05);--mat-mdc-slider-focus-ripple-color: rgba(244, 67, 54, .2)}html[_ngcontent-%COMP%]{--mat-menu-item-label-text-color: white;--mat-menu-item-icon-color: white;--mat-menu-item-hover-state-layer-color: rgba(255, 255, 255, .08);--mat-menu-item-focus-state-layer-color: rgba(255, 255, 255, .08);--mat-menu-container-color: #424242}.mat-mdc-list-base[_ngcontent-%COMP%]{--mdc-list-list-item-label-text-color: white;--mdc-list-list-item-supporting-text-color: rgba(255, 255, 255, .7);--mdc-list-list-item-leading-icon-color: rgba(255, 255, 255, .5);--mdc-list-list-item-trailing-supporting-text-color: rgba(255, 255, 255, .5);--mdc-list-list-item-trailing-icon-color: rgba(255, 255, 255, .5);--mdc-list-list-item-selected-trailing-icon-color: rgba(255, 255, 255, .5);--mdc-list-list-item-disabled-label-text-color: white;--mdc-list-list-item-disabled-leading-icon-color: white;--mdc-list-list-item-disabled-trailing-icon-color: white;--mdc-list-list-item-hover-label-text-color: white;--mdc-list-list-item-hover-leading-icon-color: rgba(255, 255, 255, .5);--mdc-list-list-item-hover-trailing-icon-color: rgba(255, 255, 255, .5);--mdc-list-list-item-focus-label-text-color: white;--mdc-list-list-item-hover-state-layer-color: white;--mdc-list-list-item-hover-state-layer-opacity: .08;--mdc-list-list-item-focus-state-layer-color: white;--mdc-list-list-item-focus-state-layer-opacity: .24}.mdc-list-item__start[_ngcontent-%COMP%], .mdc-list-item__end[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color: #fff;--mdc-radio-disabled-unselected-icon-color: #fff;--mdc-radio-unselected-hover-icon-color: #eeeeee;--mdc-radio-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-radio-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-radio-selected-focus-icon-color: #9e9e9e;--mdc-radio-selected-hover-icon-color: #9e9e9e;--mdc-radio-selected-icon-color: #9e9e9e;--mdc-radio-selected-pressed-icon-color: #9e9e9e}.mat-accent[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-accent[_ngcontent-%COMP%]   .mdc-list-item__end[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color: #fff;--mdc-radio-disabled-unselected-icon-color: #fff;--mdc-radio-unselected-hover-icon-color: #eeeeee;--mdc-radio-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-radio-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-radio-selected-focus-icon-color: #ff4081;--mdc-radio-selected-hover-icon-color: #ff4081;--mdc-radio-selected-icon-color: #ff4081;--mdc-radio-selected-pressed-icon-color: #ff4081}.mat-warn[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-warn[_ngcontent-%COMP%]   .mdc-list-item__end[_ngcontent-%COMP%]{--mdc-radio-disabled-selected-icon-color: #fff;--mdc-radio-disabled-unselected-icon-color: #fff;--mdc-radio-unselected-hover-icon-color: #eeeeee;--mdc-radio-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-radio-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-radio-selected-focus-icon-color: #f44336;--mdc-radio-selected-hover-icon-color: #f44336;--mdc-radio-selected-icon-color: #f44336;--mdc-radio-selected-pressed-icon-color: #f44336}.mat-mdc-list-option[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-selected-checkmark-color: #000;--mdc-checkbox-selected-focus-icon-color: #9e9e9e;--mdc-checkbox-selected-hover-icon-color: #9e9e9e;--mdc-checkbox-selected-icon-color: #9e9e9e;--mdc-checkbox-selected-pressed-icon-color: #9e9e9e;--mdc-checkbox-unselected-focus-icon-color: #eeeeee;--mdc-checkbox-unselected-hover-icon-color: #eeeeee;--mdc-checkbox-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-selected-focus-state-layer-color: #9e9e9e;--mdc-checkbox-selected-hover-state-layer-color: #9e9e9e;--mdc-checkbox-selected-pressed-state-layer-color: #9e9e9e;--mdc-checkbox-unselected-focus-state-layer-color: white;--mdc-checkbox-unselected-hover-state-layer-color: white;--mdc-checkbox-unselected-pressed-state-layer-color: white}.mat-mdc-list-option.mat-accent[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-selected-checkmark-color: #fff;--mdc-checkbox-selected-focus-icon-color: #ff4081;--mdc-checkbox-selected-hover-icon-color: #ff4081;--mdc-checkbox-selected-icon-color: #ff4081;--mdc-checkbox-selected-pressed-icon-color: #ff4081;--mdc-checkbox-unselected-focus-icon-color: #eeeeee;--mdc-checkbox-unselected-hover-icon-color: #eeeeee;--mdc-checkbox-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-selected-focus-state-layer-color: #ff4081;--mdc-checkbox-selected-hover-state-layer-color: #ff4081;--mdc-checkbox-selected-pressed-state-layer-color: #ff4081;--mdc-checkbox-unselected-focus-state-layer-color: white;--mdc-checkbox-unselected-hover-state-layer-color: white;--mdc-checkbox-unselected-pressed-state-layer-color: white}.mat-mdc-list-option.mat-warn[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-selected-checkmark-color: #fff;--mdc-checkbox-selected-focus-icon-color: #f44336;--mdc-checkbox-selected-hover-icon-color: #f44336;--mdc-checkbox-selected-icon-color: #f44336;--mdc-checkbox-selected-pressed-icon-color: #f44336;--mdc-checkbox-unselected-focus-icon-color: #eeeeee;--mdc-checkbox-unselected-hover-icon-color: #eeeeee;--mdc-checkbox-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-selected-focus-state-layer-color: #f44336;--mdc-checkbox-selected-hover-state-layer-color: #f44336;--mdc-checkbox-selected-pressed-state-layer-color: #f44336;--mdc-checkbox-unselected-focus-state-layer-color: white;--mdc-checkbox-unselected-hover-state-layer-color: white;--mdc-checkbox-unselected-pressed-state-layer-color: white}.mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--selected[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%], .mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--activated[_ngcontent-%COMP%]   .mdc-list-item__primary-text[_ngcontent-%COMP%], .mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--selected.mdc-list-item--with-leading-icon[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-mdc-list-base.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--activated.mdc-list-item--with-leading-icon[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%]{color:#9e9e9e}.mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--disabled[_ngcontent-%COMP%]   .mdc-list-item__start[_ngcontent-%COMP%], .mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--disabled[_ngcontent-%COMP%]   .mdc-list-item__content[_ngcontent-%COMP%], .mat-mdc-list-base[_ngcontent-%COMP%]   .mdc-list-item--disabled[_ngcontent-%COMP%]   .mdc-list-item__end[_ngcontent-%COMP%]{opacity:1}.mat-mdc-list-base[_ngcontent-%COMP%]{--mdc-list-list-item-one-line-container-height: 48px;--mdc-list-list-item-two-line-container-height: 64px;--mdc-list-list-item-three-line-container-height: 88px}.mat-mdc-list-item.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line[_ngcontent-%COMP%]{height:56px}.mat-mdc-list-item.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines[_ngcontent-%COMP%], .mat-mdc-list-item.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines[_ngcontent-%COMP%]{height:72px}html[_ngcontent-%COMP%]{--mat-paginator-container-text-color: rgba(255, 255, 255, .87);--mat-paginator-container-background-color: #424242;--mat-paginator-enabled-icon-color: rgba(255, 255, 255, .54);--mat-paginator-disabled-icon-color: rgba(255, 255, 255, .12)}html[_ngcontent-%COMP%]{--mat-paginator-container-size: 56px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{min-height:40px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]   .mat-mdc-form-field-flex[_ngcontent-%COMP%]   .mat-mdc-floating-label[_ngcontent-%COMP%]{top:20px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mdc-notched-outline--upgraded[_ngcontent-%COMP%]   .mdc-floating-label--float-above[_ngcontent-%COMP%]{--mat-mdc-form-field-label-transform: translateY( -26.75px) scale(var(--mat-mdc-form-field-floating-label-scale, .75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper.mdc-text-field--outlined[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]:not(.mdc-text-field--outlined)   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mdc-text-field--no-label[_ngcontent-%COMP%]:not(.mdc-text-field--outlined):not(.mdc-text-field--textarea)   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]:not(.mdc-text-field--outlined)   .mat-mdc-floating-label[_ngcontent-%COMP%]{display:none}.mat-mdc-tab-group[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color: #9e9e9e;--mat-tab-header-disabled-ripple-color: rgba(255, 255, 255, .5);--mat-tab-header-pagination-icon-color: #fff;--mat-tab-header-inactive-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-active-label-text-color: #9e9e9e;--mat-tab-header-active-ripple-color: #9e9e9e;--mat-tab-header-inactive-ripple-color: #9e9e9e;--mat-tab-header-inactive-focus-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-inactive-hover-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-active-focus-label-text-color: #9e9e9e;--mat-tab-header-active-hover-label-text-color: #9e9e9e;--mat-tab-header-active-focus-indicator-color: #9e9e9e;--mat-tab-header-active-hover-indicator-color: #9e9e9e}.mat-mdc-tab-group.mat-accent[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-accent[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color: #ff4081;--mat-tab-header-disabled-ripple-color: rgba(255, 255, 255, .5);--mat-tab-header-pagination-icon-color: #fff;--mat-tab-header-inactive-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-active-label-text-color: #ff4081;--mat-tab-header-active-ripple-color: #ff4081;--mat-tab-header-inactive-ripple-color: #ff4081;--mat-tab-header-inactive-focus-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-inactive-hover-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-active-focus-label-text-color: #ff4081;--mat-tab-header-active-hover-label-text-color: #ff4081;--mat-tab-header-active-focus-indicator-color: #ff4081;--mat-tab-header-active-hover-indicator-color: #ff4081}.mat-mdc-tab-group.mat-warn[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-warn[_ngcontent-%COMP%]{--mdc-tab-indicator-active-indicator-color: #f44336;--mat-tab-header-disabled-ripple-color: rgba(255, 255, 255, .5);--mat-tab-header-pagination-icon-color: #fff;--mat-tab-header-inactive-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-active-label-text-color: #f44336;--mat-tab-header-active-ripple-color: #f44336;--mat-tab-header-inactive-ripple-color: #f44336;--mat-tab-header-inactive-focus-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-inactive-hover-label-text-color: rgba(255, 255, 255, .6);--mat-tab-header-active-focus-label-text-color: #f44336;--mat-tab-header-active-hover-label-text-color: #f44336;--mat-tab-header-active-focus-indicator-color: #f44336;--mat-tab-header-active-hover-indicator-color: #f44336}.mat-mdc-tab-group.mat-background-primary[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-background-primary[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color: #9e9e9e;--mat-tab-header-with-background-foreground-color: rgba(0, 0, 0, .87)}.mat-mdc-tab-group.mat-background-accent[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-background-accent[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color: #ff4081;--mat-tab-header-with-background-foreground-color: white}.mat-mdc-tab-group.mat-background-warn[_ngcontent-%COMP%], .mat-mdc-tab-nav-bar.mat-background-warn[_ngcontent-%COMP%]{--mat-tab-header-with-background-background-color: #f44336;--mat-tab-header-with-background-foreground-color: white}.mat-mdc-tab-header[_ngcontent-%COMP%]{--mdc-secondary-navigation-tab-container-height: 48px}html[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-selected-checkmark-color: #fff;--mdc-checkbox-selected-focus-icon-color: #ff4081;--mdc-checkbox-selected-hover-icon-color: #ff4081;--mdc-checkbox-selected-icon-color: #ff4081;--mdc-checkbox-selected-pressed-icon-color: #ff4081;--mdc-checkbox-unselected-focus-icon-color: #eeeeee;--mdc-checkbox-unselected-hover-icon-color: #eeeeee;--mdc-checkbox-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-selected-focus-state-layer-color: #ff4081;--mdc-checkbox-selected-hover-state-layer-color: #ff4081;--mdc-checkbox-selected-pressed-state-layer-color: #ff4081;--mdc-checkbox-unselected-focus-state-layer-color: white;--mdc-checkbox-unselected-hover-state-layer-color: white;--mdc-checkbox-unselected-pressed-state-layer-color: white}.mat-mdc-checkbox.mat-primary[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-selected-checkmark-color: #000;--mdc-checkbox-selected-focus-icon-color: #9e9e9e;--mdc-checkbox-selected-hover-icon-color: #9e9e9e;--mdc-checkbox-selected-icon-color: #9e9e9e;--mdc-checkbox-selected-pressed-icon-color: #9e9e9e;--mdc-checkbox-unselected-focus-icon-color: #eeeeee;--mdc-checkbox-unselected-hover-icon-color: #eeeeee;--mdc-checkbox-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-selected-focus-state-layer-color: #9e9e9e;--mdc-checkbox-selected-hover-state-layer-color: #9e9e9e;--mdc-checkbox-selected-pressed-state-layer-color: #9e9e9e;--mdc-checkbox-unselected-focus-state-layer-color: white;--mdc-checkbox-unselected-hover-state-layer-color: white;--mdc-checkbox-unselected-pressed-state-layer-color: white}.mat-mdc-checkbox.mat-warn[_ngcontent-%COMP%]{--mdc-checkbox-disabled-selected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(255, 255, 255, .38);--mdc-checkbox-selected-checkmark-color: #fff;--mdc-checkbox-selected-focus-icon-color: #f44336;--mdc-checkbox-selected-hover-icon-color: #f44336;--mdc-checkbox-selected-icon-color: #f44336;--mdc-checkbox-selected-pressed-icon-color: #f44336;--mdc-checkbox-unselected-focus-icon-color: #eeeeee;--mdc-checkbox-unselected-hover-icon-color: #eeeeee;--mdc-checkbox-unselected-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-unselected-pressed-icon-color: rgba(255, 255, 255, .54);--mdc-checkbox-selected-focus-state-layer-color: #f44336;--mdc-checkbox-selected-hover-state-layer-color: #f44336;--mdc-checkbox-selected-pressed-state-layer-color: #f44336;--mdc-checkbox-unselected-focus-state-layer-color: white;--mdc-checkbox-unselected-hover-state-layer-color: white;--mdc-checkbox-unselected-pressed-state-layer-color: white}.mat-mdc-checkbox[_ngcontent-%COMP%]   .mdc-form-field[_ngcontent-%COMP%]{color:var(--mdc-theme-text-primary-on-background, white)}.mat-mdc-checkbox.mat-mdc-checkbox-disabled[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#ffffff80}html[_ngcontent-%COMP%]{--mdc-checkbox-state-layer-size: 40px}.mat-mdc-button.mat-unthemed[_ngcontent-%COMP%]{--mdc-text-button-label-text-color: #fff}.mat-mdc-button.mat-primary[_ngcontent-%COMP%]{--mdc-text-button-label-text-color: #9e9e9e}.mat-mdc-button.mat-accent[_ngcontent-%COMP%]{--mdc-text-button-label-text-color: #ff4081}.mat-mdc-button.mat-warn[_ngcontent-%COMP%]{--mdc-text-button-label-text-color: #f44336}.mat-mdc-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-text-button-disabled-label-text-color: rgba(255, 255, 255, .5);--mdc-text-button-label-text-color: rgba(255, 255, 255, .5)}.mat-mdc-unelevated-button.mat-unthemed[_ngcontent-%COMP%]{--mdc-filled-button-container-color: #424242;--mdc-filled-button-label-text-color: #fff}.mat-mdc-unelevated-button.mat-primary[_ngcontent-%COMP%]{--mdc-filled-button-container-color: #9e9e9e;--mdc-filled-button-label-text-color: #000}.mat-mdc-unelevated-button.mat-accent[_ngcontent-%COMP%]{--mdc-filled-button-container-color: #ff4081;--mdc-filled-button-label-text-color: #fff}.mat-mdc-unelevated-button.mat-warn[_ngcontent-%COMP%]{--mdc-filled-button-container-color: #f44336;--mdc-filled-button-label-text-color: #fff}.mat-mdc-unelevated-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-filled-button-disabled-container-color: rgba(255, 255, 255, .12);--mdc-filled-button-disabled-label-text-color: rgba(255, 255, 255, .5);--mdc-filled-button-container-color: rgba(255, 255, 255, .12);--mdc-filled-button-label-text-color: rgba(255, 255, 255, .5)}.mat-mdc-raised-button.mat-unthemed[_ngcontent-%COMP%]{--mdc-protected-button-container-color: #424242;--mdc-protected-button-label-text-color: #fff}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%]{--mdc-protected-button-container-color: #9e9e9e;--mdc-protected-button-label-text-color: #000}.mat-mdc-raised-button.mat-accent[_ngcontent-%COMP%]{--mdc-protected-button-container-color: #ff4081;--mdc-protected-button-label-text-color: #fff}.mat-mdc-raised-button.mat-warn[_ngcontent-%COMP%]{--mdc-protected-button-container-color: #f44336;--mdc-protected-button-label-text-color: #fff}.mat-mdc-raised-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-protected-button-disabled-container-color: rgba(255, 255, 255, .12);--mdc-protected-button-disabled-label-text-color: rgba(255, 255, 255, .5);--mdc-protected-button-container-color: rgba(255, 255, 255, .12);--mdc-protected-button-label-text-color: rgba(255, 255, 255, .5);--mdc-protected-button-container-elevation: 0}.mat-mdc-outlined-button[_ngcontent-%COMP%]{--mdc-outlined-button-outline-color: rgba(255, 255, 255, .12)}.mat-mdc-outlined-button.mat-unthemed[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color: #fff}.mat-mdc-outlined-button.mat-primary[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color: #9e9e9e}.mat-mdc-outlined-button.mat-accent[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color: #ff4081}.mat-mdc-outlined-button.mat-warn[_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color: #f44336}.mat-mdc-outlined-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-outlined-button-label-text-color: rgba(255, 255, 255, .5);--mdc-outlined-button-disabled-label-text-color: rgba(255, 255, 255, .5);--mdc-outlined-button-outline-color: rgba(255, 255, 255, .12);--mdc-outlined-button-disabled-outline-color: rgba(255, 255, 255, .12)}.mat-mdc-button[_ngcontent-%COMP%], .mat-mdc-outlined-button[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-outlined-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.08}.mat-mdc-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-outlined-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-outlined-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-outlined-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-button.mat-primary[_ngcontent-%COMP%], .mat-mdc-outlined-button.mat-primary[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #9e9e9e;--mat-mdc-button-ripple-color: rgba(158, 158, 158, .1)}.mat-mdc-button.mat-accent[_ngcontent-%COMP%], .mat-mdc-outlined-button.mat-accent[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #ff4081;--mat-mdc-button-ripple-color: rgba(255, 64, 129, .1)}.mat-mdc-button.mat-warn[_ngcontent-%COMP%], .mat-mdc-outlined-button.mat-warn[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #f44336;--mat-mdc-button-ripple-color: rgba(244, 67, 54, .1)}.mat-mdc-raised-button[_ngcontent-%COMP%], .mat-mdc-unelevated-button[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-raised-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-unelevated-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.08}.mat-mdc-raised-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-raised-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-unelevated-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-unelevated-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-raised-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-unelevated-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%], .mat-mdc-unelevated-button.mat-primary[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #000;--mat-mdc-button-ripple-color: rgba(0, 0, 0, .1)}.mat-mdc-raised-button.mat-accent[_ngcontent-%COMP%], .mat-mdc-unelevated-button.mat-accent[_ngcontent-%COMP%], .mat-mdc-raised-button.mat-warn[_ngcontent-%COMP%], .mat-mdc-unelevated-button.mat-warn[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-button.mat-mdc-button-base[_ngcontent-%COMP%], .mat-mdc-raised-button.mat-mdc-button-base[_ngcontent-%COMP%], .mat-mdc-unelevated-button.mat-mdc-button-base[_ngcontent-%COMP%], .mat-mdc-outlined-button.mat-mdc-button-base[_ngcontent-%COMP%]{height:36px}.mat-mdc-icon-button[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #000;--mat-mdc-button-ripple-color: rgba(0, 0, 0, .1);--mdc-icon-button-icon-color: inherit;--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-icon-button[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.08}.mat-mdc-icon-button.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-icon-button.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-icon-button[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-icon-button.mat-primary[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #6200ee;--mat-mdc-button-ripple-color: rgba(98, 0, 238, .1)}.mat-mdc-icon-button.mat-accent[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #018786;--mat-mdc-button-ripple-color: rgba(1, 135, 134, .1)}.mat-mdc-icon-button.mat-warn[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #b00020;--mat-mdc-button-ripple-color: rgba(176, 0, 32, .1)}.mat-mdc-icon-button.mat-primary[_ngcontent-%COMP%]{--mdc-icon-button-icon-color: #9e9e9e;--mat-mdc-button-persistent-ripple-color: #9e9e9e;--mat-mdc-button-ripple-color: rgba(158, 158, 158, .1)}.mat-mdc-icon-button.mat-accent[_ngcontent-%COMP%]{--mdc-icon-button-icon-color: #ff4081;--mat-mdc-button-persistent-ripple-color: #ff4081;--mat-mdc-button-ripple-color: rgba(255, 64, 129, .1)}.mat-mdc-icon-button.mat-warn[_ngcontent-%COMP%]{--mdc-icon-button-icon-color: #f44336;--mat-mdc-button-persistent-ripple-color: #f44336;--mat-mdc-button-ripple-color: rgba(244, 67, 54, .1)}.mat-mdc-icon-button[disabled][disabled][_ngcontent-%COMP%]{--mdc-icon-button-icon-color: rgba(255, 255, 255, .5);--mdc-icon-button-disabled-icon-color: rgba(255, 255, 255, .5)}.mat-mdc-icon-button.mat-mdc-button-base[_ngcontent-%COMP%]{--mdc-icon-button-state-layer-size: 48px;width:var(--mdc-icon-button-state-layer-size);height:var(--mdc-icon-button-state-layer-size);padding:12px}.mat-mdc-fab[_ngcontent-%COMP%], .mat-mdc-mini-fab[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-fab[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-mini-fab[_ngcontent-%COMP%]:hover   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.08}.mat-mdc-fab.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-fab.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-mini-fab.cdk-program-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-mini-fab.cdk-keyboard-focused[_ngcontent-%COMP%]   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-fab[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before, .mat-mdc-mini-fab[_ngcontent-%COMP%]:active   .mat-mdc-button-persistent-ripple[_ngcontent-%COMP%]:before{opacity:.24}.mat-mdc-fab.mat-primary[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-primary[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #000;--mat-mdc-button-ripple-color: rgba(0, 0, 0, .1)}.mat-mdc-fab.mat-accent[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-accent[_ngcontent-%COMP%], .mat-mdc-fab.mat-warn[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-warn[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: #fff;--mat-mdc-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-fab[disabled][disabled][_ngcontent-%COMP%], .mat-mdc-mini-fab[disabled][disabled][_ngcontent-%COMP%]{--mdc-fab-container-color: rgba(255, 255, 255, .12);--mdc-fab-icon-color: rgba(255, 255, 255, .5);--mat-mdc-fab-color: rgba(255, 255, 255, .5)}.mat-mdc-fab.mat-unthemed[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-unthemed[_ngcontent-%COMP%]{--mdc-fab-container-color: #424242;--mdc-fab-icon-color: white;--mat-mdc-fab-color: #fff}.mat-mdc-fab.mat-primary[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-primary[_ngcontent-%COMP%]{--mdc-fab-container-color: #9e9e9e;--mdc-fab-icon-color: black;--mat-mdc-fab-color: #000}.mat-mdc-fab.mat-accent[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-accent[_ngcontent-%COMP%]{--mdc-fab-container-color: #ff4081;--mdc-fab-icon-color: white;--mat-mdc-fab-color: #fff}.mat-mdc-fab.mat-warn[_ngcontent-%COMP%], .mat-mdc-mini-fab.mat-warn[_ngcontent-%COMP%]{--mdc-fab-container-color: #f44336;--mdc-fab-icon-color: white;--mat-mdc-fab-color: #fff}.mat-mdc-snack-bar-container[_ngcontent-%COMP%]{--mdc-snackbar-container-color: #d9d9d9;--mdc-snackbar-supporting-text-color: rgba(66, 66, 66, .87);--mat-snack-bar-button-color: rgba(0, 0, 0, .87)}html[_ngcontent-%COMP%]{--mat-table-background-color: #424242;--mat-table-header-headline-color: white;--mat-table-row-item-label-text-color: white;--mat-table-row-item-outline-color: rgba(255, 255, 255, .12)}html[_ngcontent-%COMP%]{--mat-table-header-container-height: 56px;--mat-table-footer-container-height: 52px;--mat-table-row-item-container-height: 52px}.mat-mdc-progress-spinner[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color: #9e9e9e}.mat-mdc-progress-spinner.mat-accent[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color: #ff4081}.mat-mdc-progress-spinner.mat-warn[_ngcontent-%COMP%]{--mdc-circular-progress-active-indicator-color: #f44336}.mat-badge[_ngcontent-%COMP%]{position:relative}.mat-badge.mat-badge[_ngcontent-%COMP%]{overflow:visible}.mat-badge-content[_ngcontent-%COMP%]{position:absolute;text-align:center;display:inline-block;border-radius:50%;transition:transform .2s ease-in-out;transform:scale(.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;pointer-events:none;background-color:var(--mat-badge-background-color);color:var(--mat-badge-text-color);font-family:Roboto,sans-serif;font-family:var(--mat-badge-text-font, Roboto, sans-serif);font-size:12px;font-size:var(--mat-badge-text-size, 12px);font-weight:600;font-weight:var(--mat-badge-text-weight, 600)}.cdk-high-contrast-active[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{outline:solid 1px;border-radius:0}.mat-badge-disabled[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color)}.mat-badge-hidden[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{display:none}.ng-animate-disabled[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%], .mat-badge-content._mat-animation-noopable[_ngcontent-%COMP%]{transition:none}.mat-badge-content.mat-badge-active[_ngcontent-%COMP%]{transform:none}.mat-badge-small[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{width:16px;height:16px;line-height:16px;font-size:9px;font-size:var(--mat-badge-small-size-text-size, 9px)}.mat-badge-small.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-8px}.mat-badge-small.mat-badge-below[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{bottom:-8px}.mat-badge-small.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-16px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-small.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-16px}.mat-badge-small.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-16px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-small.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-16px}.mat-badge-small.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-8px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-small.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-8px}.mat-badge-small.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-8px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-small.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-8px}.mat-badge-medium[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{width:22px;height:22px;line-height:22px}.mat-badge-medium.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-11px}.mat-badge-medium.mat-badge-below[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{bottom:-11px}.mat-badge-medium.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-22px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-22px}.mat-badge-medium.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-22px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-22px}.mat-badge-medium.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-11px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-11px}.mat-badge-medium.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-11px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-medium.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-11px}.mat-badge-large[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px;font-size:24px;font-size:var(--mat-badge-large-size-text-size, 24px)}.mat-badge-large.mat-badge-above[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{top:-14px}.mat-badge-large.mat-badge-below[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{bottom:-14px}.mat-badge-large.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-28px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-large.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-28px}.mat-badge-large.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-28px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-large.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-28px}.mat-badge-large.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:-14px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-large.mat-badge-overlap.mat-badge-before[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{left:auto;right:-14px}.mat-badge-large.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:-14px}[dir=rtl][_ngcontent-%COMP%]   .mat-badge-large.mat-badge-overlap.mat-badge-after[_ngcontent-%COMP%]   .mat-badge-content[_ngcontent-%COMP%]{right:auto;left:-14px}html[_ngcontent-%COMP%]{--mat-badge-background-color: #9e9e9e;--mat-badge-text-color: rgba(0, 0, 0, .87);--mat-badge-disabled-state-background-color: #6e6e6e;--mat-badge-disabled-state-text-color: rgba(255, 255, 255, .5)}.mat-badge-accent[_ngcontent-%COMP%]{--mat-badge-background-color: #ff4081;--mat-badge-text-color: white}.mat-badge-warn[_ngcontent-%COMP%]{--mat-badge-background-color: #f44336;--mat-badge-text-color: white}html[_ngcontent-%COMP%]{--mat-bottom-sheet-container-text-color: white;--mat-bottom-sheet-container-background-color: #424242}html[_ngcontent-%COMP%]{--mat-legacy-button-toggle-text-color: rgba(255, 255, 255, .5);--mat-legacy-button-toggle-state-layer-color: rgba(255, 255, 255, .12);--mat-legacy-button-toggle-selected-state-text-color: rgba(255, 255, 255, .7);--mat-legacy-button-toggle-selected-state-background-color: #212121;--mat-legacy-button-toggle-disabled-state-text-color: rgba(255, 255, 255, .3);--mat-legacy-button-toggle-disabled-state-background-color: black;--mat-legacy-button-toggle-disabled-selected-state-background-color: #424242;--mat-standard-button-toggle-text-color: white;--mat-standard-button-toggle-background-color: #424242;--mat-standard-button-toggle-state-layer-color: white;--mat-standard-button-toggle-selected-state-background-color: #212121;--mat-standard-button-toggle-selected-state-text-color: white;--mat-standard-button-toggle-disabled-state-text-color: rgba(255, 255, 255, .3);--mat-standard-button-toggle-disabled-state-background-color: #424242;--mat-standard-button-toggle-disabled-selected-state-text-color: white;--mat-standard-button-toggle-disabled-selected-state-background-color: #424242;--mat-standard-button-toggle-divider-color: #595959}html[_ngcontent-%COMP%]{--mat-standard-button-toggle-height: 48px}html[_ngcontent-%COMP%]{--mat-datepicker-calendar-date-selected-state-text-color: rgba(0, 0, 0, .87);--mat-datepicker-calendar-date-selected-state-background-color: #9e9e9e;--mat-datepicker-calendar-date-selected-disabled-state-background-color: rgba(158, 158, 158, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color: rgba(0, 0, 0, .87);--mat-datepicker-calendar-date-focus-state-background-color: rgba(158, 158, 158, .3);--mat-datepicker-calendar-date-hover-state-background-color: rgba(158, 158, 158, .3);--mat-datepicker-toggle-active-state-icon-color: #9e9e9e;--mat-datepicker-calendar-date-in-range-state-background-color: rgba(158, 158, 158, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color: rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color: #a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color: #46a35e;--mat-datepicker-toggle-icon-color: white;--mat-datepicker-calendar-body-label-text-color: rgba(255, 255, 255, .7);--mat-datepicker-calendar-period-button-icon-color: white;--mat-datepicker-calendar-navigation-button-icon-color: white;--mat-datepicker-calendar-header-divider-color: rgba(255, 255, 255, .12);--mat-datepicker-calendar-header-text-color: rgba(255, 255, 255, .7);--mat-datepicker-calendar-date-today-outline-color: rgba(255, 255, 255, .5);--mat-datepicker-calendar-date-today-disabled-state-outline-color: rgba(255, 255, 255, .3);--mat-datepicker-calendar-date-text-color: white;--mat-datepicker-calendar-date-outline-color: transparent;--mat-datepicker-calendar-date-disabled-state-text-color: rgba(255, 255, 255, .5);--mat-datepicker-calendar-date-preview-state-outline-color: rgba(255, 255, 255, .24);--mat-datepicker-range-input-separator-color: white;--mat-datepicker-range-input-disabled-state-separator-color: rgba(255, 255, 255, .5);--mat-datepicker-range-input-disabled-state-text-color: rgba(255, 255, 255, .5);--mat-datepicker-calendar-container-background-color: #424242;--mat-datepicker-calendar-container-text-color: white}.mat-datepicker-content.mat-accent[_ngcontent-%COMP%]{--mat-datepicker-calendar-date-selected-state-text-color: white;--mat-datepicker-calendar-date-selected-state-background-color: #ff4081;--mat-datepicker-calendar-date-selected-disabled-state-background-color: rgba(255, 64, 129, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color: white;--mat-datepicker-calendar-date-focus-state-background-color: rgba(255, 64, 129, .3);--mat-datepicker-calendar-date-hover-state-background-color: rgba(255, 64, 129, .3);--mat-datepicker-calendar-date-in-range-state-background-color: rgba(255, 64, 129, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color: rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color: #a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color: #46a35e}.mat-datepicker-content.mat-warn[_ngcontent-%COMP%]{--mat-datepicker-calendar-date-selected-state-text-color: white;--mat-datepicker-calendar-date-selected-state-background-color: #f44336;--mat-datepicker-calendar-date-selected-disabled-state-background-color: rgba(244, 67, 54, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color: white;--mat-datepicker-calendar-date-focus-state-background-color: rgba(244, 67, 54, .3);--mat-datepicker-calendar-date-hover-state-background-color: rgba(244, 67, 54, .3);--mat-datepicker-calendar-date-in-range-state-background-color: rgba(244, 67, 54, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color: rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color: #a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color: #46a35e}.mat-datepicker-toggle-active.mat-accent[_ngcontent-%COMP%]{--mat-datepicker-toggle-active-state-icon-color: #ff4081}.mat-datepicker-toggle-active.mat-warn[_ngcontent-%COMP%]{--mat-datepicker-toggle-active-state-icon-color: #f44336}.mat-calendar-controls[_ngcontent-%COMP%]   .mat-mdc-icon-button.mat-mdc-button-base[_ngcontent-%COMP%]{--mdc-icon-button-state-layer-size: 40px;width:var(--mdc-icon-button-state-layer-size);height:var(--mdc-icon-button-state-layer-size);padding:8px}.mat-calendar-controls[_ngcontent-%COMP%]   .mat-mdc-icon-button.mat-mdc-button-base[_ngcontent-%COMP%]   .mat-mdc-button-touch-target[_ngcontent-%COMP%]{display:none}html[_ngcontent-%COMP%]{--mat-divider-color: rgba(255, 255, 255, .12)}html[_ngcontent-%COMP%]{--mat-expansion-container-background-color: #424242;--mat-expansion-container-text-color: white;--mat-expansion-actions-divider-color: rgba(255, 255, 255, .12);--mat-expansion-header-hover-state-layer-color: rgba(255, 255, 255, .04);--mat-expansion-header-focus-state-layer-color: rgba(255, 255, 255, .04);--mat-expansion-header-disabled-state-text-color: rgba(255, 255, 255, .3);--mat-expansion-header-text-color: white;--mat-expansion-header-description-color: rgba(255, 255, 255, .7);--mat-expansion-header-indicator-color: rgba(255, 255, 255, .7)}html[_ngcontent-%COMP%]{--mat-expansion-header-collapsed-state-height: 48px;--mat-expansion-header-expanded-state-height: 64px}html[_ngcontent-%COMP%]{--mat-icon-color: inherit}.mat-icon.mat-primary[_ngcontent-%COMP%]{--mat-icon-color: #9e9e9e}.mat-icon.mat-accent[_ngcontent-%COMP%]{--mat-icon-color: #ff4081}.mat-icon.mat-warn[_ngcontent-%COMP%]{--mat-icon-color: #f44336}html[_ngcontent-%COMP%]{--mat-sidenav-container-divider-color: rgba(255, 255, 255, .12);--mat-sidenav-container-background-color: #424242;--mat-sidenav-container-text-color: white;--mat-sidenav-content-background-color: #303030;--mat-sidenav-content-text-color: white;--mat-sidenav-scrim-color: rgba(189, 189, 189, .6)}html[_ngcontent-%COMP%]{--mat-stepper-header-icon-foreground-color: rgba(0, 0, 0, .87);--mat-stepper-header-selected-state-icon-background-color: #9e9e9e;--mat-stepper-header-selected-state-icon-foreground-color: rgba(0, 0, 0, .87);--mat-stepper-header-done-state-icon-background-color: #9e9e9e;--mat-stepper-header-done-state-icon-foreground-color: rgba(0, 0, 0, .87);--mat-stepper-header-edit-state-icon-background-color: #9e9e9e;--mat-stepper-header-edit-state-icon-foreground-color: rgba(0, 0, 0, .87);--mat-stepper-container-color: #424242;--mat-stepper-line-color: rgba(255, 255, 255, .12);--mat-stepper-header-hover-state-layer-color: rgba(255, 255, 255, .04);--mat-stepper-header-focus-state-layer-color: rgba(255, 255, 255, .04);--mat-stepper-header-label-text-color: rgba(255, 255, 255, .7);--mat-stepper-header-optional-label-text-color: rgba(255, 255, 255, .7);--mat-stepper-header-selected-state-label-text-color: white;--mat-stepper-header-error-state-label-text-color: #f44336;--mat-stepper-header-icon-background-color: rgba(255, 255, 255, .7);--mat-stepper-header-error-state-icon-foreground-color: #f44336;--mat-stepper-header-error-state-icon-background-color: transparent}html[_ngcontent-%COMP%]   .mat-step-header.mat-accent[_ngcontent-%COMP%]{--mat-stepper-header-icon-foreground-color: white;--mat-stepper-header-selected-state-icon-background-color: #ff4081;--mat-stepper-header-selected-state-icon-foreground-color: white;--mat-stepper-header-done-state-icon-background-color: #ff4081;--mat-stepper-header-done-state-icon-foreground-color: white;--mat-stepper-header-edit-state-icon-background-color: #ff4081;--mat-stepper-header-edit-state-icon-foreground-color: white}html[_ngcontent-%COMP%]   .mat-step-header.mat-warn[_ngcontent-%COMP%]{--mat-stepper-header-icon-foreground-color: white;--mat-stepper-header-selected-state-icon-background-color: #f44336;--mat-stepper-header-selected-state-icon-foreground-color: white;--mat-stepper-header-done-state-icon-background-color: #f44336;--mat-stepper-header-done-state-icon-foreground-color: white;--mat-stepper-header-edit-state-icon-background-color: #f44336;--mat-stepper-header-edit-state-icon-foreground-color: white}html[_ngcontent-%COMP%]{--mat-stepper-header-height: 72px}.mat-sort-header-arrow[_ngcontent-%COMP%]{color:#c6c6c6}html[_ngcontent-%COMP%]{--mat-toolbar-container-background-color: #212121;--mat-toolbar-container-text-color: white}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{--mat-toolbar-container-background-color: #9e9e9e;--mat-toolbar-container-text-color: rgba(0, 0, 0, .87)}.mat-toolbar.mat-accent[_ngcontent-%COMP%]{--mat-toolbar-container-background-color: #ff4081;--mat-toolbar-container-text-color: white}.mat-toolbar.mat-warn[_ngcontent-%COMP%]{--mat-toolbar-container-background-color: #f44336;--mat-toolbar-container-text-color: white}html[_ngcontent-%COMP%]{--mat-toolbar-standard-height: 64px;--mat-toolbar-mobile-height: 56px}.mat-tree[_ngcontent-%COMP%]{background:#424242}.mat-tree-node[_ngcontent-%COMP%], .mat-nested-tree-node[_ngcontent-%COMP%]{color:#fff}.mat-tree-node[_ngcontent-%COMP%]{min-height:48px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px;height:7px;overflow-y:scroll;background:rgba(158,158,158,.1);box-shadow:inset 0 0 4px #707070}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #9e9e9e33;border-radius:2px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:rgba(158,158,158,.5);border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9e9e9e}.card[_ngcontent-%COMP%]{max-width:400px;background:rgba(189,189,189,.5)}.grid[_ngcontent-%COMP%]{background:rgba(238,238,238,.5)}"]})}return n})()},{path:"manager",component:Wwe,canActivate:[aT]},{path:"editor/:id",component:Awe,canActivate:[aT],canDeactivate:[A8]},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"*",redirectTo:"/login"},{path:"**",redirectTo:"/login"}];let iCe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[$b.forRoot(nCe),$b]})}return n})(),rCe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n});static#n=this.\u0275inj=Pt({imports:[si,z5,E8,im,$b,gB,uB,fF,JA,AH,aB,pF,ZS,u8,b8]})}return n})(),oCe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n,bootstrap:[M8,p8]});static#n=this.\u0275inj=Pt({imports:[si,JA,im]})}return n})(),sCe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=Lt({type:n,bootstrap:[Nie]});static#n=this.\u0275inj=Pt({providers:[rg,Lu,aT,h8,g8,ng,A8,w8],imports:[iCe,eL,fF,pte,jxe,rCe,oCe,Ple,tCe,E8,im]})}return n})();uQ().bootstrapModule(sCe).catch(n=>console.error(n))},8767:(S,U,p)=>{S.exports={graphlib:p(5849),layout:p(4395),debug:p(4232),util:{time:p(9505).time,notime:p(9505).notime},version:p(2187)}},1791:(S,U,p)=>{"use strict";var _=p(3990),C=p(5123);S.exports={run:function M(T){var P="greedy"===T.graph().acyclicer?C(T,function I(L){return function(F){return L.edge(F).weight}}(T)):function A(T){var P=[],I={},L={};return _.forEach(T.nodes(),function F(k){_.has(L,k)||(L[k]=!0,I[k]=!0,_.forEach(T.outEdges(k),function(V){_.has(I,V.w)?P.push(V):F(V.w)}),delete I[k])}),P}(T);_.forEach(P,function(L){var F=T.edge(L);T.removeEdge(L),F.forwardName=L.name,F.reversed=!0,T.setEdge(L.w,L.v,F,_.uniqueId("rev"))})},undo:function w(T){_.forEach(T.edges(),function(P){var I=T.edge(P);if(I.reversed){T.removeEdge(P);var L=I.forwardName;delete I.reversed,delete I.forwardName,T.setEdge(P.w,P.v,I,L)}})}}},7130:(S,U,p)=>{var _=p(3990),C=p(9505);function A(w,T,P,I,L,F){var V=L[T][F-1],X=C.addDummyNode(w,"border",{width:0,height:0,rank:F,borderType:T},P);L[T][F]=X,w.setParent(X,I),V&&w.setEdge(V,X,{weight:1})}S.exports=function M(w){_.forEach(w.children(),function T(P){var I=w.children(P),L=w.node(P);if(I.length&&_.forEach(I,T),_.has(L,"minRank")){L.borderLeft=[],L.borderRight=[];for(var F=L.minRank,k=L.maxRank+1;F<k;++F)A(w,"borderLeft","_bl",P,L,F),A(w,"borderRight","_br",P,L,F)}})}},1048:(S,U,p)=>{"use strict";var _=p(3990);function A(F){_.forEach(F.nodes(),function(k){w(F.node(k))}),_.forEach(F.edges(),function(k){w(F.edge(k))})}function w(F){var k=F.width;F.width=F.height,F.height=k}function P(F){F.y=-F.y}function L(F){var k=F.x;F.x=F.y,F.y=k}S.exports={adjust:function C(F){var k=F.graph().rankdir.toLowerCase();("lr"===k||"rl"===k)&&A(F)},undo:function M(F){var k=F.graph().rankdir.toLowerCase();("bt"===k||"rl"===k)&&function T(F){_.forEach(F.nodes(),function(k){P(F.node(k))}),_.forEach(F.edges(),function(k){var V=F.edge(k);_.forEach(V.points,P),_.has(V,"y")&&P(V)})}(F),("lr"===k||"rl"===k)&&(function I(F){_.forEach(F.nodes(),function(k){L(F.node(k))}),_.forEach(F.edges(),function(k){var V=F.edge(k);_.forEach(V.points,L),_.has(V,"x")&&L(V)})}(F),A(F))}}},4312:S=>{function U(){var C={};C._next=C._prev=C,this._sentinel=C}function p(C){C._prev._next=C._next,C._next._prev=C._prev,delete C._next,delete C._prev}function _(C,M){if("_next"!==C&&"_prev"!==C)return M}S.exports=U,U.prototype.dequeue=function(){var C=this._sentinel,M=C._prev;if(M!==C)return p(M),M},U.prototype.enqueue=function(C){var M=this._sentinel;C._prev&&C._next&&p(C),C._next=M._next,M._next._prev=C,M._next=C,C._prev=M},U.prototype.toString=function(){for(var C=[],M=this._sentinel,A=M._prev;A!==M;)C.push(JSON.stringify(A,_)),A=A._prev;return"["+C.join(", ")+"]"}},4232:(S,U,p)=>{var _=p(3990),C=p(9505),M=p(5849).Graph;S.exports={debugOrdering:function A(w){var T=C.buildLayerMatrix(w),P=new M({compound:!0,multigraph:!0}).setGraph({});return _.forEach(w.nodes(),function(I){P.setNode(I,{label:I}),P.setParent(I,"layer"+w.node(I).rank)}),_.forEach(w.edges(),function(I){P.setEdge(I.v,I.w,{},I.name)}),_.forEach(T,function(I,L){P.setNode("layer"+L,{rank:"same"}),_.reduce(I,function(k,V){return P.setEdge(k,V,{style:"invis"}),V})}),P}}},5849:(S,U,p)=>{var _;try{_=p(9034)}catch{}_||(_=window.graphlib),S.exports=_},5123:(S,U,p)=>{var _=p(3990),C=p(5849).Graph,M=p(4312);S.exports=function w(F,k){if(F.nodeCount()<=1)return[];var V=function I(F,k){var V=new C,X=0,J=0;_.forEach(F.nodes(),function(oe){V.setNode(oe,{v:oe,in:0,out:0})}),_.forEach(F.edges(),function(oe){var ye=V.edge(oe.v,oe.w)||0,me=k(oe);V.setEdge(oe.v,oe.w,ye+me),J=Math.max(J,V.node(oe.v).out+=me),X=Math.max(X,V.node(oe.w).in+=me)});var Te=_.range(J+X+3).map(function(){return new M}),ve=X+1;return _.forEach(V.nodes(),function(oe){L(Te,ve,V.node(oe))}),{graph:V,buckets:Te,zeroIdx:ve}}(F,k||A),X=function T(F,k,V){for(var ve,X=[],J=k[k.length-1],Te=k[0];F.nodeCount();){for(;ve=Te.dequeue();)P(F,k,V,ve);for(;ve=J.dequeue();)P(F,k,V,ve);if(F.nodeCount())for(var oe=k.length-2;oe>0;--oe)if(ve=k[oe].dequeue()){X=X.concat(P(F,k,V,ve,!0));break}}return X}(V.graph,V.buckets,V.zeroIdx);return _.flatten(_.map(X,function(J){return F.outEdges(J.v,J.w)}),!0)};var A=_.constant(1);function P(F,k,V,X,J){var Te=J?[]:void 0;return _.forEach(F.inEdges(X.v),function(ve){var oe=F.edge(ve),ye=F.node(ve.v);J&&Te.push({v:ve.v,w:ve.w}),ye.out-=oe,L(k,V,ye)}),_.forEach(F.outEdges(X.v),function(ve){var oe=F.edge(ve),me=F.node(ve.w);me.in-=oe,L(k,V,me)}),F.removeNode(X.v),Te}function L(F,k,V){V.out?V.in?F[V.out-V.in+k].enqueue(V):F[F.length-1].enqueue(V):F[0].enqueue(V)}},4395:(S,U,p)=>{"use strict";var _=p(3990),C=p(1791),M=p(1684),A=p(3752),w=p(9505).normalizeRanks,T=p(1250),P=p(9505).removeEmptyRanks,I=p(4525),L=p(7130),F=p(1048),k=p(1574),V=p(6403),X=p(9505),J=p(5849).Graph;S.exports=function Te(Le,Ze){var ht=Ze&&Ze.debugTiming?X.time:X.notime;ht("layout",function(){var tt=ht("  buildLayoutGraph",function(){return function ot(Le){var Ze=new J({multigraph:!0,compound:!0}),ht=ac(Le.graph());return Ze.setGraph(_.merge({},me,sc(ht,ye),_.pick(ht,xe))),_.forEach(Le.nodes(),function(tt){var yn=ac(Le.node(tt));Ze.setNode(tt,_.defaults(sc(yn,Se),ke)),Ze.setParent(tt,Le.parent(tt))}),_.forEach(Le.edges(),function(tt){var yn=ac(Le.edge(tt));Ze.setEdge(tt,_.merge({},We,sc(yn,Xe),_.pick(yn,st)))}),Ze}(Le)});ht("  runLayout",function(){!function ve(Le,Ze){Ze("    makeSpaceForEdgeLabels",function(){!function at(Le){var Ze=Le.graph();Ze.ranksep/=2,_.forEach(Le.edges(),function(ht){var tt=Le.edge(ht);tt.minlen*=2,"c"!==tt.labelpos.toLowerCase()&&("TB"===Ze.rankdir||"BT"===Ze.rankdir?tt.width+=tt.labeloffset:tt.height+=tt.labeloffset)})}(Le)}),Ze("    removeSelfEdges",function(){!function df(Le){_.forEach(Le.edges(),function(Ze){if(Ze.v===Ze.w){var ht=Le.node(Ze.v);ht.selfEdges||(ht.selfEdges=[]),ht.selfEdges.push({e:Ze,label:Le.edge(Ze)}),Le.removeEdge(Ze)}})}(Le)}),Ze("    acyclic",function(){C.run(Le)}),Ze("    nestingGraph.run",function(){I.run(Le)}),Ze("    rank",function(){A(X.asNonCompoundGraph(Le))}),Ze("    injectEdgeLabelProxies",function(){!function ft(Le){_.forEach(Le.edges(),function(Ze){var ht=Le.edge(Ze);if(ht.width&&ht.height){var tt=Le.node(Ze.v),yn=Le.node(Ze.w);X.addDummyNode(Le,"edge-proxy",{rank:(yn.rank-tt.rank)/2+tt.rank,e:Ze},"_ep")}})}(Le)}),Ze("    removeEmptyRanks",function(){P(Le)}),Ze("    nestingGraph.cleanup",function(){I.cleanup(Le)}),Ze("    normalizeRanks",function(){w(Le)}),Ze("    assignRankMinMax",function(){!function Nt(Le){var Ze=0;_.forEach(Le.nodes(),function(ht){var tt=Le.node(ht);tt.borderTop&&(tt.minRank=Le.node(tt.borderTop).rank,tt.maxRank=Le.node(tt.borderBottom).rank,Ze=_.max(Ze,tt.maxRank))}),Le.graph().maxRank=Ze}(Le)}),Ze("    removeEdgeLabelProxies",function(){!function Vt(Le){_.forEach(Le.nodes(),function(Ze){var ht=Le.node(Ze);"edge-proxy"===ht.dummy&&(Le.edge(ht.e).labelRank=ht.rank,Le.removeNode(Ze))})}(Le)}),Ze("    normalize.run",function(){M.run(Le)}),Ze("    parentDummyChains",function(){T(Le)}),Ze("    addBorderSegments",function(){L(Le)}),Ze("    order",function(){k(Le)}),Ze("    insertSelfEdges",function(){!function uf(Le){var Ze=X.buildLayerMatrix(Le);_.forEach(Ze,function(ht){var tt=0;_.forEach(ht,function(yn,ai){var pi=Le.node(yn);pi.order=ai+tt,_.forEach(pi.selfEdges,function(Pr){X.addDummyNode(Le,"selfedge",{width:Pr.label.width,height:Pr.label.height,rank:pi.rank,order:ai+ ++tt,e:Pr.e,label:Pr.label},"_se")}),delete pi.selfEdges})})}(Le)}),Ze("    adjustCoordinateSystem",function(){F.adjust(Le)}),Ze("    position",function(){V(Le)}),Ze("    positionSelfEdges",function(){!function Et(Le){_.forEach(Le.nodes(),function(Ze){var ht=Le.node(Ze);if("selfedge"===ht.dummy){var tt=Le.node(ht.e.v),yn=tt.x+tt.width/2,ai=tt.y,pi=ht.x-yn,Pr=tt.height/2;Le.setEdge(ht.e,ht.label),Le.removeNode(Ze),ht.label.points=[{x:yn+2*pi/3,y:ai-Pr},{x:yn+5*pi/6,y:ai-Pr},{x:yn+pi,y:ai},{x:yn+5*pi/6,y:ai+Pr},{x:yn+2*pi/3,y:ai+Pr}],ht.label.x=ht.x,ht.label.y=ht.y}})}(Le)}),Ze("    removeBorderNodes",function(){!function ga(Le){_.forEach(Le.nodes(),function(Ze){if(Le.children(Ze).length){var ht=Le.node(Ze),tt=Le.node(ht.borderTop),yn=Le.node(ht.borderBottom),ai=Le.node(_.last(ht.borderLeft)),pi=Le.node(_.last(ht.borderRight));ht.width=Math.abs(pi.x-ai.x),ht.height=Math.abs(yn.y-tt.y),ht.x=ai.x+ht.width/2,ht.y=tt.y+ht.height/2}}),_.forEach(Le.nodes(),function(Ze){"border"===Le.node(Ze).dummy&&Le.removeNode(Ze)})}(Le)}),Ze("    normalize.undo",function(){M.undo(Le)}),Ze("    fixupEdgeLabelCoords",function(){!function Jt(Le){_.forEach(Le.edges(),function(Ze){var ht=Le.edge(Ze);if(_.has(ht,"x"))switch(("l"===ht.labelpos||"r"===ht.labelpos)&&(ht.width-=ht.labeloffset),ht.labelpos){case"l":ht.x-=ht.width/2+ht.labeloffset;break;case"r":ht.x+=ht.width/2+ht.labeloffset}})}(Le)}),Ze("    undoCoordinateSystem",function(){F.undo(Le)}),Ze("    translateGraph",function(){!function Dn(Le){var Ze=Number.POSITIVE_INFINITY,ht=0,tt=Number.POSITIVE_INFINITY,yn=0,ai=Le.graph(),pi=ai.marginx||0,Pr=ai.marginy||0;function Td(Or){var br=Or.x,Bn=Or.y,cc=Or.width,Un=Or.height;Ze=Math.min(Ze,br-cc/2),ht=Math.max(ht,br+cc/2),tt=Math.min(tt,Bn-Un/2),yn=Math.max(yn,Bn+Un/2)}_.forEach(Le.nodes(),function(Or){Td(Le.node(Or))}),_.forEach(Le.edges(),function(Or){var br=Le.edge(Or);_.has(br,"x")&&Td(br)}),Ze-=pi,tt-=Pr,_.forEach(Le.nodes(),function(Or){var br=Le.node(Or);br.x-=Ze,br.y-=tt}),_.forEach(Le.edges(),function(Or){var br=Le.edge(Or);_.forEach(br.points,function(Bn){Bn.x-=Ze,Bn.y-=tt}),_.has(br,"x")&&(br.x-=Ze),_.has(br,"y")&&(br.y-=tt)}),ai.width=ht-Ze+pi,ai.height=yn-tt+Pr}(Le)}),Ze("    assignNodeIntersects",function(){!function kn(Le){_.forEach(Le.edges(),function(Ze){var ai,pi,ht=Le.edge(Ze),tt=Le.node(Ze.v),yn=Le.node(Ze.w);ht.points?(ai=ht.points[0],pi=ht.points[ht.points.length-1]):(ht.points=[],ai=yn,pi=tt),ht.points.unshift(X.intersectRect(tt,ai)),ht.points.push(X.intersectRect(yn,pi))})}(Le)}),Ze("    reversePoints",function(){!function ma(Le){_.forEach(Le.edges(),function(Ze){var ht=Le.edge(Ze);ht.reversed&&ht.points.reverse()})}(Le)}),Ze("    acyclic.undo",function(){C.undo(Le)})}(tt,ht)}),ht("  updateInputGraph",function(){!function oe(Le,Ze){_.forEach(Le.nodes(),function(ht){var tt=Le.node(ht),yn=Ze.node(ht);tt&&(tt.x=yn.x,tt.y=yn.y,Ze.children(ht).length&&(tt.width=yn.width,tt.height=yn.height))}),_.forEach(Le.edges(),function(ht){var tt=Le.edge(ht),yn=Ze.edge(ht);tt.points=yn.points,_.has(yn,"x")&&(tt.x=yn.x,tt.y=yn.y)}),Le.graph().width=Ze.graph().width,Le.graph().height=Ze.graph().height}(Le,tt)})})};var ye=["nodesep","edgesep","ranksep","marginx","marginy"],me={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},xe=["acyclicer","ranker","rankdir","align"],Se=["width","height"],ke={width:0,height:0},Xe=["minlen","weight","width","height","labeloffset"],We={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},st=["labelpos"];function sc(Le,Ze){return _.mapValues(_.pick(Le,Ze),Number)}function ac(Le){var Ze={};return _.forEach(Le,function(ht,tt){Ze[tt.toLowerCase()]=ht}),Ze}},3990:(S,U,p)=>{var _;try{_={cloneDeep:p(4451),constant:p(1075),defaults:p(5433),each:p(6488),filter:p(7661),find:p(6177),flatten:p(9336),forEach:p(7170),forIn:p(1658),has:p(8669),isUndefined:p(8152),last:p(2819),map:p(8921),mapValues:p(6054),max:p(5664),merge:p(2213),min:p(1007),minBy:p(50),now:p(5533),pick:p(7607),range:p(5953),reduce:p(5909),sortBy:p(7184),uniqueId:p(4538),values:p(8808),zipObject:p(4606)}}catch{}_||(_=window._),S.exports=_},4525:(S,U,p)=>{var _=p(3990),C=p(9505);function A(I,L,F,k,V,X,J){var Te=I.children(J);if(Te.length){var ve=C.addBorderNode(I,"_bt"),oe=C.addBorderNode(I,"_bb"),ye=I.node(J);I.setParent(ve,J),ye.borderTop=ve,I.setParent(oe,J),ye.borderBottom=oe,_.forEach(Te,function(me){A(I,L,F,k,V,X,me);var xe=I.node(me),Se=xe.borderTop?xe.borderTop:me,ke=xe.borderBottom?xe.borderBottom:me,Xe=xe.borderTop?k:2*k,We=Se!==ke?1:V-X[J]+1;I.setEdge(ve,Se,{weight:Xe,minlen:We,nestingEdge:!0}),I.setEdge(ke,oe,{weight:Xe,minlen:We,nestingEdge:!0})}),I.parent(J)||I.setEdge(L,ve,{weight:0,minlen:V+X[J]})}else J!==L&&I.setEdge(L,J,{weight:0,minlen:F})}S.exports={run:function M(I){var L=C.addDummyNode(I,"root",{},"_root"),F=function w(I){var L={};function F(k,V){var X=I.children(k);X&&X.length&&_.forEach(X,function(J){F(J,V+1)}),L[k]=V}return _.forEach(I.children(),function(k){F(k,1)}),L}(I),k=_.max(_.values(F))-1,V=2*k+1;I.graph().nestingRoot=L,_.forEach(I.edges(),function(J){I.edge(J).minlen*=V});var X=function T(I){return _.reduce(I.edges(),function(L,F){return L+I.edge(F).weight},0)}(I)+1;_.forEach(I.children(),function(J){A(I,L,V,X,k,F,J)}),I.graph().nodeRankFactor=V},cleanup:function P(I){var L=I.graph();I.removeNode(L.nestingRoot),delete L.nestingRoot,_.forEach(I.edges(),function(F){I.edge(F).nestingEdge&&I.removeEdge(F)})}}},1684:(S,U,p)=>{"use strict";var _=p(3990),C=p(9505);S.exports={run:function M(T){T.graph().dummyChains=[],_.forEach(T.edges(),function(P){!function A(T,P){var I=P.v,L=T.node(I).rank,F=P.w,k=T.node(F).rank,V=P.name,X=T.edge(P),J=X.labelRank;if(k!==L+1){var Te,ve,oe;for(T.removeEdge(P),oe=0,++L;L<k;++oe,++L)X.points=[],Te=C.addDummyNode(T,"edge",ve={width:0,height:0,edgeLabel:X,edgeObj:P,rank:L},"_d"),L===J&&(ve.width=X.width,ve.height=X.height,ve.dummy="edge-label",ve.labelpos=X.labelpos),T.setEdge(I,Te,{weight:X.weight},V),0===oe&&T.graph().dummyChains.push(Te),I=Te;T.setEdge(I,F,{weight:X.weight},V)}}(T,P)})},undo:function w(T){_.forEach(T.graph().dummyChains,function(P){var F,I=T.node(P),L=I.edgeLabel;for(T.setEdge(I.edgeObj,L);I.dummy;)F=T.successors(P)[0],T.removeNode(P),L.points.push({x:I.x,y:I.y}),"edge-label"===I.dummy&&(L.x=I.x,L.y=I.y,L.width=I.width,L.height=I.height),I=T.node(P=F)})}}},9821:(S,U,p)=>{var _=p(3990);S.exports=function C(M,A,w){var P,T={};_.forEach(w,function(I){for(var F,k,L=M.parent(I);L;){if((F=M.parent(L))?(k=T[F],T[F]=L):(k=P,P=L),k&&k!==L)return void A.setEdge(k,L);L=F}})}},7995:(S,U,p)=>{var _=p(3990);S.exports=function C(M,A){return _.map(A,function(w){var T=M.inEdges(w);if(T.length){var P=_.reduce(T,function(I,L){var F=M.edge(L),k=M.node(L.v);return{sum:I.sum+F.weight*k.order,weight:I.weight+F.weight}},{sum:0,weight:0});return{v:w,barycenter:P.sum/P.weight,weight:P.weight}}return{v:w}})}},9384:(S,U,p)=>{var _=p(3990),C=p(5849).Graph;S.exports=function M(w,T,P){var I=function A(w){for(var T;w.hasNode(T=_.uniqueId("_root")););return T}(w),L=new C({compound:!0}).setGraph({root:I}).setDefaultNodeLabel(function(F){return w.node(F)});return _.forEach(w.nodes(),function(F){var k=w.node(F),V=w.parent(F);(k.rank===T||k.minRank<=T&&T<=k.maxRank)&&(L.setNode(F),L.setParent(F,V||I),_.forEach(w[P](F),function(X){var J=X.v===F?X.w:X.v,Te=L.edge(J,F),ve=_.isUndefined(Te)?0:Te.weight;L.setEdge(J,F,{weight:w.edge(X).weight+ve})}),_.has(k,"minRank")&&L.setNode(F,{borderLeft:k.borderLeft[T],borderRight:k.borderRight[T]}))}),L}},444:(S,U,p)=>{"use strict";var _=p(3990);function M(A,w,T){for(var P=_.zipObject(T,_.map(T,function(X,J){return J})),I=_.flatten(_.map(w,function(X){return _.sortBy(_.map(A.outEdges(X),function(J){return{pos:P[J.w],weight:A.edge(J).weight}}),"pos")}),!0),L=1;L<T.length;)L<<=1;var F=2*L-1;L-=1;var k=_.map(new Array(F),function(){return 0}),V=0;return _.forEach(I.forEach(function(X){var J=X.pos+L;k[J]+=X.weight;for(var Te=0;J>0;)J%2&&(Te+=k[J+1]),k[J=J-1>>1]+=X.weight;V+=X.weight*Te})),V}S.exports=function C(A,w){for(var T=0,P=1;P<w.length;++P)T+=M(A,w[P-1],w[P]);return T}},1574:(S,U,p)=>{"use strict";var _=p(3990),C=p(320),M=p(444),A=p(8005),w=p(9384),T=p(9821),P=p(5849).Graph,I=p(9505);function F(X,J,Te){return _.map(J,function(ve){return w(X,ve,Te)})}function k(X,J){var Te=new P;_.forEach(X,function(ve){var oe=ve.graph().root,ye=A(ve,oe,Te,J);_.forEach(ye.vs,function(me,xe){ve.node(me).order=xe}),T(ve,Te,ye.vs)})}function V(X,J){_.forEach(J,function(Te){_.forEach(Te,function(ve,oe){X.node(ve).order=oe})})}S.exports=function L(X){var J=I.maxRank(X),Te=F(X,_.range(1,J+1),"inEdges"),ve=F(X,_.range(J-1,-1,-1),"outEdges"),oe=C(X);V(X,oe);for(var me,ye=Number.POSITIVE_INFINITY,xe=0,Se=0;Se<4;++xe,++Se){k(xe%2?Te:ve,xe%4>=2),oe=I.buildLayerMatrix(X);var ke=M(X,oe);ke<ye&&(Se=0,me=_.cloneDeep(oe),ye=ke)}V(X,me)}},320:(S,U,p)=>{"use strict";var _=p(3990);S.exports=function C(M){var A={},w=_.filter(M.nodes(),function(F){return!M.children(F).length}),T=_.max(_.map(w,function(F){return M.node(F).rank})),P=_.map(_.range(T+1),function(){return[]}),L=_.sortBy(w,function(F){return M.node(F).rank});return _.forEach(L,function I(F){if(!_.has(A,F)){A[F]=!0;var k=M.node(F);P[k.rank].push(F),_.forEach(M.successors(F),I)}}),P}},6686:(S,U,p)=>{"use strict";var _=p(3990);S.exports=function C(w,T){var P={};return _.forEach(w,function(L,F){var k=P[L.v]={indegree:0,in:[],out:[],vs:[L.v],i:F};_.isUndefined(L.barycenter)||(k.barycenter=L.barycenter,k.weight=L.weight)}),_.forEach(T.edges(),function(L){var F=P[L.v],k=P[L.w];!_.isUndefined(F)&&!_.isUndefined(k)&&(k.indegree++,F.out.push(P[L.w]))}),function M(w){var T=[];function P(F){return function(k){k.merged||(_.isUndefined(k.barycenter)||_.isUndefined(F.barycenter)||k.barycenter>=F.barycenter)&&function A(w,T){var P=0,I=0;w.weight&&(P+=w.barycenter*w.weight,I+=w.weight),T.weight&&(P+=T.barycenter*T.weight,I+=T.weight),w.vs=T.vs.concat(w.vs),w.barycenter=P/I,w.weight=I,w.i=Math.min(T.i,w.i),T.merged=!0}(F,k)}}function I(F){return function(k){k.in.push(F),0==--k.indegree&&w.push(k)}}for(;w.length;){var L=w.pop();T.push(L),_.forEach(L.in.reverse(),P(L)),_.forEach(L.out,I(L))}return _.map(_.filter(T,function(F){return!F.merged}),function(F){return _.pick(F,["vs","i","barycenter","weight"])})}(_.filter(P,function(L){return!L.indegree}))}},8005:(S,U,p)=>{var _=p(3990),C=p(7995),M=p(6686),A=p(8380);S.exports=function w(I,L,F,k){var V=I.children(L),X=I.node(L),J=X?X.borderLeft:void 0,Te=X?X.borderRight:void 0,ve={};J&&(V=_.filter(V,function(ke){return ke!==J&&ke!==Te}));var oe=C(I,V);_.forEach(oe,function(ke){if(I.children(ke.v).length){var Xe=w(I,ke.v,F,k);ve[ke.v]=Xe,_.has(Xe,"barycenter")&&function P(I,L){_.isUndefined(I.barycenter)?(I.barycenter=L.barycenter,I.weight=L.weight):(I.barycenter=(I.barycenter*I.weight+L.barycenter*L.weight)/(I.weight+L.weight),I.weight+=L.weight)}(ke,Xe)}});var ye=M(oe,F);!function T(I,L){_.forEach(I,function(F){F.vs=_.flatten(F.vs.map(function(k){return L[k]?L[k].vs:k}),!0)})}(ye,ve);var me=A(ye,k);if(J&&(me.vs=_.flatten([J,me.vs,Te],!0),I.predecessors(J).length)){var xe=I.node(I.predecessors(J)[0]),Se=I.node(I.predecessors(Te)[0]);_.has(me,"barycenter")||(me.barycenter=0,me.weight=0),me.barycenter=(me.barycenter*me.weight+xe.order+Se.order)/(me.weight+2),me.weight+=2}return me}},8380:(S,U,p)=>{var _=p(3990),C=p(9505);function A(T,P,I){for(var L;P.length&&(L=_.last(P)).i<=I;)P.pop(),T.push(L.vs),I++;return I}S.exports=function M(T,P){var I=C.partition(T,function(ve){return _.has(ve,"barycenter")}),L=I.lhs,F=_.sortBy(I.rhs,function(ve){return-ve.i}),k=[],V=0,X=0,J=0;L.sort(function w(T){return function(P,I){return P.barycenter<I.barycenter?-1:P.barycenter>I.barycenter?1:T?I.i-P.i:P.i-I.i}}(!!P)),J=A(k,F,J),_.forEach(L,function(ve){J+=ve.vs.length,k.push(ve.vs),V+=ve.barycenter*ve.weight,X+=ve.weight,J=A(k,F,J)});var Te={vs:_.flatten(k,!0)};return X&&(Te.barycenter=V/X,Te.weight=X),Te}},1250:(S,U,p)=>{var _=p(3990);S.exports=function C(w){var T=function A(w){var T={},P=0;return _.forEach(w.children(),function I(L){var F=P;_.forEach(w.children(L),I),T[L]={low:F,lim:P++}}),T}(w);_.forEach(w.graph().dummyChains,function(P){for(var I=w.node(P),L=I.edgeObj,F=function M(w,T,P,I){var X,J,L=[],F=[],k=Math.min(T[P].low,T[I].low),V=Math.max(T[P].lim,T[I].lim);X=P;do{X=w.parent(X),L.push(X)}while(X&&(T[X].low>k||V>T[X].lim));for(J=X,X=I;(X=w.parent(X))!==J;)F.push(X);return{path:L.concat(F.reverse()),lca:J}}(w,T,L.v,L.w),k=F.path,V=F.lca,X=0,J=k[X],Te=!0;P!==L.w;){if(I=w.node(P),Te){for(;(J=k[X])!==V&&w.node(J).maxRank<I.rank;)X++;J===V&&(Te=!1)}if(!Te){for(;X<k.length-1&&w.node(J=k[X+1]).minRank<=I.rank;)X++;J=k[X]}w.setParent(P,J),P=w.successors(P)[0]}})}},8851:(S,U,p)=>{"use strict";var _=p(3990),C=p(5849).Graph,M=p(9505);function A(ye,me){var xe={};return _.reduce(me,function Se(ke,Xe){var We=0,st=0,ot=ke.length,at=_.last(Xe);return _.forEach(Xe,function(ft,Nt){var Vt=function T(ye,me){if(ye.node(me).dummy)return _.find(ye.predecessors(me),function(xe){return ye.node(xe).dummy})}(ye,ft),Dn=Vt?ye.node(Vt).order:ot;(Vt||ft===at)&&(_.forEach(Xe.slice(st,Nt+1),function(kn){_.forEach(ye.predecessors(kn),function(Jt){var ma=ye.node(Jt),ga=ma.order;(ga<We||Dn<ga)&&(!ma.dummy||!ye.node(kn).dummy)&&P(xe,Jt,kn)})}),st=Nt+1,We=Dn)}),Xe}),xe}function w(ye,me){var xe={};function Se(Xe,We,st,ot,at){var ft;_.forEach(_.range(We,st),function(Nt){ye.node(ft=Xe[Nt]).dummy&&_.forEach(ye.predecessors(ft),function(Vt){var Dn=ye.node(Vt);Dn.dummy&&(Dn.order<ot||Dn.order>at)&&P(xe,Vt,ft)})})}return _.reduce(me,function ke(Xe,We){var ot,st=-1,at=0;return _.forEach(We,function(ft,Nt){if("border"===ye.node(ft).dummy){var Vt=ye.predecessors(ft);Vt.length&&(ot=ye.node(Vt[0]).order,Se(We,at,Nt,st,ot),at=Nt,st=ot)}Se(We,at,We.length,ot,Xe.length)}),We}),xe}function P(ye,me,xe){if(me>xe){var Se=me;me=xe,xe=Se}var ke=ye[me];ke||(ye[me]=ke={}),ke[xe]=!0}function I(ye,me,xe){if(me>xe){var Se=me;me=xe,xe=Se}return _.has(ye[me],xe)}function L(ye,me,xe,Se){var ke={},Xe={},We={};return _.forEach(me,function(st){_.forEach(st,function(ot,at){ke[ot]=ot,Xe[ot]=ot,We[ot]=at})}),_.forEach(me,function(st){var ot=-1;_.forEach(st,function(at){var ft=Se(at);if(ft.length)for(var Nt=((ft=_.sortBy(ft,function(Jt){return We[Jt]})).length-1)/2,Vt=Math.floor(Nt),Dn=Math.ceil(Nt);Vt<=Dn;++Vt){var kn=ft[Vt];Xe[at]===at&&ot<We[kn]&&!I(xe,at,kn)&&(Xe[kn]=at,Xe[at]=ke[at]=ke[kn],ot=We[kn])}})}),{root:ke,align:Xe}}function F(ye,me,xe,Se,ke){var Xe={},We=function k(ye,me,xe,Se){var ke=new C,Xe=ye.graph(),We=function ve(ye,me,xe){return function(Se,ke,Xe){var at,We=Se.node(ke),st=Se.node(Xe),ot=0;if(ot+=We.width/2,_.has(We,"labelpos"))switch(We.labelpos.toLowerCase()){case"l":at=-We.width/2;break;case"r":at=We.width/2}if(at&&(ot+=xe?at:-at),at=0,ot+=(We.dummy?me:ye)/2,ot+=(st.dummy?me:ye)/2,ot+=st.width/2,_.has(st,"labelpos"))switch(st.labelpos.toLowerCase()){case"l":at=st.width/2;break;case"r":at=-st.width/2}return at&&(ot+=xe?at:-at),at=0,ot}}(Xe.nodesep,Xe.edgesep,Se);return _.forEach(me,function(st){var ot;_.forEach(st,function(at){var ft=xe[at];if(ke.setNode(ft),ot){var Nt=xe[ot],Vt=ke.edge(Nt,ft);ke.setEdge(Nt,ft,Math.max(We(ye,at,ot),Vt||0))}ot=at})}),ke}(ye,me,xe,ke),st=ke?"borderLeft":"borderRight";function ot(Nt,Vt){for(var Dn=We.nodes(),kn=Dn.pop(),Jt={};kn;)Jt[kn]?Nt(kn):(Jt[kn]=!0,Dn.push(kn),Dn=Dn.concat(Vt(kn))),kn=Dn.pop()}return ot(function at(Nt){Xe[Nt]=We.inEdges(Nt).reduce(function(Vt,Dn){return Math.max(Vt,Xe[Dn.v]+We.edge(Dn))},0)},We.predecessors.bind(We)),ot(function ft(Nt){var Vt=We.outEdges(Nt).reduce(function(kn,Jt){return Math.min(kn,Xe[Jt.w]-We.edge(Jt))},Number.POSITIVE_INFINITY),Dn=ye.node(Nt);Vt!==Number.POSITIVE_INFINITY&&Dn.borderType!==st&&(Xe[Nt]=Math.max(Xe[Nt],Vt))},We.successors.bind(We)),_.forEach(Se,function(Nt){Xe[Nt]=Xe[xe[Nt]]}),Xe}function V(ye,me){return _.minBy(_.values(me),function(xe){var Se=Number.NEGATIVE_INFINITY,ke=Number.POSITIVE_INFINITY;return _.forIn(xe,function(Xe,We){var st=function oe(ye,me){return ye.node(me).width}(ye,We)/2;Se=Math.max(Xe+st,Se),ke=Math.min(Xe-st,ke)}),Se-ke})}function X(ye,me){var xe=_.values(me),Se=_.min(xe),ke=_.max(xe);_.forEach(["u","d"],function(Xe){_.forEach(["l","r"],function(We){var at,st=Xe+We,ot=ye[st];if(ot!==me){var ft=_.values(ot);(at="l"===We?Se-_.min(ft):ke-_.max(ft))&&(ye[st]=_.mapValues(ot,function(Nt){return Nt+at}))}})})}function J(ye,me){return _.mapValues(ye.ul,function(xe,Se){if(me)return ye[me.toLowerCase()][Se];var ke=_.sortBy(_.map(ye,Se));return(ke[1]+ke[2])/2})}S.exports={positionX:function Te(ye){var ke,me=M.buildLayerMatrix(ye),xe=_.merge(A(ye,me),w(ye,me)),Se={};_.forEach(["u","d"],function(We){ke="u"===We?me:_.values(me).reverse(),_.forEach(["l","r"],function(st){"r"===st&&(ke=_.map(ke,function(Nt){return _.values(Nt).reverse()}));var ot=("u"===We?ye.predecessors:ye.successors).bind(ye),at=L(0,ke,xe,ot),ft=F(ye,ke,at.root,at.align,"r"===st);"r"===st&&(ft=_.mapValues(ft,function(Nt){return-Nt})),Se[We+st]=ft})});var Xe=V(ye,Se);return X(Se,Xe),J(Se,ye.graph().align)},findType1Conflicts:A,findType2Conflicts:w,addConflict:P,hasConflict:I,verticalAlignment:L,horizontalCompaction:F,alignCoordinates:X,findSmallestWidthAlignment:V,balance:J}},6403:(S,U,p)=>{"use strict";var _=p(3990),C=p(9505),M=p(8851).positionX;S.exports=function A(T){(function w(T){var P=C.buildLayerMatrix(T),I=T.graph().ranksep,L=0;_.forEach(P,function(F){var k=_.max(_.map(F,function(V){return T.node(V).height}));_.forEach(F,function(V){T.node(V).y=L+k/2}),L+=k+I})})(T=C.asNonCompoundGraph(T)),_.forEach(M(T),function(P,I){T.node(I).x=P})}},8214:(S,U,p)=>{"use strict";var _=p(3990),C=p(5849).Graph,M=p(4216).slack;function w(I,L){return _.forEach(I.nodes(),function F(k){_.forEach(L.nodeEdges(k),function(V){var X=V.v,J=k===X?V.w:X;!I.hasNode(J)&&!M(L,V)&&(I.setNode(J,{}),I.setEdge(k,J,{}),F(J))})}),I.nodeCount()}function T(I,L){return _.minBy(L.edges(),function(F){if(I.hasNode(F.v)!==I.hasNode(F.w))return M(L,F)})}function P(I,L,F){_.forEach(I.nodes(),function(k){L.node(k).rank+=F})}S.exports=function A(I){var V,X,L=new C({directed:!1}),F=I.nodes()[0],k=I.nodeCount();for(L.setNode(F,{});w(L,I)<k;)V=T(L,I),X=L.hasNode(V.v)?M(I,V):-M(I,V),P(L,I,X);return L}},3752:(S,U,p)=>{"use strict";var C=p(4216).longestPath,M=p(8214),A=p(4857);S.exports=function w(L){switch(L.graph().ranker){case"network-simplex":default:!function I(L){A(L)}(L);break;case"tight-tree":!function P(L){C(L),M(L)}(L);break;case"longest-path":T(L)}};var T=C},4857:(S,U,p)=>{"use strict";var _=p(3990),C=p(8214),M=p(4216).slack,A=p(4216).longestPath,w=p(5849).alg.preorder,T=p(5849).alg.postorder,P=p(9505).simplify;function I(xe){xe=P(xe),A(xe);var ke,Se=C(xe);for(V(Se),L(Se,xe);ke=J(Se);)ve(Se,xe,ke,Te(Se,xe,ke))}function L(xe,Se){var ke=T(xe,xe.nodes());ke=ke.slice(0,ke.length-1),_.forEach(ke,function(Xe){!function F(xe,Se,ke){var Xe=xe.node(ke);xe.edge(ke,Xe.parent).cutvalue=k(xe,Se,ke)}(xe,Se,Xe)})}function k(xe,Se,ke){var We=xe.node(ke).parent,st=!0,ot=Se.edge(ke,We),at=0;return ot||(st=!1,ot=Se.edge(We,ke)),at=ot.weight,_.forEach(Se.nodeEdges(ke),function(ft){var Nt=ft.v===ke,Vt=Nt?ft.w:ft.v;if(Vt!==We){var Dn=Nt===st,kn=Se.edge(ft).weight;if(at+=Dn?kn:-kn,function ye(xe,Se,ke){return xe.hasEdge(Se,ke)}(xe,ke,Vt)){var Jt=xe.edge(ke,Vt).cutvalue;at+=Dn?-Jt:Jt}}}),at}function V(xe,Se){arguments.length<2&&(Se=xe.nodes()[0]),X(xe,{},1,Se)}function X(xe,Se,ke,Xe,We){var st=ke,ot=xe.node(Xe);return Se[Xe]=!0,_.forEach(xe.neighbors(Xe),function(at){_.has(Se,at)||(ke=X(xe,Se,ke,at,Xe))}),ot.low=st,ot.lim=ke++,We?ot.parent=We:delete ot.parent,ke}function J(xe){return _.find(xe.edges(),function(Se){return xe.edge(Se).cutvalue<0})}function Te(xe,Se,ke){var Xe=ke.v,We=ke.w;Se.hasEdge(Xe,We)||(Xe=ke.w,We=ke.v);var st=xe.node(Xe),ot=xe.node(We),at=st,ft=!1;st.lim>ot.lim&&(at=ot,ft=!0);var Nt=_.filter(Se.edges(),function(Vt){return ft===me(0,xe.node(Vt.v),at)&&ft!==me(0,xe.node(Vt.w),at)});return _.minBy(Nt,function(Vt){return M(Se,Vt)})}function ve(xe,Se,ke,Xe){xe.removeEdge(ke.v,ke.w),xe.setEdge(Xe.v,Xe.w,{}),V(xe),L(xe,Se),function oe(xe,Se){var ke=_.find(xe.nodes(),function(We){return!Se.node(We).parent}),Xe=w(xe,ke);Xe=Xe.slice(1),_.forEach(Xe,function(We){var st=xe.node(We).parent,ot=Se.edge(We,st),at=!1;ot||(ot=Se.edge(st,We),at=!0),Se.node(We).rank=Se.node(st).rank+(at?ot.minlen:-ot.minlen)})}(xe,Se)}function me(xe,Se,ke){return ke.low<=Se.lim&&Se.lim<=ke.lim}S.exports=I,I.initLowLimValues=V,I.initCutValues=L,I.calcCutValue=k,I.leaveEdge=J,I.enterEdge=Te,I.exchangeEdges=ve},4216:(S,U,p)=>{"use strict";var _=p(3990);S.exports={longestPath:function C(A){var w={};_.forEach(A.sources(),function T(P){var I=A.node(P);if(_.has(w,P))return I.rank;w[P]=!0;var L=_.min(_.map(A.outEdges(P),function(F){return T(F.w)-A.edge(F).minlen}));return(L===Number.POSITIVE_INFINITY||null==L)&&(L=0),I.rank=L})},slack:function M(A,w){return A.node(w.w).rank-A.node(w.v).rank-A.edge(w).minlen}}},9505:(S,U,p)=>{"use strict";var _=p(3990),C=p(5849).Graph;function M(oe,ye,me,xe){var Se;do{Se=_.uniqueId(xe)}while(oe.hasNode(Se));return me.dummy=ye,oe.setNode(Se,me),Se}function X(oe){return _.max(_.map(oe.nodes(),function(ye){var me=oe.node(ye).rank;if(!_.isUndefined(me))return me}))}S.exports={addDummyNode:M,simplify:function A(oe){var ye=(new C).setGraph(oe.graph());return _.forEach(oe.nodes(),function(me){ye.setNode(me,oe.node(me))}),_.forEach(oe.edges(),function(me){var xe=ye.edge(me.v,me.w)||{weight:0,minlen:1},Se=oe.edge(me);ye.setEdge(me.v,me.w,{weight:xe.weight+Se.weight,minlen:Math.max(xe.minlen,Se.minlen)})}),ye},asNonCompoundGraph:function w(oe){var ye=new C({multigraph:oe.isMultigraph()}).setGraph(oe.graph());return _.forEach(oe.nodes(),function(me){oe.children(me).length||ye.setNode(me,oe.node(me))}),_.forEach(oe.edges(),function(me){ye.setEdge(me,oe.edge(me))}),ye},successorWeights:function T(oe){var ye=_.map(oe.nodes(),function(me){var xe={};return _.forEach(oe.outEdges(me),function(Se){xe[Se.w]=(xe[Se.w]||0)+oe.edge(Se).weight}),xe});return _.zipObject(oe.nodes(),ye)},predecessorWeights:function P(oe){var ye=_.map(oe.nodes(),function(me){var xe={};return _.forEach(oe.inEdges(me),function(Se){xe[Se.v]=(xe[Se.v]||0)+oe.edge(Se).weight}),xe});return _.zipObject(oe.nodes(),ye)},intersectRect:function I(oe,ye){var st,ot,me=oe.x,xe=oe.y,Se=ye.x-me,ke=ye.y-xe,Xe=oe.width/2,We=oe.height/2;if(!Se&&!ke)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(ke)*Xe>Math.abs(Se)*We?(ke<0&&(We=-We),st=We*Se/ke,ot=We):(Se<0&&(Xe=-Xe),st=Xe,ot=Xe*ke/Se),{x:me+st,y:xe+ot}},buildLayerMatrix:function L(oe){var ye=_.map(_.range(X(oe)+1),function(){return[]});return _.forEach(oe.nodes(),function(me){var xe=oe.node(me),Se=xe.rank;_.isUndefined(Se)||(ye[Se][xe.order]=me)}),ye},normalizeRanks:function F(oe){var ye=_.min(_.map(oe.nodes(),function(me){return oe.node(me).rank}));_.forEach(oe.nodes(),function(me){var xe=oe.node(me);_.has(xe,"rank")&&(xe.rank-=ye)})},removeEmptyRanks:function k(oe){var ye=_.min(_.map(oe.nodes(),function(ke){return oe.node(ke).rank})),me=[];_.forEach(oe.nodes(),function(ke){var Xe=oe.node(ke).rank-ye;me[Xe]||(me[Xe]=[]),me[Xe].push(ke)});var xe=0,Se=oe.graph().nodeRankFactor;_.forEach(me,function(ke,Xe){_.isUndefined(ke)&&Xe%Se!=0?--xe:xe&&_.forEach(ke,function(We){oe.node(We).rank+=xe})})},addBorderNode:function V(oe,ye,me,xe){var Se={width:0,height:0};return arguments.length>=4&&(Se.rank=me,Se.order=xe),M(oe,"border",Se,ye)},maxRank:X,partition:function J(oe,ye){var me={lhs:[],rhs:[]};return _.forEach(oe,function(xe){ye(xe)?me.lhs.push(xe):me.rhs.push(xe)}),me},time:function Te(oe,ye){var me=_.now();try{return ye()}finally{console.log(oe+" time: "+(_.now()-me)+"ms")}},notime:function ve(oe,ye){return ye()}}},2187:S=>{S.exports="0.8.5"},9034:(S,U,p)=>{var _=p(3934);S.exports={Graph:_.Graph,json:p(2440),alg:p(3955),version:_.version}},1986:(S,U,p)=>{var _=p(9368);S.exports=function C(M){var T,A={},w=[];function P(I){_.has(A,I)||(A[I]=!0,T.push(I),_.each(M.successors(I),P),_.each(M.predecessors(I),P))}return _.each(M.nodes(),function(I){T=[],P(I),T.length&&w.push(T)}),w}},1428:(S,U,p)=>{var _=p(9368);function M(A,w,T,P,I,L){_.has(P,w)||(P[w]=!0,T||L.push(w),_.each(I(w),function(F){M(A,F,T,P,I,L)}),T&&L.push(w))}S.exports=function C(A,w,T){_.isArray(w)||(w=[w]);var P=(A.isDirected()?A.successors:A.neighbors).bind(A),I=[],L={};return _.each(w,function(F){if(!A.hasNode(F))throw new Error("Graph does not have node: "+F);M(A,F,"post"===T,L,P,I)}),I}},5583:(S,U,p)=>{var _=p(2644),C=p(9368);S.exports=function M(A,w,T){return C.transform(A.nodes(),function(P,I){P[I]=_(A,I,w,T)},{})}},2644:(S,U,p)=>{var _=p(9368),C=p(1321);S.exports=function A(T,P,I,L){return function w(T,P,I,L){var V,X,F={},k=new C,J=function(Te){var ve=Te.v!==V?Te.v:Te.w,oe=F[ve],ye=I(Te),me=X.distance+ye;if(ye<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+Te+" Weight: "+ye);me<oe.distance&&(oe.distance=me,oe.predecessor=V,k.decrease(ve,me))};for(T.nodes().forEach(function(Te){var ve=Te===P?0:Number.POSITIVE_INFINITY;F[Te]={distance:ve},k.add(Te,ve)});k.size()>0&&(V=k.removeMin(),(X=F[V]).distance!==Number.POSITIVE_INFINITY);)L(V).forEach(J);return F}(T,String(P),I||M,L||function(F){return T.outEdges(F)})};var M=_.constant(1)},7651:(S,U,p)=>{var _=p(9368),C=p(3628);S.exports=function M(A){return _.filter(C(A),function(w){return w.length>1||1===w.length&&A.hasEdge(w[0],w[0])})}},5160:(S,U,p)=>{var _=p(9368);S.exports=function M(w,T,P){return function A(w,T,P){var I={},L=w.nodes();return L.forEach(function(F){I[F]={},I[F][F]={distance:0},L.forEach(function(k){F!==k&&(I[F][k]={distance:Number.POSITIVE_INFINITY})}),P(F).forEach(function(k){var V=k.v===F?k.w:k.v,X=T(k);I[F][V]={distance:X,predecessor:F}})}),L.forEach(function(F){var k=I[F];L.forEach(function(V){var X=I[V];L.forEach(function(J){var ve=k[J],oe=X[J],ye=X[F].distance+ve.distance;ye<oe.distance&&(oe.distance=ye,oe.predecessor=ve.predecessor)})})}),I}(w,T||C,P||function(I){return w.outEdges(I)})};var C=_.constant(1)},3955:(S,U,p)=>{S.exports={components:p(1986),dijkstra:p(2644),dijkstraAll:p(5583),findCycles:p(7651),floydWarshall:p(5160),isAcyclic:p(6993),postorder:p(703),preorder:p(6544),prim:p(4338),tarjan:p(3628),topsort:p(5344)}},6993:(S,U,p)=>{var _=p(5344);S.exports=function C(M){try{_(M)}catch(A){if(A instanceof _.CycleException)return!1;throw A}return!0}},703:(S,U,p)=>{var _=p(1428);S.exports=function C(M,A){return _(M,A,"post")}},6544:(S,U,p)=>{var _=p(1428);S.exports=function C(M,A){return _(M,A,"pre")}},4338:(S,U,p)=>{var _=p(9368),C=p(427),M=p(1321);S.exports=function A(w,T){var F,P=new C,I={},L=new M;function k(X){var J=X.v===F?X.w:X.v,Te=L.priority(J);if(void 0!==Te){var ve=T(X);ve<Te&&(I[J]=F,L.decrease(J,ve))}}if(0===w.nodeCount())return P;_.each(w.nodes(),function(X){L.add(X,Number.POSITIVE_INFINITY),P.setNode(X)}),L.decrease(w.nodes()[0],0);for(var V=!1;L.size()>0;){if(F=L.removeMin(),_.has(I,F))P.setEdge(F,I[F]);else{if(V)throw new Error("Input graph is not connected: "+w);V=!0}w.nodeEdges(F).forEach(k)}return P}},3628:(S,U,p)=>{var _=p(9368);S.exports=function C(M){var A=0,w=[],T={},P=[];function I(L){var F=T[L]={onStack:!0,lowlink:A,index:A++};if(w.push(L),M.successors(L).forEach(function(X){_.has(T,X)?T[X].onStack&&(F.lowlink=Math.min(F.lowlink,T[X].index)):(I(X),F.lowlink=Math.min(F.lowlink,T[X].lowlink))}),F.lowlink===F.index){var V,k=[];do{V=w.pop(),T[V].onStack=!1,k.push(V)}while(L!==V);P.push(k)}}return M.nodes().forEach(function(L){_.has(T,L)||I(L)}),P}},5344:(S,U,p)=>{var _=p(9368);function C(A){var w={},T={},P=[];if(_.each(A.sinks(),function I(L){if(_.has(T,L))throw new M;_.has(w,L)||(T[L]=!0,w[L]=!0,_.each(A.predecessors(L),I),delete T[L],P.push(L))}),_.size(w)!==A.nodeCount())throw new M;return P}function M(){}S.exports=C,C.CycleException=M,M.prototype=new Error},1321:(S,U,p)=>{var _=p(9368);function C(){this._arr=[],this._keyIndices={}}S.exports=C,C.prototype.size=function(){return this._arr.length},C.prototype.keys=function(){return this._arr.map(function(M){return M.key})},C.prototype.has=function(M){return _.has(this._keyIndices,M)},C.prototype.priority=function(M){var A=this._keyIndices[M];if(void 0!==A)return this._arr[A].priority},C.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},C.prototype.add=function(M,A){var w=this._keyIndices;if(M=String(M),!_.has(w,M)){var T=this._arr,P=T.length;return w[M]=P,T.push({key:M,priority:A}),this._decrease(P),!0}return!1},C.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var M=this._arr.pop();return delete this._keyIndices[M.key],this._heapify(0),M.key},C.prototype.decrease=function(M,A){var w=this._keyIndices[M];if(A>this._arr[w].priority)throw new Error("New priority is greater than current priority. Key: "+M+" Old: "+this._arr[w].priority+" New: "+A);this._arr[w].priority=A,this._decrease(w)},C.prototype._heapify=function(M){var A=this._arr,w=2*M,T=w+1,P=M;w<A.length&&(P=A[w].priority<A[P].priority?w:P,T<A.length&&(P=A[T].priority<A[P].priority?T:P),P!==M&&(this._swap(M,P),this._heapify(P)))},C.prototype._decrease=function(M){for(var T,A=this._arr,w=A[M].priority;0!==M&&!(A[T=M>>1].priority<w);)this._swap(M,T),M=T},C.prototype._swap=function(M,A){var w=this._arr,T=this._keyIndices,P=w[M],I=w[A];w[M]=I,w[A]=P,T[I.key]=M,T[P.key]=A}},427:(S,U,p)=>{"use strict";var _=p(9368);S.exports=w;var C="\0",M="\0",A="\x01";function w(k){this._isDirected=!_.has(k,"directed")||k.directed,this._isMultigraph=!!_.has(k,"multigraph")&&k.multigraph,this._isCompound=!!_.has(k,"compound")&&k.compound,this._label=void 0,this._defaultNodeLabelFn=_.constant(void 0),this._defaultEdgeLabelFn=_.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[M]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function T(k,V){k[V]?k[V]++:k[V]=1}function P(k,V){--k[V]||delete k[V]}function I(k,V,X,J){var Te=""+V,ve=""+X;if(!k&&Te>ve){var oe=Te;Te=ve,ve=oe}return Te+A+ve+A+(_.isUndefined(J)?C:J)}function F(k,V){return I(k,V.v,V.w,V.name)}w.prototype._nodeCount=0,w.prototype._edgeCount=0,w.prototype.isDirected=function(){return this._isDirected},w.prototype.isMultigraph=function(){return this._isMultigraph},w.prototype.isCompound=function(){return this._isCompound},w.prototype.setGraph=function(k){return this._label=k,this},w.prototype.graph=function(){return this._label},w.prototype.setDefaultNodeLabel=function(k){return _.isFunction(k)||(k=_.constant(k)),this._defaultNodeLabelFn=k,this},w.prototype.nodeCount=function(){return this._nodeCount},w.prototype.nodes=function(){return _.keys(this._nodes)},w.prototype.sources=function(){var k=this;return _.filter(this.nodes(),function(V){return _.isEmpty(k._in[V])})},w.prototype.sinks=function(){var k=this;return _.filter(this.nodes(),function(V){return _.isEmpty(k._out[V])})},w.prototype.setNodes=function(k,V){var X=arguments,J=this;return _.each(k,function(Te){X.length>1?J.setNode(Te,V):J.setNode(Te)}),this},w.prototype.setNode=function(k,V){return _.has(this._nodes,k)?(arguments.length>1&&(this._nodes[k]=V),this):(this._nodes[k]=arguments.length>1?V:this._defaultNodeLabelFn(k),this._isCompound&&(this._parent[k]=M,this._children[k]={},this._children[M][k]=!0),this._in[k]={},this._preds[k]={},this._out[k]={},this._sucs[k]={},++this._nodeCount,this)},w.prototype.node=function(k){return this._nodes[k]},w.prototype.hasNode=function(k){return _.has(this._nodes,k)},w.prototype.removeNode=function(k){var V=this;if(_.has(this._nodes,k)){var X=function(J){V.removeEdge(V._edgeObjs[J])};delete this._nodes[k],this._isCompound&&(this._removeFromParentsChildList(k),delete this._parent[k],_.each(this.children(k),function(J){V.setParent(J)}),delete this._children[k]),_.each(_.keys(this._in[k]),X),delete this._in[k],delete this._preds[k],_.each(_.keys(this._out[k]),X),delete this._out[k],delete this._sucs[k],--this._nodeCount}return this},w.prototype.setParent=function(k,V){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(_.isUndefined(V))V=M;else{for(var X=V+="";!_.isUndefined(X);X=this.parent(X))if(X===k)throw new Error("Setting "+V+" as parent of "+k+" would create a cycle");this.setNode(V)}return this.setNode(k),this._removeFromParentsChildList(k),this._parent[k]=V,this._children[V][k]=!0,this},w.prototype._removeFromParentsChildList=function(k){delete this._children[this._parent[k]][k]},w.prototype.parent=function(k){if(this._isCompound){var V=this._parent[k];if(V!==M)return V}},w.prototype.children=function(k){if(_.isUndefined(k)&&(k=M),this._isCompound){var V=this._children[k];if(V)return _.keys(V)}else{if(k===M)return this.nodes();if(this.hasNode(k))return[]}},w.prototype.predecessors=function(k){var V=this._preds[k];if(V)return _.keys(V)},w.prototype.successors=function(k){var V=this._sucs[k];if(V)return _.keys(V)},w.prototype.neighbors=function(k){var V=this.predecessors(k);if(V)return _.union(V,this.successors(k))},w.prototype.isLeaf=function(k){return 0===(this.isDirected()?this.successors(k):this.neighbors(k)).length},w.prototype.filterNodes=function(k){var V=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});V.setGraph(this.graph());var X=this;_.each(this._nodes,function(ve,oe){k(oe)&&V.setNode(oe,ve)}),_.each(this._edgeObjs,function(ve){V.hasNode(ve.v)&&V.hasNode(ve.w)&&V.setEdge(ve,X.edge(ve))});var J={};function Te(ve){var oe=X.parent(ve);return void 0===oe||V.hasNode(oe)?(J[ve]=oe,oe):oe in J?J[oe]:Te(oe)}return this._isCompound&&_.each(V.nodes(),function(ve){V.setParent(ve,Te(ve))}),V},w.prototype.setDefaultEdgeLabel=function(k){return _.isFunction(k)||(k=_.constant(k)),this._defaultEdgeLabelFn=k,this},w.prototype.edgeCount=function(){return this._edgeCount},w.prototype.edges=function(){return _.values(this._edgeObjs)},w.prototype.setPath=function(k,V){var X=this,J=arguments;return _.reduce(k,function(Te,ve){return J.length>1?X.setEdge(Te,ve,V):X.setEdge(Te,ve),ve}),this},w.prototype.setEdge=function(){var k,V,X,J,Te=!1,ve=arguments[0];"object"==typeof ve&&null!==ve&&"v"in ve?(k=ve.v,V=ve.w,X=ve.name,2===arguments.length&&(J=arguments[1],Te=!0)):(k=ve,V=arguments[1],X=arguments[3],arguments.length>2&&(J=arguments[2],Te=!0)),k=""+k,V=""+V,_.isUndefined(X)||(X=""+X);var oe=I(this._isDirected,k,V,X);if(_.has(this._edgeLabels,oe))return Te&&(this._edgeLabels[oe]=J),this;if(!_.isUndefined(X)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(k),this.setNode(V),this._edgeLabels[oe]=Te?J:this._defaultEdgeLabelFn(k,V,X);var ye=function L(k,V,X,J){var Te=""+V,ve=""+X;if(!k&&Te>ve){var oe=Te;Te=ve,ve=oe}var ye={v:Te,w:ve};return J&&(ye.name=J),ye}(this._isDirected,k,V,X);return k=ye.v,V=ye.w,Object.freeze(ye),this._edgeObjs[oe]=ye,T(this._preds[V],k),T(this._sucs[k],V),this._in[V][oe]=ye,this._out[k][oe]=ye,this._edgeCount++,this},w.prototype.edge=function(k,V,X){var J=1===arguments.length?F(this._isDirected,arguments[0]):I(this._isDirected,k,V,X);return this._edgeLabels[J]},w.prototype.hasEdge=function(k,V,X){var J=1===arguments.length?F(this._isDirected,arguments[0]):I(this._isDirected,k,V,X);return _.has(this._edgeLabels,J)},w.prototype.removeEdge=function(k,V,X){var J=1===arguments.length?F(this._isDirected,arguments[0]):I(this._isDirected,k,V,X),Te=this._edgeObjs[J];return Te&&(k=Te.v,V=Te.w,delete this._edgeLabels[J],delete this._edgeObjs[J],P(this._preds[V],k),P(this._sucs[k],V),delete this._in[V][J],delete this._out[k][J],this._edgeCount--),this},w.prototype.inEdges=function(k,V){var X=this._in[k];if(X){var J=_.values(X);return V?_.filter(J,function(Te){return Te.v===V}):J}},w.prototype.outEdges=function(k,V){var X=this._out[k];if(X){var J=_.values(X);return V?_.filter(J,function(Te){return Te.w===V}):J}},w.prototype.nodeEdges=function(k,V){var X=this.inEdges(k,V);if(X)return X.concat(this.outEdges(k,V))}},3934:(S,U,p)=>{S.exports={Graph:p(427),version:p(7747)}},2440:(S,U,p)=>{var _=p(9368),C=p(427);function A(P){return _.map(P.nodes(),function(I){var L=P.node(I),F=P.parent(I),k={v:I};return _.isUndefined(L)||(k.value=L),_.isUndefined(F)||(k.parent=F),k})}function w(P){return _.map(P.edges(),function(I){var L=P.edge(I),F={v:I.v,w:I.w};return _.isUndefined(I.name)||(F.name=I.name),_.isUndefined(L)||(F.value=L),F})}S.exports={write:function M(P){var I={options:{directed:P.isDirected(),multigraph:P.isMultigraph(),compound:P.isCompound()},nodes:A(P),edges:w(P)};return _.isUndefined(P.graph())||(I.value=_.clone(P.graph())),I},read:function T(P){var I=new C(P.options).setGraph(P.value);return _.each(P.nodes,function(L){I.setNode(L.v,L.value),L.parent&&I.setParent(L.v,L.parent)}),_.each(P.edges,function(L){I.setEdge({v:L.v,w:L.w,name:L.name},L.value)}),I}}},9368:(S,U,p)=>{var _;try{_={clone:p(8734),constant:p(1075),each:p(6488),filter:p(7661),has:p(8669),isArray:p(2261),isEmpty:p(5350),isFunction:p(6861),isUndefined:p(8152),keys:p(4614),map:p(8921),reduce:p(5909),size:p(5741),transform:p(6893),union:p(2480),values:p(8808)}}catch{}_||(_=window._),S.exports=_},7747:S=>{S.exports="2.1.8"},6506:(S,U,p)=>{var M=p(8745)(p(8492),"DataView");S.exports=M},9618:(S,U,p)=>{var _=p(5602),C=p(1499),M=p(2990),A=p(480),w=p(4469);function T(P){var I=-1,L=null==P?0:P.length;for(this.clear();++I<L;){var F=P[I];this.set(F[0],F[1])}}T.prototype.clear=_,T.prototype.delete=C,T.prototype.get=M,T.prototype.has=A,T.prototype.set=w,S.exports=T},3597:(S,U,p)=>{var _=p(9365),C=p(9343),M=p(4779),A=p(1509),w=p(7137);function T(P){var I=-1,L=null==P?0:P.length;for(this.clear();++I<L;){var F=P[I];this.set(F[0],F[1])}}T.prototype.clear=_,T.prototype.delete=C,T.prototype.get=M,T.prototype.has=A,T.prototype.set=w,S.exports=T},1136:(S,U,p)=>{var M=p(8745)(p(8492),"Map");S.exports=M},1811:(S,U,p)=>{var _=p(3413),C=p(5419),M=p(7253),A=p(1115),w=p(6648);function T(P){var I=-1,L=null==P?0:P.length;for(this.clear();++I<L;){var F=P[I];this.set(F[0],F[1])}}T.prototype.clear=_,T.prototype.delete=C,T.prototype.get=M,T.prototype.has=A,T.prototype.set=w,S.exports=T},641:(S,U,p)=>{var M=p(8745)(p(8492),"Promise");S.exports=M},1732:(S,U,p)=>{var M=p(8745)(p(8492),"Set");S.exports=M},5960:(S,U,p)=>{var _=p(1811),C=p(6151),M=p(2154);function A(w){var T=-1,P=null==w?0:w.length;for(this.__data__=new _;++T<P;)this.add(w[T])}A.prototype.add=A.prototype.push=C,A.prototype.has=M,S.exports=A},1339:(S,U,p)=>{var _=p(3597),C=p(9488),M=p(5943),A=p(5456),w=p(4793),T=p(8689);function P(I){var L=this.__data__=new _(I);this.size=L.size}P.prototype.clear=C,P.prototype.delete=M,P.prototype.get=A,P.prototype.has=w,P.prototype.set=T,S.exports=P},1763:(S,U,p)=>{var _=p(8492);S.exports=_.Symbol},2760:(S,U,p)=>{var _=p(8492);S.exports=_.Uint8Array},6413:(S,U,p)=>{var M=p(8745)(p(8492),"WeakMap");S.exports=M},7910:S=>{S.exports=function U(p,_,C){switch(C.length){case 0:return p.call(_);case 1:return p.call(_,C[0]);case 2:return p.call(_,C[0],C[1]);case 3:return p.call(_,C[0],C[1],C[2])}return p.apply(_,C)}},7772:S=>{S.exports=function U(p,_){for(var C=-1,M=null==p?0:p.length;++C<M&&!1!==_(p[C],C,p););return p}},2134:S=>{S.exports=function U(p,_){for(var C=-1,M=null==p?0:p.length,A=0,w=[];++C<M;){var T=p[C];_(T,C,p)&&(w[A++]=T)}return w}},8750:(S,U,p)=>{var _=p(9568);S.exports=function C(M,A){return!(null==M||!M.length)&&_(M,A,0)>-1}},6736:S=>{S.exports=function U(p,_,C){for(var M=-1,A=null==p?0:p.length;++M<A;)if(C(_,p[M]))return!0;return!1}},1384:(S,U,p)=>{var _=p(5025),C=p(1955),M=p(2261),A=p(7525),w=p(5188),T=p(4868),I=Object.prototype.hasOwnProperty;S.exports=function L(F,k){var V=M(F),X=!V&&C(F),J=!V&&!X&&A(F),Te=!V&&!X&&!J&&T(F),ve=V||X||J||Te,oe=ve?_(F.length,String):[],ye=oe.length;for(var me in F)(k||I.call(F,me))&&(!ve||!("length"==me||J&&("offset"==me||"parent"==me)||Te&&("buffer"==me||"byteLength"==me||"byteOffset"==me)||w(me,ye)))&&oe.push(me);return oe}},3880:S=>{S.exports=function U(p,_){for(var C=-1,M=null==p?0:p.length,A=Array(M);++C<M;)A[C]=_(p[C],C,p);return A}},7853:S=>{S.exports=function U(p,_){for(var C=-1,M=_.length,A=p.length;++C<M;)p[A+C]=_[C];return p}},9850:S=>{S.exports=function U(p,_,C,M){var A=-1,w=null==p?0:p.length;for(M&&w&&(C=p[++A]);++A<w;)C=_(C,p[A],A,p);return C}},5916:S=>{S.exports=function U(p,_){for(var C=-1,M=null==p?0:p.length;++C<M;)if(_(p[C],C,p))return!0;return!1}},6181:(S,U,p)=>{var C=p(3400)("length");S.exports=C},6697:(S,U,p)=>{var _=p(1741),C=p(7826);S.exports=function M(A,w,T){(void 0!==T&&!C(A[w],T)||void 0===T&&!(w in A))&&_(A,w,T)}},9553:(S,U,p)=>{var _=p(1741),C=p(7826),A=Object.prototype.hasOwnProperty;S.exports=function w(T,P,I){var L=T[P];(!A.call(T,P)||!C(L,I)||void 0===I&&!(P in T))&&_(T,P,I)}},4056:(S,U,p)=>{var _=p(7826);S.exports=function C(M,A){for(var w=M.length;w--;)if(_(M[w][0],A))return w;return-1}},6234:(S,U,p)=>{var _=p(5931),C=p(4614);S.exports=function M(A,w){return A&&_(w,C(w),A)}},4431:(S,U,p)=>{var _=p(5931),C=p(6402);S.exports=function M(A,w){return A&&_(w,C(w),A)}},1741:(S,U,p)=>{var _=p(9383);S.exports=function C(M,A,w){"__proto__"==A&&_?_(M,A,{configurable:!0,enumerable:!0,value:w,writable:!0}):M[A]=w}},1320:(S,U,p)=>{var _=p(1339),C=p(7772),M=p(9553),A=p(6234),w=p(4431),T=p(6002),P=p(4231),I=p(9385),L=p(4354),F=p(6131),k=p(2442),V=p(2472),X=p(9431),J=p(514),Te=p(9225),ve=p(2261),oe=p(7525),ye=p(990),me=p(9794),xe=p(8611),Se=p(4614),ke=p(6402),ot="[object Arguments]",Dn="[object Function]",ga="[object Object]",Bn={};Bn[ot]=Bn["[object Array]"]=Bn["[object ArrayBuffer]"]=Bn["[object DataView]"]=Bn["[object Boolean]"]=Bn["[object Date]"]=Bn["[object Float32Array]"]=Bn["[object Float64Array]"]=Bn["[object Int8Array]"]=Bn["[object Int16Array]"]=Bn["[object Int32Array]"]=Bn["[object Map]"]=Bn["[object Number]"]=Bn[ga]=Bn["[object RegExp]"]=Bn["[object Set]"]=Bn["[object String]"]=Bn["[object Symbol]"]=Bn["[object Uint8Array]"]=Bn["[object Uint8ClampedArray]"]=Bn["[object Uint16Array]"]=Bn["[object Uint32Array]"]=!0,Bn["[object Error]"]=Bn[Dn]=Bn["[object WeakMap]"]=!1,S.exports=function cc(Un,lc,_a,N0,dc,Bs){var ur,tl=1&lc,Dd=2&lc,B0=4&lc;if(_a&&(ur=dc?_a(Un,N0,dc,Bs):_a(Un)),void 0!==ur)return ur;if(!me(Un))return Un;var sg=ve(Un);if(sg){if(ur=X(Un),!tl)return P(Un,ur)}else{var jr=V(Un),hf=jr==Dn||"[object GeneratorFunction]"==jr;if(oe(Un))return T(Un,tl);if(jr==ga||jr==ot||hf&&!dc){if(ur=Dd||hf?{}:Te(Un),!tl)return Dd?L(Un,w(ur,Un)):I(Un,A(ur,Un))}else{if(!Bn[jr])return dc?Un:{};ur=J(Un,jr,tl)}}Bs||(Bs=new _);var ag=Bs.get(Un);if(ag)return ag;Bs.set(Un,ur),xe(Un)?Un.forEach(function(Us){ur.add(cc(Us,lc,_a,Us,Un,Bs))}):ye(Un)&&Un.forEach(function(Us,ba){ur.set(ba,cc(Us,lc,_a,ba,Un,Bs))});var lg=sg?void 0:(B0?Dd?k:F:Dd?ke:Se)(Un);return C(lg||Un,function(Us,ba){lg&&(Us=Un[ba=Us]),M(ur,ba,cc(Us,lc,_a,ba,Un,Bs))}),ur}},1391:(S,U,p)=>{var _=p(9794),C=Object.create,M=function(){function A(){}return function(w){if(!_(w))return{};if(C)return C(w);A.prototype=w;var T=new A;return A.prototype=void 0,T}}();S.exports=M},5103:(S,U,p)=>{var _=p(7794),M=p(9386)(_);S.exports=M},4530:(S,U,p)=>{var _=p(3423);S.exports=function C(M,A,w){for(var T=-1,P=M.length;++T<P;){var I=M[T],L=A(I);if(null!=L&&(void 0===F?L==L&&!_(L):w(L,F)))var F=L,k=I}return k}},1892:(S,U,p)=>{var _=p(5103);S.exports=function C(M,A){var w=[];return _(M,function(T,P,I){A(T,P,I)&&w.push(T)}),w}},4051:S=>{S.exports=function U(p,_,C,M){for(var A=p.length,w=C+(M?1:-1);M?w--:++w<A;)if(_(p[w],w,p))return w;return-1}},1883:(S,U,p)=>{var _=p(7853),C=p(2241);S.exports=function M(A,w,T,P,I){var L=-1,F=A.length;for(T||(T=C),I||(I=[]);++L<F;){var k=A[L];w>0&&T(k)?w>1?M(k,w-1,T,P,I):_(I,k):P||(I[I.length]=k)}return I}},6483:(S,U,p)=>{var C=p(2086)();S.exports=C},7794:(S,U,p)=>{var _=p(6483),C=p(4614);S.exports=function M(A,w){return A&&_(A,w,C)}},2202:(S,U,p)=>{var _=p(4826),C=p(8916);S.exports=function M(A,w){for(var T=0,P=(w=_(w,A)).length;null!=A&&T<P;)A=A[C(w[T++])];return T&&T==P?A:void 0}},7427:(S,U,p)=>{var _=p(7853),C=p(2261);S.exports=function M(A,w,T){var P=w(A);return C(A)?P:_(P,T(A))}},4590:(S,U,p)=>{var _=p(1763),C=p(5933),M=p(9243),T=_?_.toStringTag:void 0;S.exports=function P(I){return null==I?void 0===I?"[object Undefined]":"[object Null]":T&&T in Object(I)?C(I):M(I)}},8444:S=>{S.exports=function U(p,_){return p>_}},4493:S=>{var p=Object.prototype.hasOwnProperty;S.exports=function _(C,M){return null!=C&&p.call(C,M)}},3274:S=>{S.exports=function U(p,_){return null!=p&&_ in Object(p)}},9568:(S,U,p)=>{var _=p(4051),C=p(1817),M=p(2528);S.exports=function A(w,T,P){return T==T?M(w,T,P):_(w,C,P)}},3022:(S,U,p)=>{var _=p(4590),C=p(3714);S.exports=function A(w){return C(w)&&"[object Arguments]"==_(w)}},7108:(S,U,p)=>{var _=p(7946),C=p(3714);S.exports=function M(A,w,T,P,I){return A===w||(null==A||null==w||!C(A)&&!C(w)?A!=A&&w!=w:_(A,w,T,P,M,I))}},7946:(S,U,p)=>{var _=p(1339),C=p(7469),M=p(1642),A=p(9462),w=p(2472),T=p(2261),P=p(7525),I=p(4868),F="[object Arguments]",k="[object Array]",V="[object Object]",J=Object.prototype.hasOwnProperty;S.exports=function Te(ve,oe,ye,me,xe,Se){var ke=T(ve),Xe=T(oe),We=ke?k:w(ve),st=Xe?k:w(oe),ot=(We=We==F?V:We)==V,at=(st=st==F?V:st)==V,ft=We==st;if(ft&&P(ve)){if(!P(oe))return!1;ke=!0,ot=!1}if(ft&&!ot)return Se||(Se=new _),ke||I(ve)?C(ve,oe,ye,me,xe,Se):M(ve,oe,We,ye,me,xe,Se);if(!(1&ye)){var Nt=ot&&J.call(ve,"__wrapped__"),Vt=at&&J.call(oe,"__wrapped__");if(Nt||Vt){var Dn=Nt?ve.value():ve,kn=Vt?oe.value():oe;return Se||(Se=new _),xe(Dn,kn,ye,me,Se)}}return!!ft&&(Se||(Se=new _),A(ve,oe,ye,me,xe,Se))}},8562:(S,U,p)=>{var _=p(2472),C=p(3714);S.exports=function A(w){return C(w)&&"[object Map]"==_(w)}},2527:(S,U,p)=>{var _=p(1339),C=p(7108);S.exports=function w(T,P,I,L){var F=I.length,k=F,V=!L;if(null==T)return!k;for(T=Object(T);F--;){var X=I[F];if(V&&X[2]?X[1]!==T[X[0]]:!(X[0]in T))return!1}for(;++F<k;){var J=(X=I[F])[0],Te=T[J],ve=X[1];if(V&&X[2]){if(void 0===Te&&!(J in T))return!1}else{var oe=new _;if(L)var ye=L(Te,ve,J,T,P,oe);if(!(void 0===ye?C(ve,Te,3,L,oe):ye))return!1}}return!0}},1817:S=>{S.exports=function U(p){return p!=p}},1082:(S,U,p)=>{var _=p(6861),C=p(9950),M=p(9794),A=p(7075),T=/^\[object .+?Constructor\]$/,k=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");S.exports=function V(X){return!(!M(X)||C(X))&&(_(X)?k:T).test(A(X))}},1202:(S,U,p)=>{var _=p(2472),C=p(3714);S.exports=function A(w){return C(w)&&"[object Set]"==_(w)}},8902:(S,U,p)=>{var _=p(4590),C=p(7765),M=p(3714),ft={};ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft["[object Arguments]"]=ft["[object Array]"]=ft["[object ArrayBuffer]"]=ft["[object Boolean]"]=ft["[object DataView]"]=ft["[object Date]"]=ft["[object Error]"]=ft["[object Function]"]=ft["[object Map]"]=ft["[object Number]"]=ft["[object Object]"]=ft["[object RegExp]"]=ft["[object Set]"]=ft["[object String]"]=ft["[object WeakMap]"]=!1,S.exports=function Nt(Vt){return M(Vt)&&C(Vt.length)&&!!ft[_(Vt)]}},1627:(S,U,p)=>{var _=p(2924),C=p(8526),M=p(5657),A=p(2261),w=p(2692);S.exports=function T(P){return"function"==typeof P?P:null==P?M:"object"==typeof P?A(P)?C(P[0],P[1]):_(P):w(P)}},190:(S,U,p)=>{var _=p(6587),C=p(366),A=Object.prototype.hasOwnProperty;S.exports=function w(T){if(!_(T))return C(T);var P=[];for(var I in Object(T))A.call(T,I)&&"constructor"!=I&&P.push(I);return P}},7673:(S,U,p)=>{var _=p(9794),C=p(6587),M=p(8981),w=Object.prototype.hasOwnProperty;S.exports=function T(P){if(!_(P))return M(P);var I=C(P),L=[];for(var F in P)"constructor"==F&&(I||!w.call(P,F))||L.push(F);return L}},8898:S=>{S.exports=function U(p,_){return p<_}},2839:(S,U,p)=>{var _=p(5103),C=p(2447);S.exports=function M(A,w){var T=-1,P=C(A)?Array(A.length):[];return _(A,function(I,L,F){P[++T]=w(I,L,F)}),P}},2924:(S,U,p)=>{var _=p(2527),C=p(7895),M=p(2265);S.exports=function A(w){var T=C(w);return 1==T.length&&T[0][2]?M(T[0][0],T[0][1]):function(P){return P===w||_(P,w,T)}}},8526:(S,U,p)=>{var _=p(7108),C=p(5440),M=p(2494),A=p(6300),w=p(3921),T=p(2265),P=p(8916);S.exports=function F(k,V){return A(k)&&w(V)?T(P(k),V):function(X){var J=C(X,k);return void 0===J&&J===V?M(X,k):_(V,J,3)}}},3294:(S,U,p)=>{var _=p(1339),C=p(6697),M=p(6483),A=p(9218),w=p(9794),T=p(6402),P=p(7524);S.exports=function I(L,F,k,V,X){L!==F&&M(F,function(J,Te){if(X||(X=new _),w(J))A(L,F,Te,k,I,V,X);else{var ve=V?V(P(L,Te),J,Te+"",L,F,X):void 0;void 0===ve&&(ve=J),C(L,Te,ve)}},T)}},9218:(S,U,p)=>{var _=p(6697),C=p(6002),M=p(2501),A=p(4231),w=p(9225),T=p(1955),P=p(2261),I=p(3471),L=p(7525),F=p(6861),k=p(9794),V=p(8168),X=p(4868),J=p(7524),Te=p(4210);S.exports=function ve(oe,ye,me,xe,Se,ke,Xe){var We=J(oe,me),st=J(ye,me),ot=Xe.get(st);if(ot)_(oe,me,ot);else{var at=ke?ke(We,st,me+"",oe,ye,Xe):void 0,ft=void 0===at;if(ft){var Nt=P(st),Vt=!Nt&&L(st),Dn=!Nt&&!Vt&&X(st);at=st,Nt||Vt||Dn?P(We)?at=We:I(We)?at=A(We):Vt?(ft=!1,at=C(st,!0)):Dn?(ft=!1,at=M(st,!0)):at=[]:V(st)||T(st)?(at=We,T(We)?at=Te(We):(!k(We)||F(We))&&(at=w(st))):ft=!1}ft&&(Xe.set(st,at),Se(at,st,xe,ke,Xe),Xe.delete(st)),_(oe,me,at)}}},252:(S,U,p)=>{var _=p(3880),C=p(2202),M=p(1627),A=p(2839),w=p(6389),T=p(5249),P=p(9664),I=p(5657),L=p(2261);S.exports=function F(k,V,X){V=V.length?_(V,function(ve){return L(ve)?function(oe){return C(oe,1===ve.length?ve[0]:ve)}:ve}):[I];var J=-1;V=_(V,T(M));var Te=A(k,function(ve,oe,ye){return{criteria:_(V,function(xe){return xe(ve)}),index:++J,value:ve}});return w(Te,function(ve,oe){return P(ve,oe,X)})}},2784:(S,U,p)=>{var _=p(2772),C=p(2494);S.exports=function M(A,w){return _(A,w,function(T,P){return C(A,P)})}},2772:(S,U,p)=>{var _=p(2202),C=p(9478),M=p(4826);S.exports=function A(w,T,P){for(var I=-1,L=T.length,F={};++I<L;){var k=T[I],V=_(w,k);P(V,k)&&C(F,M(k,w),V)}return F}},3400:S=>{S.exports=function U(p){return function(_){return _?.[p]}}},6443:(S,U,p)=>{var _=p(2202);S.exports=function C(M){return function(A){return _(A,M)}}},9948:S=>{var U=Math.ceil,p=Math.max;S.exports=function _(C,M,A,w){for(var T=-1,P=p(U((M-C)/(A||1)),0),I=Array(P);P--;)I[w?P:++T]=C,C+=A;return I}},8978:S=>{S.exports=function U(p,_,C,M,A){return A(p,function(w,T,P){C=M?(M=!1,w):_(C,w,T,P)}),C}},8951:(S,U,p)=>{var _=p(5657),C=p(2394),M=p(6814);S.exports=function A(w,T){return M(C(w,T,_),w+"")}},9478:(S,U,p)=>{var _=p(9553),C=p(4826),M=p(5188),A=p(9794),w=p(8916);S.exports=function T(P,I,L,F){if(!A(P))return P;for(var k=-1,V=(I=C(I,P)).length,X=V-1,J=P;null!=J&&++k<V;){var Te=w(I[k]),ve=L;if("__proto__"===Te||"constructor"===Te||"prototype"===Te)return P;if(k!=X){var oe=J[Te];void 0===(ve=F?F(oe,Te,J):void 0)&&(ve=A(oe)?oe:M(I[k+1])?[]:{})}_(J,Te,ve),J=J[Te]}return P}},8235:(S,U,p)=>{var _=p(1075),C=p(9383),M=p(5657);S.exports=C?function(w,T){return C(w,"toString",{configurable:!0,enumerable:!1,value:_(T),writable:!0})}:M},6389:S=>{S.exports=function U(p,_){var C=p.length;for(p.sort(_);C--;)p[C]=p[C].value;return p}},5025:S=>{S.exports=function U(p,_){for(var C=-1,M=Array(p);++C<p;)M[C]=_(C);return M}},7002:(S,U,p)=>{var _=p(1763),C=p(3880),M=p(2261),A=p(3423),T=_?_.prototype:void 0,P=T?T.toString:void 0;S.exports=function I(L){if("string"==typeof L)return L;if(M(L))return C(L,I)+"";if(A(L))return P?P.call(L):"";var F=L+"";return"0"==F&&1/L==-1/0?"-0":F}},9484:(S,U,p)=>{var _=p(1781),C=/^\s+/;S.exports=function M(A){return A&&A.slice(0,_(A)+1).replace(C,"")}},5249:S=>{S.exports=function U(p){return function(_){return p(_)}}},9154:(S,U,p)=>{var _=p(5960),C=p(8750),M=p(6736),A=p(4795),w=p(8433),T=p(8e3);S.exports=function I(L,F,k){var V=-1,X=C,J=L.length,Te=!0,ve=[],oe=ve;if(k)Te=!1,X=M;else if(J>=200){var ye=F?null:w(L);if(ye)return T(ye);Te=!1,X=A,oe=new _}else oe=F?[]:ve;e:for(;++V<J;){var me=L[V],xe=F?F(me):me;if(me=k||0!==me?me:0,Te&&xe==xe){for(var Se=oe.length;Se--;)if(oe[Se]===xe)continue e;F&&oe.push(xe),ve.push(me)}else X(oe,xe,k)||(oe!==ve&&oe.push(xe),ve.push(me))}return ve}},6680:(S,U,p)=>{var _=p(3880);S.exports=function C(M,A){return _(A,function(w){return M[w]})}},2255:S=>{S.exports=function U(p,_,C){for(var M=-1,A=p.length,w=_.length,T={};++M<A;)C(T,p[M],M<w?_[M]:void 0);return T}},4795:S=>{S.exports=function U(p,_){return p.has(_)}},4655:(S,U,p)=>{var _=p(5657);S.exports=function C(M){return"function"==typeof M?M:_}},4826:(S,U,p)=>{var _=p(2261),C=p(6300),M=p(163),A=p(2674);S.exports=function w(T,P){return _(T)?T:C(T,P)?[T]:M(A(T))}},2355:(S,U,p)=>{var _=p(2760);S.exports=function C(M){var A=new M.constructor(M.byteLength);return new _(A).set(new _(M)),A}},6002:(S,U,p)=>{S=p.nmd(S);var _=p(8492),C=U&&!U.nodeType&&U,M=C&&S&&!S.nodeType&&S,w=M&&M.exports===C?_.Buffer:void 0,T=w?w.allocUnsafe:void 0;S.exports=function P(I,L){if(L)return I.slice();var F=I.length,k=T?T(F):new I.constructor(F);return I.copy(k),k}},6693:(S,U,p)=>{var _=p(2355);S.exports=function C(M,A){var w=A?_(M.buffer):M.buffer;return new M.constructor(w,M.byteOffset,M.byteLength)}},497:S=>{var U=/\w*$/;S.exports=function p(_){var C=new _.constructor(_.source,U.exec(_));return C.lastIndex=_.lastIndex,C}},3330:(S,U,p)=>{var _=p(1763),C=_?_.prototype:void 0,M=C?C.valueOf:void 0;S.exports=function A(w){return M?Object(M.call(w)):{}}},2501:(S,U,p)=>{var _=p(2355);S.exports=function C(M,A){var w=A?_(M.buffer):M.buffer;return new M.constructor(w,M.byteOffset,M.length)}},5400:(S,U,p)=>{var _=p(3423);S.exports=function C(M,A){if(M!==A){var w=void 0!==M,T=null===M,P=M==M,I=_(M),L=void 0!==A,F=null===A,k=A==A,V=_(A);if(!F&&!V&&!I&&M>A||I&&L&&k&&!F&&!V||T&&L&&k||!w&&k||!P)return 1;if(!T&&!I&&!V&&M<A||V&&w&&P&&!T&&!I||F&&w&&P||!L&&P||!k)return-1}return 0}},9664:(S,U,p)=>{var _=p(5400);S.exports=function C(M,A,w){for(var T=-1,P=M.criteria,I=A.criteria,L=P.length,F=w.length;++T<L;){var k=_(P[T],I[T]);if(k)return T>=F?k:k*("desc"==w[T]?-1:1)}return M.index-A.index}},4231:S=>{S.exports=function U(p,_){var C=-1,M=p.length;for(_||(_=Array(M));++C<M;)_[C]=p[C];return _}},5931:(S,U,p)=>{var _=p(9553),C=p(1741);S.exports=function M(A,w,T,P){var I=!T;T||(T={});for(var L=-1,F=w.length;++L<F;){var k=w[L],V=P?P(T[k],A[k],k,T,A):void 0;void 0===V&&(V=A[k]),I?C(T,k,V):_(T,k,V)}return T}},9385:(S,U,p)=>{var _=p(5931),C=p(771);S.exports=function M(A,w){return _(A,C(A),w)}},4354:(S,U,p)=>{var _=p(5931),C=p(708);S.exports=function M(A,w){return _(A,C(A),w)}},6189:(S,U,p)=>{var _=p(8492);S.exports=_["__core-js_shared__"]},1300:(S,U,p)=>{var _=p(8951),C=p(3817);S.exports=function M(A){return _(function(w,T){var P=-1,I=T.length,L=I>1?T[I-1]:void 0,F=I>2?T[2]:void 0;for(L=A.length>3&&"function"==typeof L?(I--,L):void 0,F&&C(T[0],T[1],F)&&(L=I<3?void 0:L,I=1),w=Object(w);++P<I;){var k=T[P];k&&A(w,k,P,L)}return w})}},9386:(S,U,p)=>{var _=p(2447);S.exports=function C(M,A){return function(w,T){if(null==w)return w;if(!_(w))return M(w,T);for(var P=w.length,I=A?P:-1,L=Object(w);(A?I--:++I<P)&&!1!==T(L[I],I,L););return w}}},2086:S=>{S.exports=function U(p){return function(_,C,M){for(var A=-1,w=Object(_),T=M(_),P=T.length;P--;){var I=T[p?P:++A];if(!1===C(w[I],I,w))break}return _}}},6738:(S,U,p)=>{var _=p(1627),C=p(2447),M=p(4614);S.exports=function A(w){return function(T,P,I){var L=Object(T);if(!C(T)){var F=_(P,3);T=M(T),P=function(V){return F(L[V],V,L)}}var k=w(T,P,I);return k>-1?L[F?T[k]:k]:void 0}}},4222:(S,U,p)=>{var _=p(9948),C=p(3817),M=p(9292);S.exports=function A(w){return function(T,P,I){return I&&"number"!=typeof I&&C(T,P,I)&&(P=I=void 0),T=M(T),void 0===P?(P=T,T=0):P=M(P),I=void 0===I?T<P?1:-1:M(I),_(T,P,I,w)}}},8433:(S,U,p)=>{var _=p(1732),C=p(4249),M=p(8e3),w=_&&1/M(new _([,-0]))[1]==1/0?function(T){return new _(T)}:C;S.exports=w},9383:(S,U,p)=>{var _=p(8745),C=function(){try{var M=_(Object,"defineProperty");return M({},"",{}),M}catch{}}();S.exports=C},7469:(S,U,p)=>{var _=p(5960),C=p(5916),M=p(4795);S.exports=function T(P,I,L,F,k,V){var X=1&L,J=P.length,Te=I.length;if(J!=Te&&!(X&&Te>J))return!1;var ve=V.get(P),oe=V.get(I);if(ve&&oe)return ve==I&&oe==P;var ye=-1,me=!0,xe=2&L?new _:void 0;for(V.set(P,I),V.set(I,P);++ye<J;){var Se=P[ye],ke=I[ye];if(F)var Xe=X?F(ke,Se,ye,I,P,V):F(Se,ke,ye,P,I,V);if(void 0!==Xe){if(Xe)continue;me=!1;break}if(xe){if(!C(I,function(We,st){if(!M(xe,st)&&(Se===We||k(Se,We,L,F,V)))return xe.push(st)})){me=!1;break}}else if(Se!==ke&&!k(Se,ke,L,F,V)){me=!1;break}}return V.delete(P),V.delete(I),me}},1642:(S,U,p)=>{var _=p(1763),C=p(2760),M=p(7826),A=p(7469),w=p(1575),T=p(8e3),xe=_?_.prototype:void 0,Se=xe?xe.valueOf:void 0;S.exports=function ke(Xe,We,st,ot,at,ft,Nt){switch(st){case"[object DataView]":if(Xe.byteLength!=We.byteLength||Xe.byteOffset!=We.byteOffset)return!1;Xe=Xe.buffer,We=We.buffer;case"[object ArrayBuffer]":return!(Xe.byteLength!=We.byteLength||!ft(new C(Xe),new C(We)));case"[object Boolean]":case"[object Date]":case"[object Number]":return M(+Xe,+We);case"[object Error]":return Xe.name==We.name&&Xe.message==We.message;case"[object RegExp]":case"[object String]":return Xe==We+"";case"[object Map]":var Vt=w;case"[object Set]":if(Vt||(Vt=T),Xe.size!=We.size&&!(1&ot))return!1;var kn=Nt.get(Xe);if(kn)return kn==We;ot|=2,Nt.set(Xe,We);var Jt=A(Vt(Xe),Vt(We),ot,at,ft,Nt);return Nt.delete(Xe),Jt;case"[object Symbol]":if(Se)return Se.call(Xe)==Se.call(We)}return!1}},9462:(S,U,p)=>{var _=p(6131),A=Object.prototype.hasOwnProperty;S.exports=function w(T,P,I,L,F,k){var V=1&I,X=_(T),J=X.length;if(J!=_(P).length&&!V)return!1;for(var oe=J;oe--;){var ye=X[oe];if(!(V?ye in P:A.call(P,ye)))return!1}var me=k.get(T),xe=k.get(P);if(me&&xe)return me==P&&xe==T;var Se=!0;k.set(T,P),k.set(P,T);for(var ke=V;++oe<J;){var Xe=T[ye=X[oe]],We=P[ye];if(L)var st=V?L(We,Xe,ye,P,T,k):L(Xe,We,ye,T,P,k);if(!(void 0===st?Xe===We||F(Xe,We,I,L,k):st)){Se=!1;break}ke||(ke="constructor"==ye)}if(Se&&!ke){var ot=T.constructor,at=P.constructor;ot!=at&&"constructor"in T&&"constructor"in P&&!("function"==typeof ot&&ot instanceof ot&&"function"==typeof at&&at instanceof at)&&(Se=!1)}return k.delete(T),k.delete(P),Se}},6801:(S,U,p)=>{var _=p(9336),C=p(2394),M=p(6814);S.exports=function A(w){return M(C(w,void 0,_),w+"")}},248:S=>{var U="object"==typeof global&&global&&global.Object===Object&&global;S.exports=U},6131:(S,U,p)=>{var _=p(7427),C=p(771),M=p(4614);S.exports=function A(w){return _(w,M,C)}},2442:(S,U,p)=>{var _=p(7427),C=p(708),M=p(6402);S.exports=function A(w){return _(w,M,C)}},4113:(S,U,p)=>{var _=p(29);S.exports=function C(M,A){var w=M.__data__;return _(A)?w["string"==typeof A?"string":"hash"]:w.map}},7895:(S,U,p)=>{var _=p(3921),C=p(4614);S.exports=function M(A){for(var w=C(A),T=w.length;T--;){var P=w[T],I=A[P];w[T]=[P,I,_(I)]}return w}},8745:(S,U,p)=>{var _=p(1082),C=p(1015);S.exports=function M(A,w){var T=C(A,w);return _(T)?T:void 0}},6186:(S,U,p)=>{var C=p(3106)(Object.getPrototypeOf,Object);S.exports=C},5933:(S,U,p)=>{var _=p(1763),C=Object.prototype,M=C.hasOwnProperty,A=C.toString,w=_?_.toStringTag:void 0;S.exports=function T(P){var I=M.call(P,w),L=P[w];try{P[w]=void 0;var F=!0}catch{}var k=A.call(P);return F&&(I?P[w]=L:delete P[w]),k}},771:(S,U,p)=>{var _=p(2134),C=p(1315),A=Object.prototype.propertyIsEnumerable,w=Object.getOwnPropertySymbols;S.exports=w?function(P){return null==P?[]:(P=Object(P),_(w(P),function(I){return A.call(P,I)}))}:C},708:(S,U,p)=>{var _=p(7853),C=p(6186),M=p(771),A=p(1315);S.exports=Object.getOwnPropertySymbols?function(P){for(var I=[];P;)_(I,M(P)),P=C(P);return I}:A},2472:(S,U,p)=>{var _=p(6506),C=p(1136),M=p(641),A=p(1732),w=p(6413),T=p(4590),P=p(7075),I="[object Map]",F="[object Promise]",k="[object Set]",V="[object WeakMap]",X="[object DataView]",J=P(_),Te=P(C),ve=P(M),oe=P(A),ye=P(w),me=T;(_&&me(new _(new ArrayBuffer(1)))!=X||C&&me(new C)!=I||M&&me(M.resolve())!=F||A&&me(new A)!=k||w&&me(new w)!=V)&&(me=function(xe){var Se=T(xe),ke="[object Object]"==Se?xe.constructor:void 0,Xe=ke?P(ke):"";if(Xe)switch(Xe){case J:return X;case Te:return I;case ve:return F;case oe:return k;case ye:return V}return Se}),S.exports=me},1015:S=>{S.exports=function U(p,_){return p?.[_]}},4583:(S,U,p)=>{var _=p(4826),C=p(1955),M=p(2261),A=p(5188),w=p(7765),T=p(8916);S.exports=function P(I,L,F){for(var k=-1,V=(L=_(L,I)).length,X=!1;++k<V;){var J=T(L[k]);if(!(X=null!=I&&F(I,J)))break;I=I[J]}return X||++k!=V?X:!!(V=null==I?0:I.length)&&w(V)&&A(J,V)&&(M(I)||C(I))}},3687:S=>{var T=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");S.exports=function P(I){return T.test(I)}},5602:(S,U,p)=>{var _=p(893);S.exports=function C(){this.__data__=_?_(null):{},this.size=0}},1499:S=>{S.exports=function U(p){var _=this.has(p)&&delete this.__data__[p];return this.size-=_?1:0,_}},2990:(S,U,p)=>{var _=p(893),A=Object.prototype.hasOwnProperty;S.exports=function w(T){var P=this.__data__;if(_){var I=P[T];return"__lodash_hash_undefined__"===I?void 0:I}return A.call(P,T)?P[T]:void 0}},480:(S,U,p)=>{var _=p(893),M=Object.prototype.hasOwnProperty;S.exports=function A(w){var T=this.__data__;return _?void 0!==T[w]:M.call(T,w)}},4469:(S,U,p)=>{var _=p(893);S.exports=function M(A,w){var T=this.__data__;return this.size+=this.has(A)?0:1,T[A]=_&&void 0===w?"__lodash_hash_undefined__":w,this}},9431:S=>{var p=Object.prototype.hasOwnProperty;S.exports=function _(C){var M=C.length,A=new C.constructor(M);return M&&"string"==typeof C[0]&&p.call(C,"index")&&(A.index=C.index,A.input=C.input),A}},514:(S,U,p)=>{var _=p(2355),C=p(6693),M=p(497),A=p(3330),w=p(2501);S.exports=function st(ot,at,ft){var Nt=ot.constructor;switch(at){case"[object ArrayBuffer]":return _(ot);case"[object Boolean]":case"[object Date]":return new Nt(+ot);case"[object DataView]":return C(ot,ft);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return w(ot,ft);case"[object Map]":case"[object Set]":return new Nt;case"[object Number]":case"[object String]":return new Nt(ot);case"[object RegExp]":return M(ot);case"[object Symbol]":return A(ot)}}},9225:(S,U,p)=>{var _=p(1391),C=p(6186),M=p(6587);S.exports=function A(w){return"function"!=typeof w.constructor||M(w)?{}:_(C(w))}},2241:(S,U,p)=>{var _=p(1763),C=p(1955),M=p(2261),A=_?_.isConcatSpreadable:void 0;S.exports=function w(T){return M(T)||C(T)||!!(A&&T&&T[A])}},5188:S=>{var p=/^(?:0|[1-9]\d*)$/;S.exports=function _(C,M){var A=typeof C;return!!(M=M??9007199254740991)&&("number"==A||"symbol"!=A&&p.test(C))&&C>-1&&C%1==0&&C<M}},3817:(S,U,p)=>{var _=p(7826),C=p(2447),M=p(5188),A=p(9794);S.exports=function w(T,P,I){if(!A(I))return!1;var L=typeof P;return!!("number"==L?C(I)&&M(P,I.length):"string"==L&&P in I)&&_(I[P],T)}},6300:(S,U,p)=>{var _=p(2261),C=p(3423),M=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,A=/^\w*$/;S.exports=function w(T,P){if(_(T))return!1;var I=typeof T;return!("number"!=I&&"symbol"!=I&&"boolean"!=I&&null!=T&&!C(T))||A.test(T)||!M.test(T)||null!=P&&T in Object(P)}},29:S=>{S.exports=function U(p){var _=typeof p;return"string"==_||"number"==_||"symbol"==_||"boolean"==_?"__proto__"!==p:null===p}},9950:(S,U,p)=>{var A,_=p(6189),C=(A=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"";S.exports=function M(A){return!!C&&C in A}},6587:S=>{var U=Object.prototype;S.exports=function p(_){var C=_&&_.constructor;return _===("function"==typeof C&&C.prototype||U)}},3921:(S,U,p)=>{var _=p(9794);S.exports=function C(M){return M==M&&!_(M)}},9365:S=>{S.exports=function U(){this.__data__=[],this.size=0}},9343:(S,U,p)=>{var _=p(4056),M=Array.prototype.splice;S.exports=function A(w){var T=this.__data__,P=_(T,w);return!(P<0||(P==T.length-1?T.pop():M.call(T,P,1),--this.size,0))}},4779:(S,U,p)=>{var _=p(4056);S.exports=function C(M){var A=this.__data__,w=_(A,M);return w<0?void 0:A[w][1]}},1509:(S,U,p)=>{var _=p(4056);S.exports=function C(M){return _(this.__data__,M)>-1}},7137:(S,U,p)=>{var _=p(4056);S.exports=function C(M,A){var w=this.__data__,T=_(w,M);return T<0?(++this.size,w.push([M,A])):w[T][1]=A,this}},3413:(S,U,p)=>{var _=p(9618),C=p(3597),M=p(1136);S.exports=function A(){this.size=0,this.__data__={hash:new _,map:new(M||C),string:new _}}},5419:(S,U,p)=>{var _=p(4113);S.exports=function C(M){var A=_(this,M).delete(M);return this.size-=A?1:0,A}},7253:(S,U,p)=>{var _=p(4113);S.exports=function C(M){return _(this,M).get(M)}},1115:(S,U,p)=>{var _=p(4113);S.exports=function C(M){return _(this,M).has(M)}},6648:(S,U,p)=>{var _=p(4113);S.exports=function C(M,A){var w=_(this,M),T=w.size;return w.set(M,A),this.size+=w.size==T?0:1,this}},1575:S=>{S.exports=function U(p){var _=-1,C=Array(p.size);return p.forEach(function(M,A){C[++_]=[A,M]}),C}},2265:S=>{S.exports=function U(p,_){return function(C){return null!=C&&C[p]===_&&(void 0!==_||p in Object(C))}}},7371:(S,U,p)=>{var _=p(7659);S.exports=function M(A){var w=_(A,function(P){return 500===T.size&&T.clear(),P}),T=w.cache;return w}},893:(S,U,p)=>{var C=p(8745)(Object,"create");S.exports=C},366:(S,U,p)=>{var C=p(3106)(Object.keys,Object);S.exports=C},8981:S=>{S.exports=function U(p){var _=[];if(null!=p)for(var C in Object(p))_.push(C);return _}},8849:(S,U,p)=>{S=p.nmd(S);var _=p(248),C=U&&!U.nodeType&&U,M=C&&S&&!S.nodeType&&S,w=M&&M.exports===C&&_.process,T=function(){try{return M&&M.require&&M.require("util").types||w&&w.binding&&w.binding("util")}catch{}}();S.exports=T},9243:S=>{var p=Object.prototype.toString;S.exports=function _(C){return p.call(C)}},3106:S=>{S.exports=function U(p,_){return function(C){return p(_(C))}}},2394:(S,U,p)=>{var _=p(7910),C=Math.max;S.exports=function M(A,w,T){return w=C(void 0===w?A.length-1:w,0),function(){for(var P=arguments,I=-1,L=C(P.length-w,0),F=Array(L);++I<L;)F[I]=P[w+I];I=-1;for(var k=Array(w+1);++I<w;)k[I]=P[I];return k[w]=T(F),_(A,this,k)}}},8492:(S,U,p)=>{var _=p(248),C="object"==typeof self&&self&&self.Object===Object&&self,M=_||C||Function("return this")();S.exports=M},7524:S=>{S.exports=function U(p,_){if(("constructor"!==_||"function"!=typeof p[_])&&"__proto__"!=_)return p[_]}},6151:S=>{S.exports=function p(_){return this.__data__.set(_,"__lodash_hash_undefined__"),this}},2154:S=>{S.exports=function U(p){return this.__data__.has(p)}},8e3:S=>{S.exports=function U(p){var _=-1,C=Array(p.size);return p.forEach(function(M){C[++_]=M}),C}},6814:(S,U,p)=>{var _=p(8235),M=p(9531)(_);S.exports=M},9531:S=>{var _=Date.now;S.exports=function C(M){var A=0,w=0;return function(){var T=_(),P=16-(T-w);if(w=T,P>0){if(++A>=800)return arguments[0]}else A=0;return M.apply(void 0,arguments)}}},9488:(S,U,p)=>{var _=p(3597);S.exports=function C(){this.__data__=new _,this.size=0}},5943:S=>{S.exports=function U(p){var _=this.__data__,C=_.delete(p);return this.size=_.size,C}},5456:S=>{S.exports=function U(p){return this.__data__.get(p)}},4793:S=>{S.exports=function U(p){return this.__data__.has(p)}},8689:(S,U,p)=>{var _=p(3597),C=p(1136),M=p(1811);S.exports=function w(T,P){var I=this.__data__;if(I instanceof _){var L=I.__data__;if(!C||L.length<199)return L.push([T,P]),this.size=++I.size,this;I=this.__data__=new M(L)}return I.set(T,P),this.size=I.size,this}},2528:S=>{S.exports=function U(p,_,C){for(var M=C-1,A=p.length;++M<A;)if(p[M]===_)return M;return-1}},7339:(S,U,p)=>{var _=p(6181),C=p(3687),M=p(9164);S.exports=function A(w){return C(w)?M(w):_(w)}},163:(S,U,p)=>{var _=p(7371),C=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,M=/\\(\\)?/g,A=_(function(w){var T=[];return 46===w.charCodeAt(0)&&T.push(""),w.replace(C,function(P,I,L,F){T.push(L?F.replace(M,"$1"):I||P)}),T});S.exports=A},8916:(S,U,p)=>{var _=p(3423);S.exports=function M(A){if("string"==typeof A||_(A))return A;var w=A+"";return"0"==w&&1/A==-1/0?"-0":w}},7075:S=>{var p=Function.prototype.toString;S.exports=function _(C){if(null!=C){try{return p.call(C)}catch{}try{return C+""}catch{}}return""}},1781:S=>{var U=/\s/;S.exports=function p(_){for(var C=_.length;C--&&U.test(_.charAt(C)););return C}},9164:S=>{var U="\\ud800-\\udfff",w="["+U+"]",T="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",P="\\ud83c[\\udffb-\\udfff]",L="[^"+U+"]",F="(?:\\ud83c[\\udde6-\\uddff]){2}",k="[\\ud800-\\udbff][\\udc00-\\udfff]",X="(?:"+T+"|"+P+")?",J="[\\ufe0e\\ufe0f]?",ve=J+X+"(?:\\u200d(?:"+[L,F,k].join("|")+")"+J+X+")*",oe="(?:"+[L+T+"?",T,F,k,w].join("|")+")",ye=RegExp(P+"(?="+P+")|"+oe+ve,"g");S.exports=function me(xe){for(var Se=ye.lastIndex=0;ye.test(xe);)++Se;return Se}},8734:(S,U,p)=>{var _=p(1320);S.exports=function M(A){return _(A,4)}},4451:(S,U,p)=>{var _=p(1320);S.exports=function A(w){return _(w,5)}},1075:S=>{S.exports=function U(p){return function(){return p}}},5433:(S,U,p)=>{var _=p(8951),C=p(7826),M=p(3817),A=p(6402),w=Object.prototype,T=w.hasOwnProperty,P=_(function(I,L){I=Object(I);var F=-1,k=L.length,V=k>2?L[2]:void 0;for(V&&M(L[0],L[1],V)&&(k=1);++F<k;)for(var X=L[F],J=A(X),Te=-1,ve=J.length;++Te<ve;){var oe=J[Te],ye=I[oe];(void 0===ye||C(ye,w[oe])&&!T.call(I,oe))&&(I[oe]=X[oe])}return I});S.exports=P},6488:(S,U,p)=>{S.exports=p(7170)},7826:S=>{S.exports=function U(p,_){return p===_||p!=p&&_!=_}},7661:(S,U,p)=>{var _=p(2134),C=p(1892),M=p(1627),A=p(2261);S.exports=function w(T,P){return(A(T)?_:C)(T,M(P,3))}},6177:(S,U,p)=>{var M=p(6738)(p(1904));S.exports=M},1904:(S,U,p)=>{var _=p(4051),C=p(1627),M=p(481),A=Math.max;S.exports=function w(T,P,I){var L=null==T?0:T.length;if(!L)return-1;var F=null==I?0:M(I);return F<0&&(F=A(L+F,0)),_(T,C(P,3),F)}},9336:(S,U,p)=>{var _=p(1883);S.exports=function C(M){return null!=M&&M.length?_(M,1):[]}},7170:(S,U,p)=>{var _=p(7772),C=p(5103),M=p(4655),A=p(2261);S.exports=function w(T,P){return(A(T)?_:C)(T,M(P))}},1658:(S,U,p)=>{var _=p(6483),C=p(4655),M=p(6402);S.exports=function A(w,T){return null==w?w:_(w,C(T),M)}},5440:(S,U,p)=>{var _=p(2202);S.exports=function C(M,A,w){var T=null==M?void 0:_(M,A);return void 0===T?w:T}},8669:(S,U,p)=>{var _=p(4493),C=p(4583);S.exports=function M(A,w){return null!=A&&C(A,w,_)}},2494:(S,U,p)=>{var _=p(3274),C=p(4583);S.exports=function M(A,w){return null!=A&&C(A,w,_)}},5657:S=>{S.exports=function U(p){return p}},1955:(S,U,p)=>{var _=p(3022),C=p(3714),M=Object.prototype,A=M.hasOwnProperty,w=M.propertyIsEnumerable,T=_(function(){return arguments}())?_:function(P){return C(P)&&A.call(P,"callee")&&!w.call(P,"callee")};S.exports=T},2261:S=>{S.exports=Array.isArray},2447:(S,U,p)=>{var _=p(6861),C=p(7765);S.exports=function M(A){return null!=A&&C(A.length)&&!_(A)}},3471:(S,U,p)=>{var _=p(2447),C=p(3714);S.exports=function M(A){return C(A)&&_(A)}},7525:(S,U,p)=>{S=p.nmd(S);var _=p(8492),C=p(5706),M=U&&!U.nodeType&&U,A=M&&S&&!S.nodeType&&S,T=A&&A.exports===M?_.Buffer:void 0;S.exports=(T?T.isBuffer:void 0)||C},5350:(S,U,p)=>{var _=p(190),C=p(2472),M=p(1955),A=p(2261),w=p(2447),T=p(7525),P=p(6587),I=p(4868),V=Object.prototype.hasOwnProperty;S.exports=function X(J){if(null==J)return!0;if(w(J)&&(A(J)||"string"==typeof J||"function"==typeof J.splice||T(J)||I(J)||M(J)))return!J.length;var Te=C(J);if("[object Map]"==Te||"[object Set]"==Te)return!J.size;if(P(J))return!_(J).length;for(var ve in J)if(V.call(J,ve))return!1;return!0}},6861:(S,U,p)=>{var _=p(4590),C=p(9794);S.exports=function P(I){if(!C(I))return!1;var L=_(I);return"[object Function]"==L||"[object GeneratorFunction]"==L||"[object AsyncFunction]"==L||"[object Proxy]"==L}},7765:S=>{S.exports=function p(_){return"number"==typeof _&&_>-1&&_%1==0&&_<=9007199254740991}},990:(S,U,p)=>{var _=p(8562),C=p(5249),M=p(8849),A=M&&M.isMap,w=A?C(A):_;S.exports=w},9794:S=>{S.exports=function U(p){var _=typeof p;return null!=p&&("object"==_||"function"==_)}},3714:S=>{S.exports=function U(p){return null!=p&&"object"==typeof p}},8168:(S,U,p)=>{var _=p(4590),C=p(6186),M=p(3714),P=Function.prototype.toString,I=Object.prototype.hasOwnProperty,L=P.call(Object);S.exports=function F(k){if(!M(k)||"[object Object]"!=_(k))return!1;var V=C(k);if(null===V)return!0;var X=I.call(V,"constructor")&&V.constructor;return"function"==typeof X&&X instanceof X&&P.call(X)==L}},8611:(S,U,p)=>{var _=p(1202),C=p(5249),M=p(8849),A=M&&M.isSet,w=A?C(A):_;S.exports=w},2164:(S,U,p)=>{var _=p(4590),C=p(2261),M=p(3714);S.exports=function w(T){return"string"==typeof T||!C(T)&&M(T)&&"[object String]"==_(T)}},3423:(S,U,p)=>{var _=p(4590),C=p(3714);S.exports=function A(w){return"symbol"==typeof w||C(w)&&"[object Symbol]"==_(w)}},4868:(S,U,p)=>{var _=p(8902),C=p(5249),M=p(8849),A=M&&M.isTypedArray,w=A?C(A):_;S.exports=w},8152:S=>{S.exports=function U(p){return void 0===p}},4614:(S,U,p)=>{var _=p(1384),C=p(190),M=p(2447);S.exports=function A(w){return M(w)?_(w):C(w)}},6402:(S,U,p)=>{var _=p(1384),C=p(7673),M=p(2447);S.exports=function A(w){return M(w)?_(w,!0):C(w)}},2819:S=>{S.exports=function U(p){var _=null==p?0:p.length;return _?p[_-1]:void 0}},8921:(S,U,p)=>{var _=p(3880),C=p(1627),M=p(2839),A=p(2261);S.exports=function w(T,P){return(A(T)?_:M)(T,C(P,3))}},6054:(S,U,p)=>{var _=p(1741),C=p(7794),M=p(1627);S.exports=function A(w,T){var P={};return T=M(T,3),C(w,function(I,L,F){_(P,L,T(I,L,F))}),P}},5664:(S,U,p)=>{var _=p(4530),C=p(8444),M=p(5657);S.exports=function A(w){return w&&w.length?_(w,M,C):void 0}},7659:(S,U,p)=>{var _=p(1811);function M(A,w){if("function"!=typeof A||null!=w&&"function"!=typeof w)throw new TypeError("Expected a function");var T=function(){var P=arguments,I=w?w.apply(this,P):P[0],L=T.cache;if(L.has(I))return L.get(I);var F=A.apply(this,P);return T.cache=L.set(I,F)||L,F};return T.cache=new(M.Cache||_),T}M.Cache=_,S.exports=M},2213:(S,U,p)=>{var _=p(3294),M=p(1300)(function(A,w,T){_(A,w,T)});S.exports=M},1007:(S,U,p)=>{var _=p(4530),C=p(8898),M=p(5657);S.exports=function A(w){return w&&w.length?_(w,M,C):void 0}},50:(S,U,p)=>{var _=p(4530),C=p(1627),M=p(8898);S.exports=function A(w,T){return w&&w.length?_(w,C(T,2),M):void 0}},4249:S=>{S.exports=function U(){}},5533:(S,U,p)=>{var _=p(8492);S.exports=function(){return _.Date.now()}},7607:(S,U,p)=>{var _=p(2784),M=p(6801)(function(A,w){return null==A?{}:_(A,w)});S.exports=M},2692:(S,U,p)=>{var _=p(3400),C=p(6443),M=p(6300),A=p(8916);S.exports=function w(T){return M(T)?_(A(T)):C(T)}},5953:(S,U,p)=>{var C=p(4222)();S.exports=C},5909:(S,U,p)=>{var _=p(9850),C=p(5103),M=p(1627),A=p(8978),w=p(2261);S.exports=function T(P,I,L){var F=w(P)?_:A,k=arguments.length<3;return F(P,M(I,4),L,k,C)}},5741:(S,U,p)=>{var _=p(190),C=p(2472),M=p(2447),A=p(2164),w=p(7339);S.exports=function I(L){if(null==L)return 0;if(M(L))return A(L)?w(L):L.length;var F=C(L);return"[object Map]"==F||"[object Set]"==F?L.size:_(L).length}},7184:(S,U,p)=>{var _=p(1883),C=p(252),M=p(8951),A=p(3817),w=M(function(T,P){if(null==T)return[];var I=P.length;return I>1&&A(T,P[0],P[1])?P=[]:I>2&&A(P[0],P[1],P[2])&&(P=[P[0]]),C(T,_(P,1),[])});S.exports=w},1315:S=>{S.exports=function U(){return[]}},5706:S=>{S.exports=function U(){return!1}},9292:(S,U,p)=>{var _=p(4282),C=1/0;S.exports=function A(w){return w?(w=_(w))===C||w===-C?17976931348623157e292*(w<0?-1:1):w==w?w:0:0===w?w:0}},481:(S,U,p)=>{var _=p(9292);S.exports=function C(M){var A=_(M),w=A%1;return A==A?w?A-w:A:0}},4282:(S,U,p)=>{var _=p(9484),C=p(9794),M=p(3423),w=/^[-+]0x[0-9a-f]+$/i,T=/^0b[01]+$/i,P=/^0o[0-7]+$/i,I=parseInt;S.exports=function L(F){if("number"==typeof F)return F;if(M(F))return NaN;if(C(F)){var k="function"==typeof F.valueOf?F.valueOf():F;F=C(k)?k+"":k}if("string"!=typeof F)return 0===F?F:+F;F=_(F);var V=T.test(F);return V||P.test(F)?I(F.slice(2),V?2:8):w.test(F)?NaN:+F}},4210:(S,U,p)=>{var _=p(5931),C=p(6402);S.exports=function M(A){return _(A,C(A))}},2674:(S,U,p)=>{var _=p(7002);S.exports=function C(M){return null==M?"":_(M)}},6893:(S,U,p)=>{var _=p(7772),C=p(1391),M=p(7794),A=p(1627),w=p(6186),T=p(2261),P=p(7525),I=p(6861),L=p(9794),F=p(4868);S.exports=function k(V,X,J){var Te=T(V),ve=Te||P(V)||F(V);if(X=A(X,4),null==J){var oe=V&&V.constructor;J=ve?Te?new oe:[]:L(V)&&I(oe)?C(w(V)):{}}return(ve?_:M)(V,function(ye,me,xe){return X(J,ye,me,xe)}),J}},2480:(S,U,p)=>{var _=p(1883),C=p(8951),M=p(9154),A=p(3471),w=C(function(T){return M(_(T,1,A,!0))});S.exports=w},4538:(S,U,p)=>{var _=p(2674),C=0;S.exports=function M(A){var w=++C;return _(A)+w}},8808:(S,U,p)=>{var _=p(6680),C=p(4614);S.exports=function M(A){return null==A?[]:_(A,C(A))}},4606:(S,U,p)=>{var _=p(9553),C=p(2255);S.exports=function M(A,w){return C(A||[],w||[],_)}}},S=>{S(S.s=6078)}]);